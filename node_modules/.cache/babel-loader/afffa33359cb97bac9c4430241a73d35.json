{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/pages/Writer/Wallet/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Button, Card, CardBody, CardTitle, Modal, ModalHeader, ModalBody, ModalFooter, Media, Table } from \"reactstrap\";\nimport { Link } from \"react-router-dom\"; //Import Breadcrumb\n\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"; //i18n\n\nimport { withNamespaces } from \"react-i18next\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\n\nconst Wallet = props => {\n  const [state, setState] = useState({\n    requestStatus: \"\",\n    showAlert: false,\n    accountDetails: []\n  });\n  useEffect(() => {\n    var _props$withdrawalStor, _props$withdrawalStor2, _props$withdrawalStor3, _props$writerStore2, _props$writerStore2$s;\n\n    let status = (_props$withdrawalStor = props.withdrawalStore) === null || _props$withdrawalStor === void 0 ? void 0 : (_props$withdrawalStor2 = _props$withdrawalStor.state) === null || _props$withdrawalStor2 === void 0 ? void 0 : (_props$withdrawalStor3 = _props$withdrawalStor2.sessionData) === null || _props$withdrawalStor3 === void 0 ? void 0 : _props$withdrawalStor3.errorMessage;\n    console.log(status);\n\n    const getWalletData = async () => {\n      var _props$writerStore;\n\n      // fetch user data\n      let userData = await props.userStore.fetchUser(props); // console.log(userData)\n      // fetch account balance\n\n      let account = props === null || props === void 0 ? void 0 : (_props$writerStore = props.writerStore) === null || _props$writerStore === void 0 ? void 0 : _props$writerStore.getWritersAccountBalance(userData === null || userData === void 0 ? void 0 : userData.id, userData === null || userData === void 0 ? void 0 : userData.access_token); // console.log(\"account details\",accountDetails)\n    };\n\n    getWalletData();\n    let accountDetails = props === null || props === void 0 ? void 0 : (_props$writerStore2 = props.writerStore) === null || _props$writerStore2 === void 0 ? void 0 : (_props$writerStore2$s = _props$writerStore2.state) === null || _props$writerStore2$s === void 0 ? void 0 : _props$writerStore2$s.sessionData;\n    console.log(accountDetails);\n    setState({\n      requestStatus: status,\n      accountDetails: accountDetails // showAlert: true\n\n    });\n  }, [state.accountDetails]); // function to send withdrawal request\n\n  const sendRequest = async () => {\n    var _props$userStore, _props$userStore$stat, _props$userStore$stat2, _props$withdrawalStor4;\n\n    setState({\n      showAlert: true\n    });\n    let userData = await (props === null || props === void 0 ? void 0 : (_props$userStore = props.userStore) === null || _props$userStore === void 0 ? void 0 : (_props$userStore$stat = _props$userStore.state) === null || _props$userStore$stat === void 0 ? void 0 : (_props$userStore$stat2 = _props$userStore$stat.sessionData) === null || _props$userStore$stat2 === void 0 ? void 0 : _props$userStore$stat2.user);\n    console.log(userData);\n    let amount = \"20\";\n    let bearertoken = userData === null || userData === void 0 ? void 0 : userData.access_token;\n    console.log(bearertoken);\n    let send = await (props === null || props === void 0 ? void 0 : (_props$withdrawalStor4 = props.withdrawalStore) === null || _props$withdrawalStor4 === void 0 ? void 0 : _props$withdrawalStor4.requestWithdrawal(bearertoken, amount));\n    console.log(send); // accessToken: \"\",\n    //     userId: -1,\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumbs, {\n    title: props.t(\"Wallet\"),\n    breadcrumbItem: props.t(\"Wallet\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), console.log(state.accountDetails), state.showAlert ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, state.requestStatus === \"success\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-info alert-dismissible fade show\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"mdi mdi-alert-circle-outline mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }), \" Withdrawal Request has been submitted successfully!\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, \"\\xD7\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-warning alert-dismissible fade show\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"mdi mdi-alert-circle-outline mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }), \" You don't have sufficient funds in your wallet !\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  })) : '', /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, \"Wallet\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, \"Separate Existence is a myth\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-radio-custom \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"mdi mdi-bitcoin font-size-24 text-warning align-middle mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, \"Balance : \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 38\n    }\n  }, \"$0 \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 23\n    }\n  }, \"Flutterwave is an online payment gateway that allows merchants and banks to accept, manage and process digital Wallet.\", \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn btn-warning waves-effect waves-light\",\n    onClick: sendRequest,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 23\n    }\n  }, \" \", \"Request Withdrawal\"))))))))));\n};\n\nexport default withNamespaces()(stateWrapper(Wallet));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Writer/Wallet/index.js"],"names":["React","useState","useEffect","Container","Row","Col","Button","Card","CardBody","CardTitle","Modal","ModalHeader","ModalBody","ModalFooter","Media","Table","Link","Breadcrumbs","withNamespaces","instance","stateWrapper","Wallet","props","state","setState","requestStatus","showAlert","accountDetails","status","withdrawalStore","sessionData","errorMessage","console","log","getWalletData","userData","userStore","fetchUser","account","writerStore","getWritersAccountBalance","id","access_token","sendRequest","user","amount","bearertoken","send","requestWithdrawal","t"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Card,\n  CardBody,\n  CardTitle,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Media,\n  Table,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\n\n\nconst Wallet = (props) => {\n\n  const [state, setState] = useState({\n    requestStatus: \"\",\n    showAlert: false,\n    accountDetails: []\n  })\n  useEffect(() => {\n\n    let status = props.withdrawalStore?.state?.sessionData?.errorMessage;\n    console.log(status)\n    const getWalletData = async () => {\n\n      // fetch user data\n      let userData = await props.userStore.fetchUser(props);\n      // console.log(userData)\n\n      // fetch account balance\n    let account = props?.writerStore?.getWritersAccountBalance(userData?.id, userData?.access_token);\n      // console.log(\"account details\",accountDetails)\n\n    }\n    getWalletData()\n \n    let accountDetails = props?.writerStore?.state?.sessionData\n    console.log(accountDetails)\n    setState({\n      requestStatus: status,\n      accountDetails:  accountDetails\n      // showAlert: true\n    })\n\n\n    \n  }, [state.accountDetails])\n\n  // function to send withdrawal request\n\n  const sendRequest = async () => {\n    setState({\n      showAlert: true\n    })\n    let userData = await props?.userStore?.state?.sessionData?.user\n    console.log(userData)\n    let amount = \"20\";\n    let bearertoken = userData?.access_token;\n    console.log(bearertoken)\n    let send = await props?.withdrawalStore?.requestWithdrawal(bearertoken, amount);\n    console.log(send)\n\n    // accessToken: \"\",\n    //     userId: -1,\n  }\n\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Wallet\")}\n            breadcrumbItem={props.t(\"Wallet\")}\n          />\n          {console.log(state.accountDetails)}\n\n          {state.showAlert ? (\n\n            <div>\n              { state.requestStatus === \"success\" ? (\n                <div\n                  className=\"alert alert-info alert-dismissible fade show\"\n                  role=\"alert\"\n                >\n                  <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> Withdrawal Request has been submitted successfully!\n                  <button\n                    type=\"button\"\n                    class=\"close\"\n                    data-dismiss=\"alert\"\n                    aria-label=\"Close\"\n                  >\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n              ) : (\n                <div\n                  className=\"alert alert-warning alert-dismissible fade show\"\n                  role=\"alert\"\n                >\n                  <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> You don't have sufficient funds in your wallet !\n                  <button\n                    type=\"button\"\n                    class=\"close\"\n                    data-dismiss=\"alert\"\n                    aria-label=\"Close\"\n                  >\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n              )}\n\n              <div className=\"mb-4\"></div>\n            </div>\n\n          ) : ('')}\n\n\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                  <h5>Wallet</h5>\n                  <p>Separate Existence is a myth</p>\n                  <div className=\"hr\"></div>\n\n                  <div className=\"mb-4\"></div>\n                  <Row>\n                    <Col lg=\"5\">\n                      <div class=\"card-radio-custom \">\n                        <i class=\"mdi mdi-bitcoin font-size-24 text-warning align-middle mr-2\"></i>\n                        <span>\n                          {/* Total Balance : <b>{`$${props.orderStore.state.sessionData.totalBalance}`} </b> */}\n                           Balance : <b>$0 </b>\n\n                        </span>\n                      </div>\n                      <div className=\"mb-4\"></div>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col lg=\"6\">\n                      <p>\n                        Flutterwave is an online payment gateway that allows\n                        merchants and banks to accept, manage and process\n                        digital Wallet.{\" \"}\n                      </p>\n                    </Col>\n                  </Row>\n\n                  <div className=\"mb-4\"></div>\n                  <Row>\n                    <Col lg=\"4\">\n                      <Button\n                        color=\"primary\"\n                        className=\"btn btn-warning waves-effect waves-light\"\n                        onClick={sendRequest}\n                      >\n                        {\" \"}\n                    Request Withdrawal\n                  </Button>\n                    </Col>\n                  </Row>\n\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Wallet));\n"]},"metadata":{},"sourceType":"module"}