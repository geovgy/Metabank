{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Col,Card,CardBody}from\"reactstrap\";import{Link}from\"react-router-dom\";import avatar1 from\"../../assets/images/users/avatar-1.jpg\";import profileImg from\"../../assets/images/profile-img.png\";import{LOCAL_STORAGE_SIGNIN_KEY}from'../../App.constants';import instance from\"../../helpers/axiosly\";import stateWrapper from\"../../containers/provider\";var WelcomeComp=function WelcomeComp(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setusername=_useState2[1];var _useState3=useState({orderList:[],sum:[]}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];useEffect(function(){var userData=props.userStore.fetchUser(props);setusername(userData.first_name);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,res,orders;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=localStorage.getItem(\"token\");_context.next=4;return instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/order\"),{headers:{Authorization:\"Bearer \".concat(token)}});case 4:res=_context.sent;orders=res.data.data.rows;setState(_objectSpread(_objectSpread({},state),{},{orderList:orders.length,sum:orders}));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return _fetchData.apply(this,arguments);}fetchData();//eslint-disable-line\n},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,{className:\"overflow-hidden\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-soft-primary\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-primary p-3\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-primary\"},\"Welcome Back !\"),/*#__PURE__*/React.createElement(\"p\",null,\"AcadWritings Dashboard\"))),/*#__PURE__*/React.createElement(Col,{xs:\"5\",className:\"align-self-end\"},/*#__PURE__*/React.createElement(\"img\",{src:profileImg,alt:\"\",className:\"img-fluid\"})))),/*#__PURE__*/React.createElement(CardBody,{className:\"pt-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar-md profile-user-wid mb-4\"},/*#__PURE__*/React.createElement(\"img\",{src:avatar1,alt:\"\",className:\"img-thumbnail rounded-circle\"})),/*#__PURE__*/React.createElement(\"h5\",{className:\"font-size-15 text-truncate\"},username)),/*#__PURE__*/React.createElement(Col,{sm:\"8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pt-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"6\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"font-size-15\"},state.orderList),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted mb-0\"},\"Orders\")),/*#__PURE__*/React.createElement(Col,{xs:\"6\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"font-size-15\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted mb-0\"},\"Complete Orders\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4\"},/*#__PURE__*/React.createElement(Link,{to:\"/profile\",className:\"btn btn-primary waves-effect waves-light btn-sm\"},\"View Profile \",/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-arrow-right ml-1\"})))))))));};export default stateWrapper(WelcomeComp);","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Dashboard/WelcomeComp.js"],"names":["React","useState","useEffect","Row","Col","Card","CardBody","Link","avatar1","profileImg","LOCAL_STORAGE_SIGNIN_KEY","instance","stateWrapper","WelcomeComp","props","username","setusername","orderList","sum","state","setState","userData","userStore","fetchUser","first_name","fetchData","token","localStorage","getItem","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","res","orders","data","rows","length","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\nimport avatar1 from \"../../assets/images/users/avatar-1.jpg\";\nimport profileImg from \"../../assets/images/profile-img.png\";\nimport {LOCAL_STORAGE_SIGNIN_KEY} from '../../App.constants'\nimport instance from \"../../helpers/axiosly\";\nimport stateWrapper from \"../../containers/provider\";\n\nconst WelcomeComp = (props) => {\n\n    const [username, setusername] = useState(\"\");\n\n    const [state, setState] = useState({\n        orderList: [],\n        sum: []\n      });\n\n    useEffect(() => {\n        let userData = props.userStore.fetchUser(props);\n         setusername(userData.first_name);\n\n\n        async function fetchData(){\n            try {\n              const token = localStorage.getItem(\"token\")\n              const res = await instance\n                .get(`${process.env.REACT_APP_DATABASEURL}/order`, {\n                  headers: {\n                    Authorization: `Bearer ${token}`,\n                  },\n                })\n\n                let orders = res.data.data.rows\n                setState({\n                  ...state,\n                  orderList: orders.length,\n                  sum: orders\n                });\n            } catch (e) {\n              console.log(e);\n            }\n            }\n            fetchData();\n            //eslint-disable-line\n      }, []);\n\n\n\n          return (\n           <React.Fragment>\n                <Card className=\"overflow-hidden\">\n                    <div className=\"bg-soft-primary\">\n                        <Row>\n                            <Col xs=\"7\">\n                                <div className=\"text-primary p-3\">\n                                    <h5 className=\"text-primary\">Welcome Back !</h5>\n                                    <p>AcadWritings Dashboard</p>\n                                </div>\n                            </Col>\n                            <Col xs=\"5\" className=\"align-self-end\">\n                                <img src={profileImg} alt=\"\" className=\"img-fluid\" />\n                            </Col>\n                        </Row>\n                    </div>\n                    <CardBody className=\"pt-0\">\n                        <Row>\n                            <Col sm=\"4\">\n                                <div className=\"avatar-md profile-user-wid mb-4\">\n                                    <img src={avatar1} alt=\"\" className=\"img-thumbnail rounded-circle\" />\n                                </div>\n                                <h5 className=\"font-size-15 text-truncate\">{username}</h5>\n                            </Col>\n\n                            <Col sm=\"8\">\n                                <div className=\"pt-4\">\n                                    <Row>\n                                        <Col xs=\"6\">\n                                            <h5 className=\"font-size-15\">{state.orderList}</h5>\n                                            <p className=\"text-muted mb-0\">Orders</p>\n                                        </Col>\n                                        <Col xs=\"6\">\n                                            <h5 className=\"font-size-15\"></h5>\n                                            <p className=\"text-muted mb-0\">Complete Orders</p>\n                                        </Col>\n                                    </Row>\n                                    <div className=\"mt-4\">\n                                        <Link to=\"/profile\" className=\"btn btn-primary waves-effect waves-light btn-sm\">View Profile <i className=\"mdi mdi-arrow-right ml-1\"></i></Link>\n                                    </div>\n                                </div>\n                            </Col>\n                        </Row>\n                    </CardBody>\n                </Card>\n            </React.Fragment>\n          );\n        }\nexport default stateWrapper(WelcomeComp);\n"]},"metadata":{},"sourceType":"module"}