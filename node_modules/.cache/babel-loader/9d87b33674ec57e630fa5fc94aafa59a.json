{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/routes/middleware/Writermiddleware.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../../App.constants';\nimport { grantPermission } from '../../GrantPermission';\nimport { ROLES } from '../../App.constants';\nimport stateWrapper from '../../containers/provider';\n\nconst HookWrapper = ({\n  roles,\n  path,\n  ...rest\n}) => {\n  var _rest$userStore, _rest$userStore$state;\n\n  // useEffect(() => {}, [rest?.userStore?.state?.writerDom])\n  return /*#__PURE__*/React.createElement(Writermiddleware, Object.assign({}, rest, {\n    path: path,\n    state: rest === null || rest === void 0 ? void 0 : (_rest$userStore = rest.userStore) === null || _rest$userStore === void 0 ? void 0 : (_rest$userStore$state = _rest$userStore.state) === null || _rest$userStore$state === void 0 ? void 0 : _rest$userStore$state.writerDom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }));\n};\n\nfunction Writermiddleware({\n  component: Component,\n  layout: Layout,\n  roles,\n  path,\n  state,\n  ...rest\n}) {\n  var _ref;\n\n  console.log(state, path, \"here was logged\");\n  const showRoutes = !state && path == '/wexam' && /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    //   findWriterExam\n    render: props => /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 5\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 3\n    }\n  }));\n  const showRoutes4 = !state && path == '/wquestion/:id?' && /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    //   findWriterExam\n    render: props => /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 3\n    }\n  }));\n  const showRoutes3 = (_ref = !state && path != '/wexam') !== null && _ref !== void 0 ? _ref : /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: \"/wexam\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 55\n    }\n  });\n  const showRoutes2 = state && /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    //   findWriterExam\n    render: props => /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, grantPermission([ROLES.WRITER]) && showRoutes3, grantPermission([ROLES.WRITER]) && showRoutes2, grantPermission([ROLES.WRITER]) && showRoutes, grantPermission([ROLES.WRITER]) && showRoutes4, !grantPermission([ROLES.WRITER]) && /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: props => /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/login\",\n        state: {\n          from: props.location\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 8\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }\n  })));\n}\n\nexport default withRouter(stateWrapper(HookWrapper));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/routes/middleware/Writermiddleware.js"],"names":["React","useEffect","useState","Route","Redirect","withRouter","LOCAL_STORAGE_SIGNIN_KEY","grantPermission","ROLES","stateWrapper","HookWrapper","roles","path","rest","userStore","state","writerDom","Writermiddleware","component","Component","layout","Layout","console","log","showRoutes","props","showRoutes4","showRoutes3","pathname","showRoutes2","WRITER","from","location"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../../App.constants'\nimport { grantPermission } from '../../GrantPermission'\nimport { ROLES } from '../../App.constants';\nimport stateWrapper from '../../containers/provider';\n\nconst HookWrapper = ({ roles, path, ...rest}) => {\n\t// useEffect(() => {}, [rest?.userStore?.state?.writerDom])\n\treturn <Writermiddleware  {...rest} path={path} state={rest?.userStore?.state?.writerDom}/>\n}\n\nfunction Writermiddleware({\n\tcomponent: Component, layout: Layout, roles, path, state,  ...rest\n}) {\n\tconsole.log(state, path, \"here was logged\");\n\t\n\tconst showRoutes = !state && path == '/wexam'   && (\n\t\t<Route\n\t\t{...rest}\n\t\t//   findWriterExam\n\t\trender={(props) => (\n\t\t\t<Layout>\n\t\t\t\t<Component {...props} />\n\t\t\t</Layout>\n\t\t)}\n\t/>\n\t) \n\n\tconst showRoutes4 = !state && path == '/wquestion/:id?'   && (\n\t\t<Route\n\t\t{...rest}\n\t\t//   findWriterExam\n\t\trender={(props) => (\n\t\t\t<Layout>\n\t\t\t\t<Component {...props} />\n\t\t\t</Layout>\n\t\t)}\n\t/>\n\t) \n\t\n\tconst showRoutes3 = (!state && path != '/wexam' ) ?? <Redirect to={{ pathname: \"/wexam\"  }} /> \n\n\t\n\tconst showRoutes2 = state && (\n\t\t<Route\n\t\t{...rest}\n\t\t//   findWriterExam\n\t\trender={(props) => (\n\t\t\t<Layout>\n\t\t\t\t<Component {...props} />\n\t\t\t</Layout>\n\t\t)}\n\t/>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes3 }\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes2 }\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes }\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes4 }\n\t\t\t{/* { grantPermission([ROLES.WRITER]) && showRoutes3 } */}\n\t\t\t{\n\t\t\t\t!grantPermission([ROLES.WRITER]) && (\n\t\t\t\t\t<Route\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\trender={(props) => (\n\t\t\t\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: props.location } }} />\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t/>\n\n\t\t\t\t)\n\t\t\t}\n\t\t</>\n\t);\n}\n\nexport default withRouter(stateWrapper(HookWrapper));\n\n"]},"metadata":{},"sourceType":"module"}