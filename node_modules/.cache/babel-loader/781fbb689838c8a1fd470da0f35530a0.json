{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/pages/SuperAdmin/SubjectArea/CreateSubjectArea.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Card, CardBody, CardTitle, NavItem, NavLink, Label, Input, Form, FormGroup } from \"reactstrap\";\nimport { Link } from \"react-router-dom\"; // availity-reactstrap-validation\n\nimport { AvForm, AvField, Button } from \"availity-reactstrap-validation\";\nimport instance from \"../../../helpers/axiosly\";\nimport * as _ from \"lodash\";\nimport stateWrapper from \"../../../containers/provider\"; // Pages Components\n// import LatestTranaction from \"./LatestTranaction\";\n//Import Breadcrumb\n\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"; //i18n\n\nimport { withNamespaces } from \"react-i18next\";\n\nconst CreateSubjectArea = props => {\n  const [state, setState] = useState({\n    name: \"\",\n    price: \"\",\n    loading: false\n  });\n  const [updateSubject, setUpdateSubject] = useState(\"\");\n  useEffect(() => {\n    let SubjectareaData, userData;\n    userData = props.userStore.fetchUser(props);\n    SubjectareaData = props.masterStore.fetchSubjectarea(userData.access_token);\n\n    if (props.match.params.id) {\n      setUpdateSubject(\"update\");\n      setState({ ...state,\n        name: currentSubject.map(e => {\n          return e.name;\n        }),\n        price: currentSubject.map(e => {\n          return e.price;\n        })\n      });\n    } else {\n      setState({ ...state,\n        name: '',\n        price: ''\n      });\n    } //eslint-disable-line\n\n  }, []);\n  let subjectareas = props.masterStore.state.sessionData.subjectareaList;\n  let currentSubject = subjectareas.filter(e => e.id === Number(props.match.params.id));\n\n  async function handleSubmit(e) {\n    setState({ ...state,\n      loading: true\n    });\n    let userData;\n    userData = props.userStore.fetchUser(props);\n    e.preventDefault();\n    props.masterStore.addSubjectarea(state, userData.access_token);\n    setTimeout(function () {\n      setState({ ...state,\n        name: \"\",\n        price: \"\",\n        loading: false\n      });\n    }, 2000);\n    setTimeout(function () {\n      props.history.push({\n        pathname: \"/subjectarea\",\n        state: {\n          status: 'created'\n        }\n      });\n    }, 2000);\n  }\n\n  async function handleUpdate(e) {\n    setState({ ...state,\n      loading: true\n    });\n    let userData;\n    userData = props.userStore.fetchUser(props);\n    e.preventDefault();\n    let id = Number(props.match.params.id);\n    props.masterStore.updateSubjectarea(state, userData.access_token, id);\n    setTimeout(function () {\n      setState({ ...state,\n        name: \"\",\n        price: \"\",\n        loading: false\n      });\n    }, 2000);\n    setTimeout(function () {\n      props.history.push({\n        pathname: \"/subjectarea\",\n        state: {\n          status: 'updated'\n        }\n      });\n    }, 2000);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumbs, {\n    title: props.t(\"Subject Areas\"),\n    breadcrumbItem: props.t(\"Create Subject Areas\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, updateSubject === \"\" ? /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 43\n    }\n  }, \"CREATE SUBJECT AREAS\") : /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, \"UPDATE SUBJECT AREAS\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }, \"SUBJECT AREAS\"), /*#__PURE__*/React.createElement(Input, {\n    value: state.name,\n    onChange: e => setState({ ...state,\n      name: e.target.value\n    }),\n    type: \"text\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 29\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(Input, {\n    value: state.price,\n    onChange: e => setState({ ...state,\n      price: e.target.value\n    }),\n    type: \"text\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 29\n    }\n  })))), updateSubject === \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \" \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 26\n    }\n  }, state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-grow text-primary m-1\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 28\n    }\n  }) : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary waves-effect waves-light mx-2\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 27\n    }\n  }, \"Post Subject\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 25\n    }\n  }, state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-grow text-primary m-1\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 28\n    }\n  }) : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary waves-effect waves-light mx-2\",\n    type: \"submit\",\n    onClick: handleUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 27\n    }\n  }, \"Update Subject\"))))))))));\n};\n\nexport default withNamespaces()(stateWrapper(CreateSubjectArea));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/SuperAdmin/SubjectArea/CreateSubjectArea.js"],"names":["React","useState","useEffect","Container","Row","Col","Card","CardBody","CardTitle","NavItem","NavLink","Label","Input","Form","FormGroup","Link","AvForm","AvField","Button","instance","_","stateWrapper","Breadcrumbs","withNamespaces","CreateSubjectArea","props","state","setState","name","price","loading","updateSubject","setUpdateSubject","SubjectareaData","userData","userStore","fetchUser","masterStore","fetchSubjectarea","access_token","match","params","id","currentSubject","map","e","subjectareas","sessionData","subjectareaList","filter","Number","handleSubmit","preventDefault","addSubjectarea","setTimeout","history","push","pathname","status","handleUpdate","updateSubjectarea","t","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardTitle,\n  NavItem,\n  NavLink,\n  Label,\n  Input,\n  Form,\n  FormGroup,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\n// availity-reactstrap-validation\nimport { AvForm, AvField, Button } from \"availity-reactstrap-validation\";\nimport instance from \"../../../helpers/axiosly\";\n\n\n\nimport * as _ from \"lodash\";\nimport stateWrapper from \"../../../containers/provider\";\n\n\n\n// Pages Components\n// import LatestTranaction from \"./LatestTranaction\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\n\nconst CreateSubjectArea = (props) => {\n\n  const [state, setState] = useState({\n    name: \"\",\n    price: \"\",\n    loading: false\n  });\n\n  const[updateSubject, setUpdateSubject] = useState(\"\");\n\n\n  useEffect(() => {\n    let SubjectareaData, userData;\n    userData = props.userStore.fetchUser(props);\n\n    SubjectareaData = props.masterStore.fetchSubjectarea(\n      userData.access_token\n    );\n\n\n    if(props.match.params.id){\n      setUpdateSubject(\"update\")\n        setState({\n        ...state,\n        name: currentSubject.map(e => {return (e.name)}),\n        price: currentSubject.map(e => {return (e.price)})\n        })\n    } else {\n        setState({\n        ...state,\n        name: '',\n        price: ''\n      })\n      }\n\n\n    //eslint-disable-line\n  }, [])\n\n  let subjectareas = props.masterStore.state.sessionData.subjectareaList;\n\n  let currentSubject = subjectareas.filter((e) => e.id === Number(props.match.params.id))\n\n\n  async function handleSubmit(e) {\n    setState({...state,\n      loading: true,\n    });\n    let  userData;\n    userData = props.userStore.fetchUser(props);\n\n\n    e.preventDefault()\n\n    props.masterStore.addSubjectarea(state, userData.access_token)\n\n    setTimeout(function(){\n      setState({...state,\n        name: \"\",\n        price: \"\",\n        loading: false\n      })\n    }, 2000)\n\n    setTimeout(function(){\n      props.history.push({pathname:\"/subjectarea\", state:{status: 'created'}});\n    }, 2000)\n\n}\n\nasync function handleUpdate(e){\n\n  setState({...state,\n    loading: true,\n  });\n  let  userData;\n  userData = props.userStore.fetchUser(props);\n\n  e.preventDefault()\n    let id = Number(props.match.params.id)\n\n    props.masterStore.updateSubjectarea(state, userData.access_token, id)\n    setTimeout(function(){\n      setState({...state,\n        name: \"\",\n        price: \"\",\n        loading: false\n      })\n    }, 2000)\n\n    setTimeout(function(){\n      props.history.push({pathname:\"/subjectarea\", state:{status: 'updated'}});\n    }, 2000)\n}\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Subject Areas\")}\n            breadcrumbItem={props.t(\"Create Subject Areas\")}\n          />\n\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                  {updateSubject === \"\" ? <CardTitle>CREATE SUBJECT AREAS</CardTitle> :\n                    <CardTitle>UPDATE SUBJECT AREAS</CardTitle>\n                  }\n\n                      <form onSubmit={handleSubmit}>\n                      <Row>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label>\n                              SUBJECT AREAS\n                            </Label>\n                            <Input\n                              value={state.name}\n                              onChange={(e) =>\n                                setState({ ...state, name: e.target.value })\n                              }\n                              type=\"text\"\n                              className=\"form-control\"\n\n                            />\n                          </FormGroup>\n                        </Col>\n\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label>\n                              Price\n                            </Label>\n                            <Input\n                              value={state.price}\n                              onChange={(e) =>\n                                setState({ ...state, price: e.target.value })\n                              }\n                              type=\"text\"\n                              className=\"form-control\"\n\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                       {updateSubject === \"\" ? (\n                         <div className=\" \">\n                           {state.loading ? (\n                           <div\n                           className=\"spinner-grow text-primary m-1\"\n                           role=\"status\"\n                         >\n                           {/* <span className=\"sr-only\">Loading...</span> */}\n                         </div>\n                         ): (\n                          <button\n                           type=\"submit\"\n                           className=\"btn btn-primary waves-effect waves-light mx-2\"\n                           type=\"submit\"\n                         >\n                           Post Subject\n                         </button>\n                         )}\n\n                         </div>\n                       ) :\n                       (\n                        <div>\n                          {state.loading ? (\n                           <div\n                           className=\"spinner-grow text-primary m-1\"\n                           role=\"status\"\n                         >\n                           {/* <span className=\"sr-only\">Loading...</span> */}\n                         </div>\n                         ): (\n                          <button\n                          className=\"btn btn-primary waves-effect waves-light mx-2\"\n                          type=\"submit\"\n                          onClick={handleUpdate}\n                        >\n                          Update Subject\n                        </button>\n                         )}\n\n                      </div>\n                       )}\n\n                    </form>\n\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n\n);\n};\n\nexport default withNamespaces()(stateWrapper(CreateSubjectArea));\n"]},"metadata":{},"sourceType":"module"}