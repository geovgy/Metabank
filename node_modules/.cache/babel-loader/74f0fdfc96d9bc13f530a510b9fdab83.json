{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isUndefined = require('lodash/isUndefined');\n\nvar _isUndefined2 = _interopRequireDefault(_isUndefined);\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _get = require('lodash/get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar htmlValidationAttrs = ['min', 'max', 'minLength', 'maxLength', 'pattern', 'required', 'step'];\nvar htmlValidationTypes = ['email', 'date', 'datetime', 'number', 'tel', 'url'];\n\nvar AvBaseInput = function (_Component) {\n  (0, _inherits3.default)(AvBaseInput, _Component);\n\n  function AvBaseInput(props) {\n    (0, _classCallCheck3.default)(this, AvBaseInput);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.state = {\n      value: _this.props.multiple ? [] : ''\n    };\n    _this.validations = {};\n    _this.value = '';\n    _this.onKeyUpHandler = _this.onKeyUpHandler.bind(_this);\n    _this.onInputHandler = _this.onInputHandler.bind(_this);\n    _this.onBlurHandler = _this.onBlurHandler.bind(_this);\n    _this.onFocusHandler = _this.onFocusHandler.bind(_this);\n    _this.onChangeHandler = _this.onChangeHandler.bind(_this);\n    _this.validate = _this.validate.bind(_this);\n    return _this;\n  }\n\n  AvBaseInput.prototype.componentWillMount = function componentWillMount() {\n    this.value = this.props.value || this.getDefaultValue();\n    this.setState({\n      value: this.value\n    });\n    this.updateValidations();\n  };\n\n  AvBaseInput.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.name !== this.props.name) {\n      this.context.FormCtrl.unregister(this);\n    }\n\n    if (nextProps.type === 'checkbox') {\n      if (nextProps.checked !== this.props.checked) {\n        if (nextProps.checked) {\n          this.value = nextProps.trueValue;\n        } else {\n          this.value = nextProps.falseValue;\n        }\n\n        this.setState({\n          value: this.value\n        });\n      }\n    } else {\n      if (nextProps.multiple !== this.props.multiple) {\n        this.value = nextProps.multiple ? [] : '';\n        this.setState({\n          value: this.value\n        });\n      }\n\n      if (nextProps.value !== this.props.value) {\n        this.value = nextProps.value;\n        this.setState({\n          value: nextProps.value\n        });\n      }\n    }\n\n    if (!(0, _isEqual2.default)(nextProps, this.props)) {\n      this.updateValidations(nextProps);\n    }\n  };\n\n  AvBaseInput.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.name !== this.props.name) {\n      this.context.FormCtrl.register(this);\n    }\n  };\n\n  AvBaseInput.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.context.FormCtrl.unregister(this);\n  };\n\n  AvBaseInput.prototype.onKeyUpHandler = function onKeyUpHandler(event) {\n    var badInput = (0, _get2.default)(event, 'target.validity.badInput', false);\n\n    if (badInput !== this.context.FormCtrl.isBad(this.props.name)) {\n      this.context.FormCtrl.setBad(this.props.name, badInput);\n      this.validate();\n    }\n\n    this.props.onKeyUp && this.props.onKeyUp(event);\n  };\n\n  AvBaseInput.prototype.onInputHandler = function onInputHandler(_value) {\n    this.value = this.getFieldValue(_value);\n    this.validateEvent('onInput', _value);\n    !this.context.FormCtrl.isDirty(this.props.name) && this.context.FormCtrl.setDirty(this.props.name);\n  };\n\n  AvBaseInput.prototype.onBlurHandler = function onBlurHandler(_value) {\n    this.value = this.getFieldValue(_value);\n    this.validateEvent('onBlur', _value);\n    !this.context.FormCtrl.isTouched(this.props.name) && this.context.FormCtrl.setTouched(this.props.name);\n  };\n\n  AvBaseInput.prototype.onFocusHandler = function onFocusHandler(_value) {\n    this.value = this.getFieldValue(_value);\n    this.validateEvent('onFocus', _value);\n  };\n\n  AvBaseInput.prototype.onChangeHandler = function onChangeHandler(_value) {\n    this.value = this.getFieldValue(_value);\n    this.validateEvent('onChange', _value);\n    !this.context.FormCtrl.isDirty(this.props.name) && this.context.FormCtrl.setDirty(this.props.name);\n  };\n\n  AvBaseInput.prototype.getDefaultValue = function getDefaultValue() {\n    var defaultValue = '';\n\n    if (this.props.type === 'checkbox' || this.props.type === 'switch') {\n      if (!(0, _isUndefined2.default)(this.props.defaultChecked)) {\n        return this.props.defaultChecked ? this.props.trueValue : this.props.falseValue;\n      }\n\n      defaultValue = this.props.falseValue;\n    }\n\n    if (this.props.type === 'select' && this.props.multiple) {\n      defaultValue = [];\n    }\n\n    var value = this.props.defaultValue || this.context.FormCtrl.getDefaultValue(this.props.name);\n\n    if (this.props.type === 'checkbox' && value !== this.props.trueValue) {\n      value = defaultValue;\n    }\n\n    return (0, _isUndefined2.default)(value) ? defaultValue : value;\n  };\n\n  AvBaseInput.prototype.getFieldValue = function getFieldValue(event) {\n    if (this.props.type === 'checkbox') {\n      return event.target.checked ? this.props.trueValue : this.props.falseValue;\n    }\n\n    if (this.props.type === 'select' && this.props.multiple) {\n      /* // Something about this does not work when transpiled\n      return [...event.target.options]\n        .filter(({ selected }) => selected)\n        .map(({ value }) => value); */\n      var ret = [];\n      var options = event.target.options;\n\n      for (var i = 0; i < options.length; i++) {\n        if (options[i].selected) {\n          ret.push(options[i].value);\n        }\n      }\n\n      return ret;\n    }\n\n    return event && event.target && !(0, _isUndefined2.default)(event.target.value) ? event.target.value : event;\n  };\n\n  AvBaseInput.prototype.getValidationEvent = function getValidationEvent() {\n    var validationEvent = this.props.validationEvent ? this.props.validationEvent : this.context.FormCtrl.getValidationEvent();\n    return Array.isArray(validationEvent) ? validationEvent : [validationEvent];\n  };\n\n  AvBaseInput.prototype.getValidatorProps = function getValidatorProps() {\n    var _this2 = this;\n\n    var validatity = this.context.FormCtrl.getInputState(this.props.name);\n    var htmlValAttrs = (0, _keys2.default)(this.props.validate || {}).filter(function (val) {\n      return htmlValidationAttrs.indexOf(val) > -1;\n    }).reduce(function (result, item) {\n      result[item] = _this2.props.validate[item].value || _this2.props.validate[item];\n      return result;\n    }, {});\n    var newProps = (0, _extends3.default)({\n      onKeyUp: this.onKeyUpHandler,\n      onBlur: this.onBlurHandler,\n      onInput: this.onInputHandler,\n      onFocus: this.onFocusHandler,\n      onChange: this.onChangeHandler,\n      value: this.value\n    }, htmlValAttrs);\n\n    if (this.props.disabled === undefined && this.context.FormCtrl.isDisabled() !== undefined) {\n      newProps.disabled = this.context.FormCtrl.isDisabled();\n    }\n\n    if (this.props.readOnly === undefined && this.context.FormCtrl.isReadOnly() !== undefined) {\n      newProps.readOnly = this.context.FormCtrl.isReadOnly();\n    }\n\n    if (this.props.type === 'checkbox') {\n      newProps.checked = this.value === this.props.trueValue;\n    }\n\n    if (this.props.state || validatity && validatity.errorMessage) {\n      newProps.valid = !(validatity && validatity.errorMessage);\n    }\n\n    return newProps;\n  };\n\n  AvBaseInput.prototype.getValue = function getValue() {\n    return this.value;\n  };\n\n  AvBaseInput.prototype.reset = function reset() {\n    this.value = this.getDefaultValue();\n    this.context.FormCtrl.setDirty(this.props.name, false);\n    this.context.FormCtrl.setTouched(this.props.name, false);\n    this.context.FormCtrl.setBad(this.props.name, false);\n    this.setState({\n      value: this.value\n    });\n    this.validate();\n    this.props.onReset && this.props.onReset(this.value);\n  };\n\n  AvBaseInput.prototype.validateEvent = function validateEvent(eventName, _event) {\n    this.setState({\n      value: this.value\n    });\n\n    if (this.getValidationEvent().indexOf(eventName) > -1) {\n      this.validate();\n    }\n\n    this.props[eventName] && this.props[eventName](_event, this.value);\n  };\n\n  AvBaseInput.prototype.validate = function validate() {\n    this.context.FormCtrl.validate(this.props.name);\n  };\n\n  AvBaseInput.prototype.updateValidations = function updateValidations() {\n    var _this3 = this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n    this.validations = (0, _assign2.default)({}, props.validate);\n\n    if (htmlValidationTypes.indexOf(props.type) > -1) {\n      this.validations[props.type] = this.validations[props.type] || true;\n    }\n\n    (0, _keys2.default)(props).filter(function (val) {\n      return htmlValidationAttrs.indexOf(val) > -1;\n    }).forEach(function (attr) {\n      if (props[attr]) {\n        _this3.validations[attr] = _this3.validations[attr] || {\n          value: props[attr]\n        };\n      } else {\n        delete _this3.validations[attr];\n      }\n    });\n    this.context.FormCtrl && this.context.FormCtrl.register(this);\n    this.validate();\n  };\n\n  return AvBaseInput;\n}(_react.Component);\n\nAvBaseInput.propTypes = {\n  name: _propTypes2.default.string.isRequired,\n  validationEvent: _propTypes2.default.oneOfType([_propTypes2.default.oneOf(['', 'onInput', 'onChange', 'onBlur', 'onFocus']), _propTypes2.default.arrayOf(_propTypes2.default.oneOf(['onInput', 'onChange', 'onBlur', 'onFocus']))]),\n  validate: _propTypes2.default.object,\n  value: _propTypes2.default.any,\n  defaultValue: _propTypes2.default.any,\n  trueValue: _propTypes2.default.any,\n  falseValue: _propTypes2.default.any,\n  checked: _propTypes2.default.bool,\n  defaultChecked: _propTypes2.default.bool,\n  state: _propTypes2.default.bool,\n  type: _propTypes2.default.string,\n  multiple: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  readOnly: _propTypes2.default.bool,\n  onKeyUp: _propTypes2.default.func,\n  onInput: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  onReset: _propTypes2.default.func\n};\nAvBaseInput.contextTypes = {\n  FormCtrl: _propTypes2.default.object.isRequired\n};\nAvBaseInput.defaultProps = {\n  validationEvent: '',\n  validate: {},\n  trueValue: true,\n  falseValue: false\n};\nexports.default = AvBaseInput;","map":{"version":3,"sources":["/Users/mac/metabank/node_modules/availity-reactstrap-validation/lib/AvBaseInput.js"],"names":["exports","__esModule","_assign","require","_assign2","_interopRequireDefault","_extends2","_extends3","_keys","_keys2","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_propTypes","_propTypes2","_isUndefined","_isUndefined2","_isEqual","_isEqual2","_get","_get2","obj","default","htmlValidationAttrs","htmlValidationTypes","AvBaseInput","_Component","props","_this","call","state","value","multiple","validations","onKeyUpHandler","bind","onInputHandler","onBlurHandler","onFocusHandler","onChangeHandler","validate","prototype","componentWillMount","getDefaultValue","setState","updateValidations","componentWillReceiveProps","nextProps","name","context","FormCtrl","unregister","type","checked","trueValue","falseValue","componentDidUpdate","prevProps","register","componentWillUnmount","event","badInput","isBad","setBad","onKeyUp","_value","getFieldValue","validateEvent","isDirty","setDirty","isTouched","setTouched","defaultValue","defaultChecked","target","ret","options","i","length","selected","push","getValidationEvent","validationEvent","Array","isArray","getValidatorProps","_this2","validatity","getInputState","htmlValAttrs","filter","val","indexOf","reduce","result","item","newProps","onBlur","onInput","onFocus","onChange","disabled","undefined","isDisabled","readOnly","isReadOnly","errorMessage","valid","getValue","reset","onReset","eventName","_event","_this3","arguments","forEach","attr","Component","propTypes","string","isRequired","oneOfType","oneOf","arrayOf","object","any","bool","func","contextTypes","defaultProps"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIC,OAAO,GAAGC,OAAO,CAAC,qCAAD,CAArB;;AAEA,IAAIC,QAAQ,GAAGC,sBAAsB,CAACH,OAAD,CAArC;;AAEA,IAAII,SAAS,GAAGH,OAAO,CAAC,+BAAD,CAAvB;;AAEA,IAAII,SAAS,GAAGF,sBAAsB,CAACC,SAAD,CAAtC;;AAEA,IAAIE,KAAK,GAAGL,OAAO,CAAC,mCAAD,CAAnB;;AAEA,IAAIM,MAAM,GAAGJ,sBAAsB,CAACG,KAAD,CAAnC;;AAEA,IAAIE,gBAAgB,GAAGP,OAAO,CAAC,sCAAD,CAA9B;;AAEA,IAAIQ,gBAAgB,GAAGN,sBAAsB,CAACK,gBAAD,CAA7C;;AAEA,IAAIE,2BAA2B,GAAGT,OAAO,CAAC,iDAAD,CAAzC;;AAEA,IAAIU,2BAA2B,GAAGR,sBAAsB,CAACO,2BAAD,CAAxD;;AAEA,IAAIE,UAAU,GAAGX,OAAO,CAAC,gCAAD,CAAxB;;AAEA,IAAIY,UAAU,GAAGV,sBAAsB,CAACS,UAAD,CAAvC;;AAEA,IAAIE,MAAM,GAAGb,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIc,UAAU,GAAGd,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIe,WAAW,GAAGb,sBAAsB,CAACY,UAAD,CAAxC;;AAEA,IAAIE,YAAY,GAAGhB,OAAO,CAAC,oBAAD,CAA1B;;AAEA,IAAIiB,aAAa,GAAGf,sBAAsB,CAACc,YAAD,CAA1C;;AAEA,IAAIE,QAAQ,GAAGlB,OAAO,CAAC,gBAAD,CAAtB;;AAEA,IAAImB,SAAS,GAAGjB,sBAAsB,CAACgB,QAAD,CAAtC;;AAEA,IAAIE,IAAI,GAAGpB,OAAO,CAAC,YAAD,CAAlB;;AAEA,IAAIqB,KAAK,GAAGnB,sBAAsB,CAACkB,IAAD,CAAlC;;AAEA,SAASlB,sBAAT,CAAgCoB,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACxB,UAAX,GAAwBwB,GAAxB,GAA8B;AAAEC,IAAAA,OAAO,EAAED;AAAX,GAArC;AAAwD;;AAE/F,IAAIE,mBAAmB,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,WAAf,EAA4B,WAA5B,EAAyC,SAAzC,EAAoD,UAApD,EAAgE,MAAhE,CAA1B;AAEA,IAAIC,mBAAmB,GAAG,CAAC,OAAD,EAAU,MAAV,EAAkB,UAAlB,EAA8B,QAA9B,EAAwC,KAAxC,EAA+C,KAA/C,CAA1B;;AAEA,IAAIC,WAAW,GAAG,UAAUC,UAAV,EAAsB;AACtC,GAAC,GAAGf,UAAU,CAACW,OAAf,EAAwBG,WAAxB,EAAqCC,UAArC;;AAEA,WAASD,WAAT,CAAqBE,KAArB,EAA4B;AAC1B,KAAC,GAAGpB,gBAAgB,CAACe,OAArB,EAA8B,IAA9B,EAAoCG,WAApC;;AAEA,QAAIG,KAAK,GAAG,CAAC,GAAGnB,2BAA2B,CAACa,OAAhC,EAAyC,IAAzC,EAA+CI,UAAU,CAACG,IAAX,CAAgB,IAAhB,EAAsBF,KAAtB,CAA/C,CAAZ;;AAEAC,IAAAA,KAAK,CAACE,KAAN,GAAc;AAAEC,MAAAA,KAAK,EAAEH,KAAK,CAACD,KAAN,CAAYK,QAAZ,GAAuB,EAAvB,GAA4B;AAArC,KAAd;AACAJ,IAAAA,KAAK,CAACK,WAAN,GAAoB,EAApB;AACAL,IAAAA,KAAK,CAACG,KAAN,GAAc,EAAd;AACAH,IAAAA,KAAK,CAACM,cAAN,GAAuBN,KAAK,CAACM,cAAN,CAAqBC,IAArB,CAA0BP,KAA1B,CAAvB;AACAA,IAAAA,KAAK,CAACQ,cAAN,GAAuBR,KAAK,CAACQ,cAAN,CAAqBD,IAArB,CAA0BP,KAA1B,CAAvB;AACAA,IAAAA,KAAK,CAACS,aAAN,GAAsBT,KAAK,CAACS,aAAN,CAAoBF,IAApB,CAAyBP,KAAzB,CAAtB;AACAA,IAAAA,KAAK,CAACU,cAAN,GAAuBV,KAAK,CAACU,cAAN,CAAqBH,IAArB,CAA0BP,KAA1B,CAAvB;AACAA,IAAAA,KAAK,CAACW,eAAN,GAAwBX,KAAK,CAACW,eAAN,CAAsBJ,IAAtB,CAA2BP,KAA3B,CAAxB;AACAA,IAAAA,KAAK,CAACY,QAAN,GAAiBZ,KAAK,CAACY,QAAN,CAAeL,IAAf,CAAoBP,KAApB,CAAjB;AACA,WAAOA,KAAP;AACD;;AAEDH,EAAAA,WAAW,CAACgB,SAAZ,CAAsBC,kBAAtB,GAA2C,SAASA,kBAAT,GAA8B;AACvE,SAAKX,KAAL,GAAa,KAAKJ,KAAL,CAAWI,KAAX,IAAoB,KAAKY,eAAL,EAAjC;AACA,SAAKC,QAAL,CAAc;AAAEb,MAAAA,KAAK,EAAE,KAAKA;AAAd,KAAd;AACA,SAAKc,iBAAL;AACD,GAJD;;AAMApB,EAAAA,WAAW,CAACgB,SAAZ,CAAsBK,yBAAtB,GAAkD,SAASA,yBAAT,CAAmCC,SAAnC,EAA8C;AAC9F,QAAIA,SAAS,CAACC,IAAV,KAAmB,KAAKrB,KAAL,CAAWqB,IAAlC,EAAwC;AACtC,WAAKC,OAAL,CAAaC,QAAb,CAAsBC,UAAtB,CAAiC,IAAjC;AACD;;AACD,QAAIJ,SAAS,CAACK,IAAV,KAAmB,UAAvB,EAAmC;AACjC,UAAIL,SAAS,CAACM,OAAV,KAAsB,KAAK1B,KAAL,CAAW0B,OAArC,EAA8C;AAC5C,YAAIN,SAAS,CAACM,OAAd,EAAuB;AACrB,eAAKtB,KAAL,GAAagB,SAAS,CAACO,SAAvB;AACD,SAFD,MAEO;AACL,eAAKvB,KAAL,GAAagB,SAAS,CAACQ,UAAvB;AACD;;AACD,aAAKX,QAAL,CAAc;AAAEb,UAAAA,KAAK,EAAE,KAAKA;AAAd,SAAd;AACD;AACF,KATD,MASO;AACL,UAAIgB,SAAS,CAACf,QAAV,KAAuB,KAAKL,KAAL,CAAWK,QAAtC,EAAgD;AAC9C,aAAKD,KAAL,GAAagB,SAAS,CAACf,QAAV,GAAqB,EAArB,GAA0B,EAAvC;AACA,aAAKY,QAAL,CAAc;AAAEb,UAAAA,KAAK,EAAE,KAAKA;AAAd,SAAd;AACD;;AACD,UAAIgB,SAAS,CAAChB,KAAV,KAAoB,KAAKJ,KAAL,CAAWI,KAAnC,EAA0C;AACxC,aAAKA,KAAL,GAAagB,SAAS,CAAChB,KAAvB;AACA,aAAKa,QAAL,CAAc;AAAEb,UAAAA,KAAK,EAAEgB,SAAS,CAAChB;AAAnB,SAAd;AACD;AACF;;AAED,QAAI,CAAC,CAAC,GAAGb,SAAS,CAACI,OAAd,EAAuByB,SAAvB,EAAkC,KAAKpB,KAAvC,CAAL,EAAoD;AAClD,WAAKkB,iBAAL,CAAuBE,SAAvB;AACD;AACF,GA3BD;;AA6BAtB,EAAAA,WAAW,CAACgB,SAAZ,CAAsBe,kBAAtB,GAA2C,SAASA,kBAAT,CAA4BC,SAA5B,EAAuC;AAChF,QAAIA,SAAS,CAACT,IAAV,KAAmB,KAAKrB,KAAL,CAAWqB,IAAlC,EAAwC;AACtC,WAAKC,OAAL,CAAaC,QAAb,CAAsBQ,QAAtB,CAA+B,IAA/B;AACD;AACF,GAJD;;AAMAjC,EAAAA,WAAW,CAACgB,SAAZ,CAAsBkB,oBAAtB,GAA6C,SAASA,oBAAT,GAAgC;AAC3E,SAAKV,OAAL,CAAaC,QAAb,CAAsBC,UAAtB,CAAiC,IAAjC;AACD,GAFD;;AAIA1B,EAAAA,WAAW,CAACgB,SAAZ,CAAsBP,cAAtB,GAAuC,SAASA,cAAT,CAAwB0B,KAAxB,EAA+B;AACpE,QAAIC,QAAQ,GAAG,CAAC,GAAGzC,KAAK,CAACE,OAAV,EAAmBsC,KAAnB,EAA0B,0BAA1B,EAAsD,KAAtD,CAAf;;AACA,QAAIC,QAAQ,KAAK,KAAKZ,OAAL,CAAaC,QAAb,CAAsBY,KAAtB,CAA4B,KAAKnC,KAAL,CAAWqB,IAAvC,CAAjB,EAA+D;AAC7D,WAAKC,OAAL,CAAaC,QAAb,CAAsBa,MAAtB,CAA6B,KAAKpC,KAAL,CAAWqB,IAAxC,EAA8Ca,QAA9C;AACA,WAAKrB,QAAL;AACD;;AACD,SAAKb,KAAL,CAAWqC,OAAX,IAAsB,KAAKrC,KAAL,CAAWqC,OAAX,CAAmBJ,KAAnB,CAAtB;AACD,GAPD;;AASAnC,EAAAA,WAAW,CAACgB,SAAZ,CAAsBL,cAAtB,GAAuC,SAASA,cAAT,CAAwB6B,MAAxB,EAAgC;AACrE,SAAKlC,KAAL,GAAa,KAAKmC,aAAL,CAAmBD,MAAnB,CAAb;AACA,SAAKE,aAAL,CAAmB,SAAnB,EAA8BF,MAA9B;AACA,KAAC,KAAKhB,OAAL,CAAaC,QAAb,CAAsBkB,OAAtB,CAA8B,KAAKzC,KAAL,CAAWqB,IAAzC,CAAD,IAAmD,KAAKC,OAAL,CAAaC,QAAb,CAAsBmB,QAAtB,CAA+B,KAAK1C,KAAL,CAAWqB,IAA1C,CAAnD;AACD,GAJD;;AAMAvB,EAAAA,WAAW,CAACgB,SAAZ,CAAsBJ,aAAtB,GAAsC,SAASA,aAAT,CAAuB4B,MAAvB,EAA+B;AACnE,SAAKlC,KAAL,GAAa,KAAKmC,aAAL,CAAmBD,MAAnB,CAAb;AACA,SAAKE,aAAL,CAAmB,QAAnB,EAA6BF,MAA7B;AACA,KAAC,KAAKhB,OAAL,CAAaC,QAAb,CAAsBoB,SAAtB,CAAgC,KAAK3C,KAAL,CAAWqB,IAA3C,CAAD,IAAqD,KAAKC,OAAL,CAAaC,QAAb,CAAsBqB,UAAtB,CAAiC,KAAK5C,KAAL,CAAWqB,IAA5C,CAArD;AACD,GAJD;;AAMAvB,EAAAA,WAAW,CAACgB,SAAZ,CAAsBH,cAAtB,GAAuC,SAASA,cAAT,CAAwB2B,MAAxB,EAAgC;AACrE,SAAKlC,KAAL,GAAa,KAAKmC,aAAL,CAAmBD,MAAnB,CAAb;AACA,SAAKE,aAAL,CAAmB,SAAnB,EAA8BF,MAA9B;AACD,GAHD;;AAKAxC,EAAAA,WAAW,CAACgB,SAAZ,CAAsBF,eAAtB,GAAwC,SAASA,eAAT,CAAyB0B,MAAzB,EAAiC;AACvE,SAAKlC,KAAL,GAAa,KAAKmC,aAAL,CAAmBD,MAAnB,CAAb;AACA,SAAKE,aAAL,CAAmB,UAAnB,EAA+BF,MAA/B;AACA,KAAC,KAAKhB,OAAL,CAAaC,QAAb,CAAsBkB,OAAtB,CAA8B,KAAKzC,KAAL,CAAWqB,IAAzC,CAAD,IAAmD,KAAKC,OAAL,CAAaC,QAAb,CAAsBmB,QAAtB,CAA+B,KAAK1C,KAAL,CAAWqB,IAA1C,CAAnD;AACD,GAJD;;AAMAvB,EAAAA,WAAW,CAACgB,SAAZ,CAAsBE,eAAtB,GAAwC,SAASA,eAAT,GAA2B;AACjE,QAAI6B,YAAY,GAAG,EAAnB;;AAEA,QAAI,KAAK7C,KAAL,CAAWyB,IAAX,KAAoB,UAApB,IAAkC,KAAKzB,KAAL,CAAWyB,IAAX,KAAoB,QAA1D,EAAoE;AAClE,UAAI,CAAC,CAAC,GAAGpC,aAAa,CAACM,OAAlB,EAA2B,KAAKK,KAAL,CAAW8C,cAAtC,CAAL,EAA4D;AAC1D,eAAO,KAAK9C,KAAL,CAAW8C,cAAX,GAA4B,KAAK9C,KAAL,CAAW2B,SAAvC,GAAmD,KAAK3B,KAAL,CAAW4B,UAArE;AACD;;AACDiB,MAAAA,YAAY,GAAG,KAAK7C,KAAL,CAAW4B,UAA1B;AACD;;AAED,QAAI,KAAK5B,KAAL,CAAWyB,IAAX,KAAoB,QAApB,IAAgC,KAAKzB,KAAL,CAAWK,QAA/C,EAAyD;AACvDwC,MAAAA,YAAY,GAAG,EAAf;AACD;;AAED,QAAIzC,KAAK,GAAG,KAAKJ,KAAL,CAAW6C,YAAX,IAA2B,KAAKvB,OAAL,CAAaC,QAAb,CAAsBP,eAAtB,CAAsC,KAAKhB,KAAL,CAAWqB,IAAjD,CAAvC;;AAEA,QAAI,KAAKrB,KAAL,CAAWyB,IAAX,KAAoB,UAApB,IAAkCrB,KAAK,KAAK,KAAKJ,KAAL,CAAW2B,SAA3D,EAAsE;AACpEvB,MAAAA,KAAK,GAAGyC,YAAR;AACD;;AAED,WAAO,CAAC,GAAGxD,aAAa,CAACM,OAAlB,EAA2BS,KAA3B,IAAoCyC,YAApC,GAAmDzC,KAA1D;AACD,GArBD;;AAuBAN,EAAAA,WAAW,CAACgB,SAAZ,CAAsByB,aAAtB,GAAsC,SAASA,aAAT,CAAuBN,KAAvB,EAA8B;AAClE,QAAI,KAAKjC,KAAL,CAAWyB,IAAX,KAAoB,UAAxB,EAAoC;AAClC,aAAOQ,KAAK,CAACc,MAAN,CAAarB,OAAb,GAAuB,KAAK1B,KAAL,CAAW2B,SAAlC,GAA8C,KAAK3B,KAAL,CAAW4B,UAAhE;AACD;;AAED,QAAI,KAAK5B,KAAL,CAAWyB,IAAX,KAAoB,QAApB,IAAgC,KAAKzB,KAAL,CAAWK,QAA/C,EAAyD;AACvD;AACN;AACA;AACA;AACM,UAAI2C,GAAG,GAAG,EAAV;AACA,UAAIC,OAAO,GAAGhB,KAAK,CAACc,MAAN,CAAaE,OAA3B;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,OAAO,CAACE,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,YAAID,OAAO,CAACC,CAAD,CAAP,CAAWE,QAAf,EAAyB;AACvBJ,UAAAA,GAAG,CAACK,IAAJ,CAASJ,OAAO,CAACC,CAAD,CAAP,CAAW9C,KAApB;AACD;AACF;;AACD,aAAO4C,GAAP;AACD;;AACD,WAAOf,KAAK,IAAIA,KAAK,CAACc,MAAf,IAAyB,CAAC,CAAC,GAAG1D,aAAa,CAACM,OAAlB,EAA2BsC,KAAK,CAACc,MAAN,CAAa3C,KAAxC,CAA1B,GAA2E6B,KAAK,CAACc,MAAN,CAAa3C,KAAxF,GAAgG6B,KAAvG;AACD,GApBD;;AAsBAnC,EAAAA,WAAW,CAACgB,SAAZ,CAAsBwC,kBAAtB,GAA2C,SAASA,kBAAT,GAA8B;AACvE,QAAIC,eAAe,GAAG,KAAKvD,KAAL,CAAWuD,eAAX,GAA6B,KAAKvD,KAAL,CAAWuD,eAAxC,GAA0D,KAAKjC,OAAL,CAAaC,QAAb,CAAsB+B,kBAAtB,EAAhF;AACA,WAAOE,KAAK,CAACC,OAAN,CAAcF,eAAd,IAAiCA,eAAjC,GAAmD,CAACA,eAAD,CAA1D;AACD,GAHD;;AAKAzD,EAAAA,WAAW,CAACgB,SAAZ,CAAsB4C,iBAAtB,GAA0C,SAASA,iBAAT,GAA6B;AACrE,QAAIC,MAAM,GAAG,IAAb;;AAEA,QAAIC,UAAU,GAAG,KAAKtC,OAAL,CAAaC,QAAb,CAAsBsC,aAAtB,CAAoC,KAAK7D,KAAL,CAAWqB,IAA/C,CAAjB;AACA,QAAIyC,YAAY,GAAG,CAAC,GAAGpF,MAAM,CAACiB,OAAX,EAAoB,KAAKK,KAAL,CAAWa,QAAX,IAAuB,EAA3C,EAA+CkD,MAA/C,CAAsD,UAAUC,GAAV,EAAe;AACtF,aAAOpE,mBAAmB,CAACqE,OAApB,CAA4BD,GAA5B,IAAmC,CAAC,CAA3C;AACD,KAFkB,EAEhBE,MAFgB,CAET,UAAUC,MAAV,EAAkBC,IAAlB,EAAwB;AAChCD,MAAAA,MAAM,CAACC,IAAD,CAAN,GAAeT,MAAM,CAAC3D,KAAP,CAAaa,QAAb,CAAsBuD,IAAtB,EAA4BhE,KAA5B,IAAqCuD,MAAM,CAAC3D,KAAP,CAAaa,QAAb,CAAsBuD,IAAtB,CAApD;AACA,aAAOD,MAAP;AACD,KALkB,EAKhB,EALgB,CAAnB;AAOA,QAAIE,QAAQ,GAAG,CAAC,GAAG7F,SAAS,CAACmB,OAAd,EAAuB;AACpC0C,MAAAA,OAAO,EAAE,KAAK9B,cADsB;AAEpC+D,MAAAA,MAAM,EAAE,KAAK5D,aAFuB;AAGpC6D,MAAAA,OAAO,EAAE,KAAK9D,cAHsB;AAIpC+D,MAAAA,OAAO,EAAE,KAAK7D,cAJsB;AAKpC8D,MAAAA,QAAQ,EAAE,KAAK7D,eALqB;AAMpCR,MAAAA,KAAK,EAAE,KAAKA;AANwB,KAAvB,EAOZ0D,YAPY,CAAf;;AASA,QAAI,KAAK9D,KAAL,CAAW0E,QAAX,KAAwBC,SAAxB,IAAqC,KAAKrD,OAAL,CAAaC,QAAb,CAAsBqD,UAAtB,OAAuCD,SAAhF,EAA2F;AACzFN,MAAAA,QAAQ,CAACK,QAAT,GAAoB,KAAKpD,OAAL,CAAaC,QAAb,CAAsBqD,UAAtB,EAApB;AACD;;AAED,QAAI,KAAK5E,KAAL,CAAW6E,QAAX,KAAwBF,SAAxB,IAAqC,KAAKrD,OAAL,CAAaC,QAAb,CAAsBuD,UAAtB,OAAuCH,SAAhF,EAA2F;AACzFN,MAAAA,QAAQ,CAACQ,QAAT,GAAoB,KAAKvD,OAAL,CAAaC,QAAb,CAAsBuD,UAAtB,EAApB;AACD;;AAED,QAAI,KAAK9E,KAAL,CAAWyB,IAAX,KAAoB,UAAxB,EAAoC;AAClC4C,MAAAA,QAAQ,CAAC3C,OAAT,GAAmB,KAAKtB,KAAL,KAAe,KAAKJ,KAAL,CAAW2B,SAA7C;AACD;;AAED,QAAI,KAAK3B,KAAL,CAAWG,KAAX,IAAoByD,UAAU,IAAIA,UAAU,CAACmB,YAAjD,EAA+D;AAC7DV,MAAAA,QAAQ,CAACW,KAAT,GAAiB,EAAEpB,UAAU,IAAIA,UAAU,CAACmB,YAA3B,CAAjB;AACD;;AAED,WAAOV,QAAP;AACD,GArCD;;AAuCAvE,EAAAA,WAAW,CAACgB,SAAZ,CAAsBmE,QAAtB,GAAiC,SAASA,QAAT,GAAoB;AACnD,WAAO,KAAK7E,KAAZ;AACD,GAFD;;AAIAN,EAAAA,WAAW,CAACgB,SAAZ,CAAsBoE,KAAtB,GAA8B,SAASA,KAAT,GAAiB;AAC7C,SAAK9E,KAAL,GAAa,KAAKY,eAAL,EAAb;AACA,SAAKM,OAAL,CAAaC,QAAb,CAAsBmB,QAAtB,CAA+B,KAAK1C,KAAL,CAAWqB,IAA1C,EAAgD,KAAhD;AACA,SAAKC,OAAL,CAAaC,QAAb,CAAsBqB,UAAtB,CAAiC,KAAK5C,KAAL,CAAWqB,IAA5C,EAAkD,KAAlD;AACA,SAAKC,OAAL,CAAaC,QAAb,CAAsBa,MAAtB,CAA6B,KAAKpC,KAAL,CAAWqB,IAAxC,EAA8C,KAA9C;AACA,SAAKJ,QAAL,CAAc;AAAEb,MAAAA,KAAK,EAAE,KAAKA;AAAd,KAAd;AACA,SAAKS,QAAL;AACA,SAAKb,KAAL,CAAWmF,OAAX,IAAsB,KAAKnF,KAAL,CAAWmF,OAAX,CAAmB,KAAK/E,KAAxB,CAAtB;AACD,GARD;;AAUAN,EAAAA,WAAW,CAACgB,SAAZ,CAAsB0B,aAAtB,GAAsC,SAASA,aAAT,CAAuB4C,SAAvB,EAAkCC,MAAlC,EAA0C;AAC9E,SAAKpE,QAAL,CAAc;AAAEb,MAAAA,KAAK,EAAE,KAAKA;AAAd,KAAd;;AACA,QAAI,KAAKkD,kBAAL,GAA0BW,OAA1B,CAAkCmB,SAAlC,IAA+C,CAAC,CAApD,EAAuD;AACrD,WAAKvE,QAAL;AACD;;AACD,SAAKb,KAAL,CAAWoF,SAAX,KAAyB,KAAKpF,KAAL,CAAWoF,SAAX,EAAsBC,MAAtB,EAA8B,KAAKjF,KAAnC,CAAzB;AACD,GAND;;AAQAN,EAAAA,WAAW,CAACgB,SAAZ,CAAsBD,QAAtB,GAAiC,SAASA,QAAT,GAAoB;AACnD,SAAKS,OAAL,CAAaC,QAAb,CAAsBV,QAAtB,CAA+B,KAAKb,KAAL,CAAWqB,IAA1C;AACD,GAFD;;AAIAvB,EAAAA,WAAW,CAACgB,SAAZ,CAAsBI,iBAAtB,GAA0C,SAASA,iBAAT,GAA6B;AACrE,QAAIoE,MAAM,GAAG,IAAb;;AAEA,QAAItF,KAAK,GAAGuF,SAAS,CAACpC,MAAV,GAAmB,CAAnB,IAAwBoC,SAAS,CAAC,CAAD,CAAT,KAAiBZ,SAAzC,GAAqDY,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAKvF,KAArF;AAEA,SAAKM,WAAL,GAAmB,CAAC,GAAGjC,QAAQ,CAACsB,OAAb,EAAsB,EAAtB,EAA0BK,KAAK,CAACa,QAAhC,CAAnB;;AAEA,QAAIhB,mBAAmB,CAACoE,OAApB,CAA4BjE,KAAK,CAACyB,IAAlC,IAA0C,CAAC,CAA/C,EAAkD;AAChD,WAAKnB,WAAL,CAAiBN,KAAK,CAACyB,IAAvB,IAA+B,KAAKnB,WAAL,CAAiBN,KAAK,CAACyB,IAAvB,KAAgC,IAA/D;AACD;;AAED,KAAC,GAAG/C,MAAM,CAACiB,OAAX,EAAoBK,KAApB,EAA2B+D,MAA3B,CAAkC,UAAUC,GAAV,EAAe;AAC/C,aAAOpE,mBAAmB,CAACqE,OAApB,CAA4BD,GAA5B,IAAmC,CAAC,CAA3C;AACD,KAFD,EAEGwB,OAFH,CAEW,UAAUC,IAAV,EAAgB;AACzB,UAAIzF,KAAK,CAACyF,IAAD,CAAT,EAAiB;AACfH,QAAAA,MAAM,CAAChF,WAAP,CAAmBmF,IAAnB,IAA2BH,MAAM,CAAChF,WAAP,CAAmBmF,IAAnB,KAA4B;AACrDrF,UAAAA,KAAK,EAAEJ,KAAK,CAACyF,IAAD;AADyC,SAAvD;AAGD,OAJD,MAIO;AACL,eAAOH,MAAM,CAAChF,WAAP,CAAmBmF,IAAnB,CAAP;AACD;AACF,KAVD;AAYA,SAAKnE,OAAL,CAAaC,QAAb,IAAyB,KAAKD,OAAL,CAAaC,QAAb,CAAsBQ,QAAtB,CAA+B,IAA/B,CAAzB;AACA,SAAKlB,QAAL;AACD,GAzBD;;AA2BA,SAAOf,WAAP;AACD,CAhPiB,CAgPhBb,MAAM,CAACyG,SAhPS,CAAlB;;AAkPA5F,WAAW,CAAC6F,SAAZ,GAAwB;AACtBtE,EAAAA,IAAI,EAAElC,WAAW,CAACQ,OAAZ,CAAoBiG,MAApB,CAA2BC,UADX;AAEtBtC,EAAAA,eAAe,EAAEpE,WAAW,CAACQ,OAAZ,CAAoBmG,SAApB,CAA8B,CAAC3G,WAAW,CAACQ,OAAZ,CAAoBoG,KAApB,CAA0B,CAAC,EAAD,EAAK,SAAL,EAAgB,UAAhB,EAA4B,QAA5B,EAAsC,SAAtC,CAA1B,CAAD,EAA8E5G,WAAW,CAACQ,OAAZ,CAAoBqG,OAApB,CAA4B7G,WAAW,CAACQ,OAAZ,CAAoBoG,KAApB,CAA0B,CAAC,SAAD,EAAY,UAAZ,EAAwB,QAAxB,EAAkC,SAAlC,CAA1B,CAA5B,CAA9E,CAA9B,CAFK;AAGtBlF,EAAAA,QAAQ,EAAE1B,WAAW,CAACQ,OAAZ,CAAoBsG,MAHR;AAItB7F,EAAAA,KAAK,EAAEjB,WAAW,CAACQ,OAAZ,CAAoBuG,GAJL;AAKtBrD,EAAAA,YAAY,EAAE1D,WAAW,CAACQ,OAAZ,CAAoBuG,GALZ;AAMtBvE,EAAAA,SAAS,EAAExC,WAAW,CAACQ,OAAZ,CAAoBuG,GANT;AAOtBtE,EAAAA,UAAU,EAAEzC,WAAW,CAACQ,OAAZ,CAAoBuG,GAPV;AAQtBxE,EAAAA,OAAO,EAAEvC,WAAW,CAACQ,OAAZ,CAAoBwG,IARP;AAStBrD,EAAAA,cAAc,EAAE3D,WAAW,CAACQ,OAAZ,CAAoBwG,IATd;AAUtBhG,EAAAA,KAAK,EAAEhB,WAAW,CAACQ,OAAZ,CAAoBwG,IAVL;AAWtB1E,EAAAA,IAAI,EAAEtC,WAAW,CAACQ,OAAZ,CAAoBiG,MAXJ;AAYtBvF,EAAAA,QAAQ,EAAElB,WAAW,CAACQ,OAAZ,CAAoBwG,IAZR;AAatBzB,EAAAA,QAAQ,EAAEvF,WAAW,CAACQ,OAAZ,CAAoBwG,IAbR;AActBtB,EAAAA,QAAQ,EAAE1F,WAAW,CAACQ,OAAZ,CAAoBwG,IAdR;AAetB9D,EAAAA,OAAO,EAAElD,WAAW,CAACQ,OAAZ,CAAoByG,IAfP;AAgBtB7B,EAAAA,OAAO,EAAEpF,WAAW,CAACQ,OAAZ,CAAoByG,IAhBP;AAiBtB5B,EAAAA,OAAO,EAAErF,WAAW,CAACQ,OAAZ,CAAoByG,IAjBP;AAkBtB9B,EAAAA,MAAM,EAAEnF,WAAW,CAACQ,OAAZ,CAAoByG,IAlBN;AAmBtB3B,EAAAA,QAAQ,EAAEtF,WAAW,CAACQ,OAAZ,CAAoByG,IAnBR;AAoBtBjB,EAAAA,OAAO,EAAEhG,WAAW,CAACQ,OAAZ,CAAoByG;AApBP,CAAxB;AAsBAtG,WAAW,CAACuG,YAAZ,GAA2B;AACzB9E,EAAAA,QAAQ,EAAEpC,WAAW,CAACQ,OAAZ,CAAoBsG,MAApB,CAA2BJ;AADZ,CAA3B;AAGA/F,WAAW,CAACwG,YAAZ,GAA2B;AACzB/C,EAAAA,eAAe,EAAE,EADQ;AAEzB1C,EAAAA,QAAQ,EAAE,EAFe;AAGzBc,EAAAA,SAAS,EAAE,IAHc;AAIzBC,EAAAA,UAAU,EAAE;AAJa,CAA3B;AAMA3D,OAAO,CAAC0B,OAAR,GAAkBG,WAAlB","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isUndefined = require('lodash/isUndefined');\n\nvar _isUndefined2 = _interopRequireDefault(_isUndefined);\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _get = require('lodash/get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar htmlValidationAttrs = ['min', 'max', 'minLength', 'maxLength', 'pattern', 'required', 'step'];\n\nvar htmlValidationTypes = ['email', 'date', 'datetime', 'number', 'tel', 'url'];\n\nvar AvBaseInput = function (_Component) {\n  (0, _inherits3.default)(AvBaseInput, _Component);\n\n  function AvBaseInput(props) {\n    (0, _classCallCheck3.default)(this, AvBaseInput);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.state = { value: _this.props.multiple ? [] : '' };\n    _this.validations = {};\n    _this.value = '';\n    _this.onKeyUpHandler = _this.onKeyUpHandler.bind(_this);\n    _this.onInputHandler = _this.onInputHandler.bind(_this);\n    _this.onBlurHandler = _this.onBlurHandler.bind(_this);\n    _this.onFocusHandler = _this.onFocusHandler.bind(_this);\n    _this.onChangeHandler = _this.onChangeHandler.bind(_this);\n    _this.validate = _this.validate.bind(_this);\n    return _this;\n  }\n\n  AvBaseInput.prototype.componentWillMount = function componentWillMount() {\n    this.value = this.props.value || this.getDefaultValue();\n    this.setState({ value: this.value });\n    this.updateValidations();\n  };\n\n  AvBaseInput.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.name !== this.props.name) {\n      this.context.FormCtrl.unregister(this);\n    }\n    if (nextProps.type === 'checkbox') {\n      if (nextProps.checked !== this.props.checked) {\n        if (nextProps.checked) {\n          this.value = nextProps.trueValue;\n        } else {\n          this.value = nextProps.falseValue;\n        }\n        this.setState({ value: this.value });\n      }\n    } else {\n      if (nextProps.multiple !== this.props.multiple) {\n        this.value = nextProps.multiple ? [] : '';\n        this.setState({ value: this.value });\n      }\n      if (nextProps.value !== this.props.value) {\n        this.value = nextProps.value;\n        this.setState({ value: nextProps.value });\n      }\n    }\n\n    if (!(0, _isEqual2.default)(nextProps, this.props)) {\n      this.updateValidations(nextProps);\n    }\n  };\n\n  AvBaseInput.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.name !== this.props.name) {\n      this.context.FormCtrl.register(this);\n    }\n  };\n\n  AvBaseInput.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.context.FormCtrl.unregister(this);\n  };\n\n  AvBaseInput.prototype.onKeyUpHandler = function onKeyUpHandler(event) {\n    var badInput = (0, _get2.default)(event, 'target.validity.badInput', false);\n    if (badInput !== this.context.FormCtrl.isBad(this.props.name)) {\n      this.context.FormCtrl.setBad(this.props.name, badInput);\n      this.validate();\n    }\n    this.props.onKeyUp && this.props.onKeyUp(event);\n  };\n\n  AvBaseInput.prototype.onInputHandler = function onInputHandler(_value) {\n    this.value = this.getFieldValue(_value);\n    this.validateEvent('onInput', _value);\n    !this.context.FormCtrl.isDirty(this.props.name) && this.context.FormCtrl.setDirty(this.props.name);\n  };\n\n  AvBaseInput.prototype.onBlurHandler = function onBlurHandler(_value) {\n    this.value = this.getFieldValue(_value);\n    this.validateEvent('onBlur', _value);\n    !this.context.FormCtrl.isTouched(this.props.name) && this.context.FormCtrl.setTouched(this.props.name);\n  };\n\n  AvBaseInput.prototype.onFocusHandler = function onFocusHandler(_value) {\n    this.value = this.getFieldValue(_value);\n    this.validateEvent('onFocus', _value);\n  };\n\n  AvBaseInput.prototype.onChangeHandler = function onChangeHandler(_value) {\n    this.value = this.getFieldValue(_value);\n    this.validateEvent('onChange', _value);\n    !this.context.FormCtrl.isDirty(this.props.name) && this.context.FormCtrl.setDirty(this.props.name);\n  };\n\n  AvBaseInput.prototype.getDefaultValue = function getDefaultValue() {\n    var defaultValue = '';\n\n    if (this.props.type === 'checkbox' || this.props.type === 'switch') {\n      if (!(0, _isUndefined2.default)(this.props.defaultChecked)) {\n        return this.props.defaultChecked ? this.props.trueValue : this.props.falseValue;\n      }\n      defaultValue = this.props.falseValue;\n    }\n\n    if (this.props.type === 'select' && this.props.multiple) {\n      defaultValue = [];\n    }\n\n    var value = this.props.defaultValue || this.context.FormCtrl.getDefaultValue(this.props.name);\n\n    if (this.props.type === 'checkbox' && value !== this.props.trueValue) {\n      value = defaultValue;\n    }\n\n    return (0, _isUndefined2.default)(value) ? defaultValue : value;\n  };\n\n  AvBaseInput.prototype.getFieldValue = function getFieldValue(event) {\n    if (this.props.type === 'checkbox') {\n      return event.target.checked ? this.props.trueValue : this.props.falseValue;\n    }\n\n    if (this.props.type === 'select' && this.props.multiple) {\n      /* // Something about this does not work when transpiled\n      return [...event.target.options]\n        .filter(({ selected }) => selected)\n        .map(({ value }) => value); */\n      var ret = [];\n      var options = event.target.options;\n      for (var i = 0; i < options.length; i++) {\n        if (options[i].selected) {\n          ret.push(options[i].value);\n        }\n      }\n      return ret;\n    }\n    return event && event.target && !(0, _isUndefined2.default)(event.target.value) ? event.target.value : event;\n  };\n\n  AvBaseInput.prototype.getValidationEvent = function getValidationEvent() {\n    var validationEvent = this.props.validationEvent ? this.props.validationEvent : this.context.FormCtrl.getValidationEvent();\n    return Array.isArray(validationEvent) ? validationEvent : [validationEvent];\n  };\n\n  AvBaseInput.prototype.getValidatorProps = function getValidatorProps() {\n    var _this2 = this;\n\n    var validatity = this.context.FormCtrl.getInputState(this.props.name);\n    var htmlValAttrs = (0, _keys2.default)(this.props.validate || {}).filter(function (val) {\n      return htmlValidationAttrs.indexOf(val) > -1;\n    }).reduce(function (result, item) {\n      result[item] = _this2.props.validate[item].value || _this2.props.validate[item];\n      return result;\n    }, {});\n\n    var newProps = (0, _extends3.default)({\n      onKeyUp: this.onKeyUpHandler,\n      onBlur: this.onBlurHandler,\n      onInput: this.onInputHandler,\n      onFocus: this.onFocusHandler,\n      onChange: this.onChangeHandler,\n      value: this.value\n    }, htmlValAttrs);\n\n    if (this.props.disabled === undefined && this.context.FormCtrl.isDisabled() !== undefined) {\n      newProps.disabled = this.context.FormCtrl.isDisabled();\n    }\n\n    if (this.props.readOnly === undefined && this.context.FormCtrl.isReadOnly() !== undefined) {\n      newProps.readOnly = this.context.FormCtrl.isReadOnly();\n    }\n\n    if (this.props.type === 'checkbox') {\n      newProps.checked = this.value === this.props.trueValue;\n    }\n\n    if (this.props.state || validatity && validatity.errorMessage) {\n      newProps.valid = !(validatity && validatity.errorMessage);\n    }\n\n    return newProps;\n  };\n\n  AvBaseInput.prototype.getValue = function getValue() {\n    return this.value;\n  };\n\n  AvBaseInput.prototype.reset = function reset() {\n    this.value = this.getDefaultValue();\n    this.context.FormCtrl.setDirty(this.props.name, false);\n    this.context.FormCtrl.setTouched(this.props.name, false);\n    this.context.FormCtrl.setBad(this.props.name, false);\n    this.setState({ value: this.value });\n    this.validate();\n    this.props.onReset && this.props.onReset(this.value);\n  };\n\n  AvBaseInput.prototype.validateEvent = function validateEvent(eventName, _event) {\n    this.setState({ value: this.value });\n    if (this.getValidationEvent().indexOf(eventName) > -1) {\n      this.validate();\n    }\n    this.props[eventName] && this.props[eventName](_event, this.value);\n  };\n\n  AvBaseInput.prototype.validate = function validate() {\n    this.context.FormCtrl.validate(this.props.name);\n  };\n\n  AvBaseInput.prototype.updateValidations = function updateValidations() {\n    var _this3 = this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n    this.validations = (0, _assign2.default)({}, props.validate);\n\n    if (htmlValidationTypes.indexOf(props.type) > -1) {\n      this.validations[props.type] = this.validations[props.type] || true;\n    }\n\n    (0, _keys2.default)(props).filter(function (val) {\n      return htmlValidationAttrs.indexOf(val) > -1;\n    }).forEach(function (attr) {\n      if (props[attr]) {\n        _this3.validations[attr] = _this3.validations[attr] || {\n          value: props[attr]\n        };\n      } else {\n        delete _this3.validations[attr];\n      }\n    });\n\n    this.context.FormCtrl && this.context.FormCtrl.register(this);\n    this.validate();\n  };\n\n  return AvBaseInput;\n}(_react.Component);\n\nAvBaseInput.propTypes = {\n  name: _propTypes2.default.string.isRequired,\n  validationEvent: _propTypes2.default.oneOfType([_propTypes2.default.oneOf(['', 'onInput', 'onChange', 'onBlur', 'onFocus']), _propTypes2.default.arrayOf(_propTypes2.default.oneOf(['onInput', 'onChange', 'onBlur', 'onFocus']))]),\n  validate: _propTypes2.default.object,\n  value: _propTypes2.default.any,\n  defaultValue: _propTypes2.default.any,\n  trueValue: _propTypes2.default.any,\n  falseValue: _propTypes2.default.any,\n  checked: _propTypes2.default.bool,\n  defaultChecked: _propTypes2.default.bool,\n  state: _propTypes2.default.bool,\n  type: _propTypes2.default.string,\n  multiple: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  readOnly: _propTypes2.default.bool,\n  onKeyUp: _propTypes2.default.func,\n  onInput: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  onReset: _propTypes2.default.func\n};\nAvBaseInput.contextTypes = {\n  FormCtrl: _propTypes2.default.object.isRequired\n};\nAvBaseInput.defaultProps = {\n  validationEvent: '',\n  validate: {},\n  trueValue: true,\n  falseValue: false\n};\nexports.default = AvBaseInput;"]},"metadata":{},"sourceType":"script"}