{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Button,Card,CardBody,NavItem,NavLink,TabContent,TabPane,FormGroup,Label,Input}from\"reactstrap\";import classnames from\"classnames\";import{Link}from\"react-router-dom\";//Import Breadcrumb\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";//i18n\nimport{withNamespaces}from\"react-i18next\";import AvForm from\"availity-reactstrap-validation/lib/AvForm\";import Dropzone from\"react-dropzone\";import stateWrapper from\"../../../containers/provider\";import instance from\"../../../helpers/axiosly\";var SubmitProject=function SubmitProject(props){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setactiveTab=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedFiles=_useState4[0],setselectedFiles=_useState4[1];var _useState5=useState({title:\"submitted title\",description:\"\",additionMaterial:\"\",loading:false,userData:null}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var onChange=function onChange(e){// let { name, value } = e.target;\n// setState({\n//     ...state,\n//     [name]: value,\n// });\n};useEffect(function(){var _userData;var userData;userData=props.userStore.fetchUser(props);;console.log(userData);console.log((_userData=userData)===null||_userData===void 0?void 0:_userData.access_token);console.log(state.title);setState({userData:userData});//eslint-disable-line\n},[]);//   \nfunction formatBytes(bytes){var decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(bytes===0)return\"0 Bytes\";var k=1024;var dm=decimals<0?0:decimals;var sizes=[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"];var i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+\" \"+sizes[i];}function handleAcceptedFiles(files){setState({loading:true});files.map(function(file){return Object.assign(file,{preview:URL.createObjectURL(file),formattedSize:formatBytes(file.size)});});setselectedFiles(files);setTimeout(function(){setState({loading:false});},500);}function handleValidSubmit(_x,_x2){return _handleValidSubmit.apply(this,arguments);}function _handleValidSubmit(){_handleValidSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,values){var userData,form,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return props.userStore.fetchUser(props);case 3:userData=_context.sent;console.log(userData);console.log(userData===null||userData===void 0?void 0:userData.access_token);console.log(userData===null||userData===void 0?void 0:userData.id);console.log(userData);form=new FormData();console.log();form.append(\"text\",state.title);form.append(\"description\",state.description);form.append(\"file\",selectedFiles[0]);// for (var key of form.entries()) {\n//     console.log(key[1])\n// }\n_context.next=15;return instance.patch('https://api.electrikrecharge.com'.concat(\"/project/15/submit\"),form,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(userData===null||userData===void 0?void 0:userData.access_token)}}).then(function(response){console.log(response.data);}).catch(function(e){return console.log(e);});case 15:result=_context.sent;_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[0,18]]);}));return _handleValidSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-content\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Breadcrumbs,{title:props.t(\"Submit Project\"),breadcrumbItem:props.t(\"Submit Project\")}),/*#__PURE__*/React.createElement(AvForm,{className:\"form-horizontal\",onValidSubmit:function onValidSubmit(e,v){handleValidSubmit(e,v);}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{id:\"basic-pills-wizard\",className:\"twitter-bs-wizard\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"twitter-bs-wizard-nav nav nav-justified nav-pills\"},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:activeTab===1}),onClick:function onClick(){setactiveTab(1);}},/*#__PURE__*/React.createElement(\"span\",{className:\"step-number mr-2\"},\"01\"),\"Submit Project\"))),/*#__PURE__*/React.createElement(TabContent,{activeTab:activeTab,className:\"twitter-bs-wizard-tab-content\"},/*#__PURE__*/React.createElement(TabPane,{tabId:1},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-address-input2\"},\"ADDITIONAL NOTE\"),/*#__PURE__*/React.createElement(\"textarea\",{value:state.description,onChange:onChange,name:\"description\",id:\"basicpill-address-input2\",className:\"form-control\",rows:\"11\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Label,{for:\"basicpill-address-input2\"},\"ADDITIONAL MATERIAL\"),/*#__PURE__*/React.createElement(Dropzone,{onDrop:function onDrop(acceptedFiles){handleAcceptedFiles(acceptedFiles);}},function(_ref){var getRootProps=_ref.getRootProps,getInputProps=_ref.getInputProps;return/*#__PURE__*/React.createElement(\"div\",{className:\"dropzone\"},/*#__PURE__*/React.createElement(\"div\",Object.assign({className:\"dz-message needsclick mt-2\"},getRootProps()),/*#__PURE__*/React.createElement(\"input\",getInputProps()),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"display-4 text-muted bx bxs-cloud-upload\"})),/*#__PURE__*/React.createElement(\"h5\",null,\"Drop files here or click to upload.\")));}),/*#__PURE__*/React.createElement(\"div\",{className:\"dropzone-previews mt-3\",id:\"file-previews\"},state.loading?/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")):selectedFiles.map(function(f,i){return/*#__PURE__*/React.createElement(Card,{key:i+\"-file\",className:\"mt-1 mb-0 shadow-none border dz-processing dz-image-preview dz-success dz-complete\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-2\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,{className:\"col-auto\"},/*#__PURE__*/React.createElement(\"img\",{\"data-dz-thumbnail\":\"\",height:\"80\",className:\"avatar-sm rounded bg-light\",alt:f.name,src:f.preview})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"text-muted font-weight-bold\"},f.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},/*#__PURE__*/React.createElement(\"strong\",null,f.formattedSize))))));}))))))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-warning waves-effect waves-light\"},\"Submit\")))))))));};export default withNamespaces()(stateWrapper(SubmitProject));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Writer/Projects/SubmitProject.js"],"names":["React","useState","useEffect","Container","Row","Col","Button","Card","CardBody","NavItem","NavLink","TabContent","TabPane","FormGroup","Label","Input","classnames","Link","Breadcrumbs","withNamespaces","AvForm","Dropzone","stateWrapper","instance","SubmitProject","props","activeTab","setactiveTab","selectedFiles","setselectedFiles","title","description","additionMaterial","loading","userData","state","setState","onChange","e","userStore","fetchUser","console","log","access_token","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","parseFloat","pow","toFixed","handleAcceptedFiles","files","map","file","Object","assign","preview","URL","createObjectURL","formattedSize","size","setTimeout","handleValidSubmit","event","values","id","form","FormData","append","patch","headers","Authorization","then","response","data","catch","result","t","v","active","acceptedFiles","getRootProps","getInputProps","f","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n    Container,\n    Row,\n    Col,\n    Button,\n    Card,\n    CardBody,\n    NavItem,\n    NavLink,\n    TabContent,\n    TabPane,\n    FormGroup,\n    Label,\n    Input,\n} from \"reactstrap\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\";\n//Import Breadcrumb\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\nimport AvForm from \"availity-reactstrap-validation/lib/AvForm\";\nimport Dropzone from \"react-dropzone\";\n\nimport stateWrapper from \"../../../containers/provider\";\n\nimport instance from \"../../../helpers/axiosly\";\n\nconst SubmitProject = (props) => {\n\n    const [activeTab, setactiveTab] = useState(1)\n    const [selectedFiles, setselectedFiles] = useState([]);\n\n    const [state, setState] = useState({\n        title: \"submitted title\",\n        description: \"\",\n        additionMaterial: \"\",\n        loading: false,\n        userData: null\n    });\n\n\n\n    const onChange = (e) => {\n        // let { name, value } = e.target;\n        // setState({\n        //     ...state,\n        //     [name]: value,\n        // });\n    }\n\n\n\n    useEffect(() => {\n\n        let userData;\n        userData = props.userStore.fetchUser(props);;\n        console.log(userData)\n        console.log(userData?.access_token)\n        console.log(state.title)\n\n\n        setState({\n            userData: userData\n        })\n\n        //eslint-disable-line\n    }, [])\n\n    //   \n    function formatBytes(bytes, decimals = 2) {\n        if (bytes === 0) return \"0 Bytes\";\n        const k = 1024;\n        const dm = decimals < 0 ? 0 : decimals;\n        const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n    }\n\n\n\n    function handleAcceptedFiles(files) {\n        setState({\n            loading: true,\n        });\n\n        files.map((file) =>\n            Object.assign(file, {\n                preview: URL.createObjectURL(file),\n                formattedSize: formatBytes(file.size),\n            })\n        );\n        setselectedFiles(files);\n        setTimeout(function () {\n            setState({ loading: false })\n        }, 500)\n\n    }\n\n\n    async function handleValidSubmit(event, values) {\n\n        try {\n\n           let userData = await props.userStore.fetchUser(props);\n            console.log(userData)\n            console.log(userData?.access_token)\n\n            console.log(userData?.id)\n            console.log(userData)\n            const form = new FormData();\n            console.log();\n            form.append(\"text\", state.title);\n            form.append(\"description\", state.description);\n            form.append(\"file\", selectedFiles[0]);\n\n            // for (var key of form.entries()) {\n            //     console.log(key[1])\n            // }\n\n            const result = await instance\n                .patch(`${'https://api.electrikrecharge.com'}/project/15/submit`, form, {\n                    headers: {\n                        \"Content-Type\": \"multipart/form-data\",\n                        Authorization: `Bearer ${userData?.access_token}`,\n                    },\n                })\n                .then((response) => {\n                    console.log(response.data);\n\n                })\n                .catch((e) => console.log(e));\n\n            // setState({\n            //     title: \"now submitted\",\n            //     description: \"\"\n            // });\n\n            // setselectedFiles([])\n        }\n        catch (e) {\n            console.log(e)\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <div className=\"page-content\">\n                <Container fluid>\n                    {/* Render Breadcrumb */}\n                    <Breadcrumbs\n                        title={props.t(\"Submit Project\")}\n                        breadcrumbItem={props.t(\"Submit Project\")}\n                    />\n                    <AvForm\n                        className=\"form-horizontal\"\n                        onValidSubmit={(e, v) => {\n                            handleValidSubmit(e, v);\n                        }}\n                    >\n                        <Row>\n                            <Col lg=\"12\">\n                                <Card>\n                                    <CardBody>\n\n\n                                        <div id=\"basic-pills-wizard\" className=\"twitter-bs-wizard\">\n                                            <ul className=\"twitter-bs-wizard-nav nav nav-justified nav-pills\">\n                                                <NavItem>\n                                                    <NavLink\n                                                        className={classnames({ active: activeTab === 1 })}\n                                                        onClick={() => {\n                                                            setactiveTab(1)\n                                                        }}\n                                                    >\n                                                        <span className=\"step-number mr-2\">01</span>\n                        Submit Project\n                      </NavLink>\n                                                </NavItem>\n                                            </ul>\n                                            <TabContent\n                                                activeTab={activeTab}\n                                                className=\"twitter-bs-wizard-tab-content\"\n                                            >\n                                                <TabPane tabId={1}>\n                                                    <Row>\n                                                        <Col lg=\"6\">\n                                                            <FormGroup>\n                                                                <Label for=\"basicpill-address-input2\">\n                                                                    ADDITIONAL NOTE\n                            </Label>\n                                                                <textarea\n                                                                    value={state.description}\n                                                                    onChange={onChange}\n                                                                    name=\"description\"\n                                                                    id=\"basicpill-address-input2\"\n                                                                    className=\"form-control\"\n                                                                    rows=\"11\"\n                                                                ></textarea>\n                                                            </FormGroup>\n                                                        </Col>\n                                                        <Col lg=\"6\">\n                                                            <Label for=\"basicpill-address-input2\">\n                                                                ADDITIONAL MATERIAL\n                            </Label>\n                                                            <Dropzone\n                                                                onDrop={(acceptedFiles) => {\n                                                                    handleAcceptedFiles(acceptedFiles);\n                                                                }}\n\n                                                            >\n                                                                {({ getRootProps, getInputProps }) => (\n                                                                    <div className=\"dropzone\">\n                                                                        <div\n                                                                            className=\"dz-message needsclick mt-2\"\n                                                                            {...getRootProps()}\n                                                                        >\n                                                                            <input {...getInputProps()} />\n                                                                            <div className=\"mb-3\">\n                                                                                <i className=\"display-4 text-muted bx bxs-cloud-upload\"></i>\n                                                                            </div>\n                                                                            <h5>\n                                                                                Drop files here or click to upload.\n                                      </h5>\n                                                                        </div>\n                                                                    </div>\n                                                                )}\n                                                            </Dropzone>\n                                                            <div className=\"dropzone-previews mt-3\" id=\"file-previews\">\n                                                                {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                                                                    <span class=\"sr-only\">Loading...</span>\n                                                                </div>) : selectedFiles.map((f, i) => {\n                                                                    return (\n                                                                        <Card key={i + \"-file\"} className=\"mt-1 mb-0 shadow-none border dz-processing dz-image-preview dz-success dz-complete\">\n                                                                            <div className=\"p-2\">\n                                                                                <Row className=\"align-items-center\">\n                                                                                    <Col className=\"col-auto\">\n                                                                                        <img\n                                                                                            data-dz-thumbnail=\"\"\n                                                                                            height=\"80\"\n                                                                                            className=\"avatar-sm rounded bg-light\"\n                                                                                            alt={f.name}\n                                                                                            src={f.preview}\n                                                                                        />\n                                                                                    </Col>\n                                                                                    <Col>\n                                                                                        <Link\n                                                                                            to=\"#\"\n                                                                                            className=\"text-muted font-weight-bold\"\n                                                                                        >\n                                                                                            {f.name}\n                                                                                        </Link>\n                                                                                        <p className=\"mb-0\">\n                                                                                            <strong>{f.formattedSize}</strong>\n                                                                                        </p>\n                                                                                    </Col>\n                                                                                </Row>\n                                                                            </div>\n\n                                                                        </Card>\n                                                                    )\n                                                                })}\n                                                            </div>\n                                                        </Col>\n                                                    </Row>\n                                                </TabPane>\n                                            </TabContent>\n                                        </div>\n                                        <button\n                                            type=\"submit\"\n                                            className=\"btn btn-warning waves-effect waves-light\"\n                                        >\n                                            Submit\n                    </button>\n                                    </CardBody>\n                                </Card>\n                            </Col>\n                        </Row>\n                    </AvForm>\n                </Container>\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default withNamespaces()(stateWrapper(SubmitProject));\n"]},"metadata":{},"sourceType":"module"}