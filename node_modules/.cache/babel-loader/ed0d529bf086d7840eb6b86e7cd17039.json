{"ast":null,"code":"import _classCallCheck from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _inherits from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Container}from\"unstated\";import instance from\"../helpers/axiosly\";import{LOCAL_STORAGE_SIGNIN_KEY}from'../App.constants';// Get token from local storage\nvar token=localStorage.getItem(\"token\");var MasterContainer=/*#__PURE__*/function(_Container){_inherits(MasterContainer,_Container);var _super=_createSuper(MasterContainer);function MasterContainer(){var _this;_classCallCheck(this,MasterContainer);_this=_super.call(this);_this.fetchService=function(bearertoken){return new Promise(function(resolve,reject){instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"services\"),{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){resolve(response);_this.setState({sessionData:{serviceList:response.data.data.rows}});console.log(_this.state.sessionData.serviceList);}).catch(function(e){return console.log(e);});});};_this.addService=function(state,bearertoken){instance.post(\"\".concat(process.env.REACT_APP_DATABASEURL,\"services\"),{name:state.name,price:state.price},{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(\"services here \",response.data.data);}).catch(function(e){return console.log(e);});};_this.updateServices=function(state,bearertoken,id){instance.put(\"\".concat(process.env.REACT_APP_DATABASEURL,\"services/\").concat(id),{name:state.name.toString(),price:state.price.toString()},{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(\"services here \",response.data.data);}).catch(function(e){return console.log(e);});};_this.deleteService=function(id){return new Promise(function(resolve,reject){instance.delete(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/services/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){resolve(response);}).catch(function(e){console.log(e);});});};_this.fetchSubjectarea=function(bearertoken){return new Promise(function(resolve,reject){instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"subject-area\"),{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){resolve(response);_this.setState({sessionData:{subjectareaList:response.data.data.rows}});}).catch(function(e){return console.log(e);});});};_this.addSubjectarea=function(state,bearertoken){instance.post(\"\".concat(process.env.REACT_APP_DATABASEURL,\"subject-area\"),{name:state.name,price:state.price},{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(\"services here \",response.data.data);}).catch(function(e){return console.log(e);});};_this.updateSubjectarea=function(state,bearertoken,id){instance.put(\"\".concat(process.env.REACT_APP_DATABASEURL,\"subject-area/\").concat(id),{name:state.name.toString(),price:state.price.toString()},{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(\"services here \",response.data.data);}).catch(function(e){return console.log(e);});};_this.deleteSubjectarea=function(id){return new Promise(function(resolve,reject){instance.delete(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/subject-area/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){console.log(resolve(response));resolve(response);}).catch(function(e){console.log(e);});});};_this.fetchSpacing=function(bearertoken){return new Promise(function(resolve,reject){instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"spacing\"),{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){resolve(response);_this.setState({sessionData:{spacingList:response.data.data}});}).catch(function(e){return console.log(e);});});};_this.addSpacing=function(state,bearertoken){instance.post(\"\".concat(process.env.REACT_APP_DATABASEURL,\"spacing\"),{name:state.name,price:state.price},{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(\"services here \",response.data.data);}).catch(function(e){return console.log(e);});};_this.updateSpacing=function(state,bearertoken,id){instance.put(\"\".concat(process.env.REACT_APP_DATABASEURL,\"spacing/\").concat(id),{name:state.name.toString()},{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(\"services here \",response.data.data);}).catch(function(e){return console.log(e);});};_this.deleteSpacing=function(id){return new Promise(function(resolve,reject){instance.delete(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/spacing/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){console.log(resolve(response));resolve(response);}).catch(function(e){console.log(e);});});};_this.singleOrderPayment=function(id,user_id,amount,balance,redirect_url){console.log(\"\".concat(window.location.origin,\"/payments\"));return new Promise(function(resolve,reject){instance.post(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/order/\").concat(id,\"/complete-pay\"),{id:id,user_id:user_id,amount:amount,balance:balance,redirect_url:\"\".concat(window.location.origin,\"/payments\")},{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){console.log(resolve(response));resolve(response);}).catch(function(e){console.log(e);});});};_this.findWriterExam=function(userId,bearertoken){return new Promise(function(resolve,reject){instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/exam/user/\").concat(userId),{// {userId: userId},\nheaders:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(resolve(response===null||response===void 0?void 0:response.data));resolve(response===null||response===void 0?void 0:response.data);}).catch(function(e){console.log(e);});});};_this.fetchLibrary=function(bearertoken){return new Promise(function(resolve,reject){instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"library\"),{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){resolve(response);_this.setState({sessionData:{libraryList:response.data.data.rows}});}).catch(function(e){return console.log(e);});});};_this.addLibrary=function(state,bearertoken,selectedFiles){console.log(state);var form=new FormData();form.append(\"title\",state.title);form.append(\"description\",state.description);form.append(\"file\",selectedFiles);instance.post(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/library\"),form,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(\"lib here \",response.data);}).catch(function(e){return console.log(e);});};_this.deleteLibrary=function(id){return new Promise(function(resolve,reject){instance.delete(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/library/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){console.log(resolve(response));resolve(response);}).catch(function(e){console.log(e);});});};_this.updateLibrary=function(state,bearertoken,selectedFiles,id){console.log(selectedFiles);var form=new FormData();form.append(\"title\",state.title);form.append(\"description\",state.description);form.append(\"file\",selectedFiles);instance.patch(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/library/\").concat(id),form,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(\"services here \",response.data.data);}).catch(function(e){return console.log(e);});};_this.state={sessionData:{serviceList:[],subjectareaList:[],spacingList:[],libraryList:[]}};return _this;}/**\n *\n * State manager for Services\n *\n* */ // Function to get list of services\nreturn MasterContainer;}(Container);export{MasterContainer};","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/containers/MasterContainer.js"],"names":["Container","instance","LOCAL_STORAGE_SIGNIN_KEY","token","localStorage","getItem","MasterContainer","fetchService","bearertoken","Promise","resolve","reject","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","then","response","setState","sessionData","serviceList","data","rows","console","log","state","catch","e","addService","post","name","price","updateServices","id","put","toString","deleteService","delete","fetchSubjectarea","subjectareaList","addSubjectarea","updateSubjectarea","deleteSubjectarea","fetchSpacing","spacingList","addSpacing","updateSpacing","deleteSpacing","singleOrderPayment","user_id","amount","balance","redirect_url","window","location","origin","findWriterExam","userId","fetchLibrary","libraryList","addLibrary","selectedFiles","form","FormData","append","title","description","deleteLibrary","updateLibrary","patch"],"mappings":"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","sourcesContent":["import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../App.constants'\n\n// Get token from local storage\nconst token = localStorage.getItem(\"token\");\n\nclass MasterContainer extends Container {\n  constructor() {\n    super();\n    this.state = {\n      sessionData: {\n        serviceList: [],\n        subjectareaList: [],\n        spacingList: [],\n        libraryList: []\n      },\n    };\n  }\n\n/**\n *\n * State manager for Services\n *\n* */\n\n// Function to get list of services\n\n  fetchService = (bearertoken) => {\n    return new Promise((resolve, reject)=> {\n      instance\n      .get(`${process.env.REACT_APP_DATABASEURL}services`, {\n        headers: {\n          Authorization: `Bearer ${bearertoken}`,\n        },\n      })\n      .then((response) => {\n        resolve(response)\n\n            this.setState({\n              sessionData: {\n                serviceList: response.data.data.rows,\n              },\n            });\n            console.log(this.state.sessionData.serviceList)\n\n\n      })\n\n      .catch((e) => console.log(e));\n    })\n\n\n  };\n\n//post service\n  addService = (state, bearertoken) => {\n    instance\n      .post(`${process.env.REACT_APP_DATABASEURL}services`,{\n        name: state.name,\n        price: state.price\n        },  {\n        headers: {\n          Authorization: `Bearer ${bearertoken}`,\n        },\n      })\n      .then((response) => {\n\n        console.log(\"services here \", response.data.data)\n\n      })\n\n      .catch((e) => console.log(e));\n  }\n\n  //update service\n  updateServices = (state, bearertoken, id) => {\n    instance\n    .put(`${process.env.REACT_APP_DATABASEURL}services/${id}`,{\n      name: state.name.toString(),\n      price: state.price.toString()\n      },  {\n      headers: {\n        Authorization: `Bearer ${bearertoken}`,\n      },\n    })\n    .then((response) => {\n\n      console.log(\"services here \", response.data.data)\n\n    })\n\n    .catch((e) => console.log(e));\n  }\n\n// function to delete service\n  deleteService = (id) => { return new Promise((resolve, reject)=> {\n    instance\n    .delete(`${process.env.REACT_APP_DATABASEURL}/services/${id}`, {\n\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n\n    }).then((response) => {\n\n      resolve(response);\n\n    }).catch((e) => {\n      console.log(e);\n    });\n  })\n\n\n\n  }\n\n\n  // Function to get list of subject area\n\n  fetchSubjectarea = (bearertoken) => {\n    return new Promise((resolve, reject)=>{\n      instance\n      .get(`${process.env.REACT_APP_DATABASEURL}subject-area`, {\n        headers: {\n          Authorization: `Bearer ${bearertoken}`,\n        },\n      })\n      .then((response) => {\n        resolve(response)\n            this.setState({\n              sessionData: {\n                subjectareaList: response.data.data.rows,\n              },\n            });\n\n\n\n      })\n\n      .catch((e) => console.log(e));\n    })\n\n  };\n\n//post subject\n  addSubjectarea = (state, bearertoken) => {\n    instance\n      .post(`${process.env.REACT_APP_DATABASEURL}subject-area`,{\n        name: state.name,\n        price: state.price\n        },  {\n        headers: {\n          Authorization: `Bearer ${bearertoken}`,\n        },\n      })\n      .then((response) => {\n\n        console.log(\"services here \", response.data.data)\n\n      })\n\n      .catch((e) => console.log(e));\n  }\n\n  //update subject\n  updateSubjectarea = (state, bearertoken, id) => {\n    instance\n    .put(`${process.env.REACT_APP_DATABASEURL}subject-area/${id}`,{\n      name: state.name.toString(),\n      price: state.price.toString()\n      },  {\n      headers: {\n        Authorization: `Bearer ${bearertoken}`,\n      },\n    })\n    .then((response) => {\n\n      console.log(\"services here \", response.data.data)\n\n    })\n\n    .catch((e) => console.log(e));\n  }\n\n// function to delete subject\n  deleteSubjectarea = (id) => {\n    return new Promise((resolve, reject)=> {\n    instance\n    .delete(`${process.env.REACT_APP_DATABASEURL}/subject-area/${id}`, {\n\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n\n    }).then((response) => {\n      console.log(resolve(response));\n      resolve(response);\n\n    }).catch((e) => {\n      console.log(e);\n    });\n  })\n\n\n\n  }\n\n\n   // Function to get list of spacing\n\n   fetchSpacing = (bearertoken) => {\n    return new Promise((resolve, reject)=>{\n      instance\n      .get(`${process.env.REACT_APP_DATABASEURL}spacing`, {\n        headers: {\n          Authorization: `Bearer ${bearertoken}`,\n        },\n      })\n      .then((response) => {\n        resolve(response)\n            this.setState({\n              sessionData: {\n                spacingList: response.data.data,\n              },\n            });\n\n\n\n      })\n\n      .catch((e) => console.log(e));\n    })\n\n  };\n\n//post spacing\n  addSpacing = (state, bearertoken) => {\n    instance\n      .post(`${process.env.REACT_APP_DATABASEURL}spacing`,{\n        name: state.name,\n        price: state.price\n        },  {\n        headers: {\n          Authorization: `Bearer ${bearertoken}`,\n        },\n      })\n      .then((response) => {\n\n        console.log(\"services here \", response.data.data)\n\n      })\n\n      .catch((e) => console.log(e));\n  }\n\n  //update spacing\n  updateSpacing = (state, bearertoken, id) => {\n    instance\n    .put(`${process.env.REACT_APP_DATABASEURL}spacing/${id}`,{\n      name: state.name.toString()\n      },  {\n      headers: {\n        Authorization: `Bearer ${bearertoken}`,\n      },\n    })\n    .then((response) => {\n\n      console.log(\"services here \", response.data.data)\n\n    })\n\n    .catch((e) => console.log(e));\n  }\n\n// function to delete spacing\n  deleteSpacing = (id) => {\n    return new Promise((resolve, reject)=> {\n    instance\n    .delete(`${process.env.REACT_APP_DATABASEURL}/spacing/${id}`, {\n\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n\n    }).then((response) => {\n      console.log(resolve(response));\n      resolve(response);\n\n    }).catch((e) => {\n      console.log(e);\n    });\n  })\n\n  }\n\n  //Function to make single payment for any Order placed by the client\n  singleOrderPayment = (id, user_id, amount, balance, redirect_url) => {\n    console.log(`${window.location.origin}/payments`)\n    return new Promise((resolve, reject)=> {\n    instance\n    .post(`${process.env.REACT_APP_DATABASEURL}/order/${id}/complete-pay`,\n    {\n      id: id,\n      user_id: user_id,\n      amount: amount,\n      balance: balance,\n      redirect_url: `${window.location.origin}/payments`\n    },\n    {\n\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n\n    }).then((response) => {\n      console.log(resolve(response));\n      resolve(response);\n\n    }).catch((e) => {\n      console.log(e);\n    });\n  })\n\n\n\n  }\n\n  // check writer exam score exist\n findWriterExam = (userId,bearertoken) => {\n  return new Promise((resolve, reject)=> {\n  instance\n  .get(`${process.env.REACT_APP_DATABASEURL}/exam/user/${userId}`, {\n    // {userId: userId},\n    headers: {\n      Authorization: `Bearer ${bearertoken}`,\n    },\n\n  }).then((response) => {\n    console.log(resolve(response?.data));\n    resolve(response?.data);\n\n  }).catch((e) => {\n    console.log(e);\n  });\n})\n\n\n}\n\n// Function to get list of library\n\nfetchLibrary = (bearertoken) => {\n  return new Promise((resolve, reject)=>{\n    instance\n    .get(`${process.env.REACT_APP_DATABASEURL}library`, {\n      headers: {\n        Authorization: `Bearer ${bearertoken}`,\n      },\n    })\n    .then((response) => {\n\n      resolve(response)\n          this.setState({\n            sessionData: {\n              libraryList: response.data.data.rows\n            },\n          });\n\n\n\n    })\n\n    .catch((e) => console.log(e));\n  })\n\n};\n\n// Function to add library\n\naddLibrary = (state, bearertoken, selectedFiles) => {\nconsole.log(state)\n  const form = new FormData();\n\n    form.append(\"title\", state.title);\n    form.append(\"description\", state.description);\n    form.append(\"file\", selectedFiles);\n  instance\n    .post(`${process.env.REACT_APP_DATABASEURL}/library`,form,  {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `Bearer ${bearertoken}`,\n      },\n    })\n    .then((response) => {\n\n      console.log(\"lib here \", response.data)\n\n    })\n\n    .catch((e) => console.log(e));\n}\n\n\n// Function to delete library\ndeleteLibrary = (id) => {\n  return new Promise((resolve, reject)=> {\n  instance\n  .delete(`${process.env.REACT_APP_DATABASEURL}/library/${id}`, {\n\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n\n  }).then((response) => {\n    console.log(resolve(response));\n    resolve(response);\n\n  }).catch((e) => {\n    console.log(e);\n  });\n})\n\n}\n\n// Function to update a library\nupdateLibrary = (state, bearertoken, selectedFiles, id) => {\n  console.log(selectedFiles)\n  const form = new FormData();\n\n    form.append(\"title\", state.title);\n    form.append(\"description\", state.description);\n    form.append(\"file\", selectedFiles);\n  instance\n  .patch(`${process.env.REACT_APP_DATABASEURL}/library/${id}`,form,  {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      Authorization: `Bearer ${bearertoken}`,\n    },\n  })\n  .then((response) => {\n\n    console.log(\"services here \", response.data.data)\n\n  })\n\n  .catch((e) => console.log(e));\n}\n\n}\n\n\n\nexport { MasterContainer };\n\n\n\n"]},"metadata":{},"sourceType":"module"}