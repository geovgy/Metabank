{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/pages/Writer/Projects/SubmitProject.js\";\nimport React, { useState } from \"react\";\nimport { Container, Row, Col, Button, Card, CardBody, NavItem, NavLink, TabContent, TabPane, FormGroup, Label, Input } from \"reactstrap\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\"; //Import Breadcrumb\n\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"; //i18n\n\nimport { withNamespaces } from \"react-i18next\";\nimport AvForm from \"availity-reactstrap-validation/lib/AvForm\";\nimport Dropzone from \"react-dropzone\";\nimport stateWrapper from \"../../../containers/provider\";\nimport instance from \"../../../helpers/axiosly\";\n\nconst SubmitProject = props => {\n  const [activeTab, setactiveTab] = useState(1);\n  const [selectedFiles, setselectedFiles] = useState([]);\n  const [state, setState] = useState({\n    title: \"\",\n    description: \"\",\n    additionMaterial: \"\",\n    loading: false\n  });\n\n  const onChange = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    setState({ ...state,\n      [name]: value\n    });\n  };\n\n  function formatBytes(bytes, decimals = 2) {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  }\n\n  function handleAcceptedFiles(files) {\n    setState({\n      loading: true\n    });\n    files.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file),\n      formattedSize: formatBytes(file.size)\n    }));\n    setselectedFiles(files);\n    setTimeout(function () {\n      setState({\n        loading: false\n      });\n    }, 1000);\n  }\n\n  async function handleValidSubmit(event, values) {\n    const form = new FormData();\n    form.append(\"title\", state.title);\n    form.append(\"description\", state.description);\n    form.append(\"file\", selectedFiles[0]);\n\n    for (var key of form.entries()) {\n      console.log(key[1]);\n    }\n\n    const result = await instance.post(\"https://api.electrikrecharge.com/\", form, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `Bearer ${props.userStore.state.sessionData.accessToken}`\n      }\n    }).then(response => {\n      console.log(response.data);\n    }).catch(e => console.log(e));\n    setState({\n      title: \"\",\n      description: \"\"\n    });\n    setselectedFiles([]);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumbs, {\n    title: props.t(\"Submit Project\"),\n    breadcrumbItem: props.t(\"Submit Project\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(AvForm, {\n    className: \"form-horizontal\",\n    onValidSubmit: (e, v) => {\n      handleValidSubmit(e, v);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"basic-pills-wizard\",\n    className: \"twitter-bs-wizard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"twitter-bs-wizard-nav nav nav-justified nav-pills\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: classnames({\n      active: activeTab === 1\n    }),\n    onClick: () => {\n      setactiveTab(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"step-number mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, \"01\"), \"Submit Project\"))), /*#__PURE__*/React.createElement(TabContent, {\n    activeTab: activeTab,\n    className: \"twitter-bs-wizard-tab-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TabPane, {\n    tabId: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"basicpill-address-input2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, \"ADDITIONAL NOTE\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: state.description,\n    onChange: onChange,\n    name: \"description\",\n    id: \"basicpill-address-input2\",\n    className: \"form-control\",\n    rows: \"11\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"basicpill-address-input2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, \"ADDITIONAL MATERIAL\"), /*#__PURE__*/React.createElement(Dropzone, {\n    onDrop: acceptedFiles => {\n      handleAcceptedFiles(acceptedFiles);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  }, ({\n    getRootProps,\n    getInputProps\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropzone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: \"dz-message needclick mt-2\"\n  }, getRootProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    onChange: selectedFiles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"display-4 text-muted bx bxs-cloud-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 37\n    }\n  }, \"Drop files here or click to upload.\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropzone-previews mt-3\",\n    id: \"file-previews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }, state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"spinner-border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 51\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 37\n    }\n  }, \"Loading...\")) : selectedFiles.map((f, i) => {\n    return /*#__PURE__*/React.createElement(Card, {\n      key: i + \"-file\",\n      className: \"mt-1 mb-0 shadow-none border dz-processing dz-image-preview dz-success dz-complete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"col-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      \"data-dz-thumbnail\": \"\",\n      height: \"80\",\n      className: \"avatar-sm rounded bg-light\",\n      alt: f.name,\n      src: f.preview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      className: \"text-muted font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 45\n      }\n    }, f.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 47\n      }\n    }, f.formattedSize))))));\n  }))))))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-warning waves-effect waves-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }, \"Submit\")))))))));\n};\n\nexport default withNamespaces()(stateWrapper(SubmitProject));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Writer/Projects/SubmitProject.js"],"names":["React","useState","Container","Row","Col","Button","Card","CardBody","NavItem","NavLink","TabContent","TabPane","FormGroup","Label","Input","classnames","Link","Breadcrumbs","withNamespaces","AvForm","Dropzone","stateWrapper","instance","SubmitProject","props","activeTab","setactiveTab","selectedFiles","setselectedFiles","state","setState","title","description","additionMaterial","loading","onChange","e","name","value","target","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","handleAcceptedFiles","files","map","file","Object","assign","preview","URL","createObjectURL","formattedSize","size","setTimeout","handleValidSubmit","event","values","form","FormData","append","key","entries","console","result","post","headers","Authorization","userStore","sessionData","accessToken","then","response","data","catch","t","v","active","acceptedFiles","getRootProps","getInputProps","f"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Card,\n  CardBody,\n  NavItem,\n  NavLink,\n  TabContent,\n  TabPane,\n  FormGroup,\n  Label,\n  Input,\n} from \"reactstrap\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\";\n//Import Breadcrumb\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\nimport AvForm from \"availity-reactstrap-validation/lib/AvForm\";\nimport Dropzone from \"react-dropzone\";\n\nimport stateWrapper from \"../../../containers/provider\";\n\nimport instance from \"../../../helpers/axiosly\";\n\nconst SubmitProject = (props) => {\n\n  const[activeTab, setactiveTab] = useState(1)\n  const [selectedFiles, setselectedFiles] = useState([]);\n\n  const [state, setState] = useState({\n    title: \"\",\n    description: \"\",\n    additionMaterial: \"\",\n    loading: false\n  })\n\n  const onChange = (e) => {\n    let { name, value } = e.target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  }\n\n  function formatBytes(bytes, decimals = 2) {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  }\n\n\n\n  function handleAcceptedFiles(files) {\n    setState({\n        loading: true,\n      });\n\n    files.map((file) =>\n      Object.assign(file, {\n        preview: URL.createObjectURL(file),\n        formattedSize: formatBytes(file.size),\n      })\n    );\n    setselectedFiles(files);\n    setTimeout(function(){\n        setState({loading: false})\n    }, 1000)\n\n  }\n\n  async function handleValidSubmit(event, values) {\n    const form = new FormData();\n\n    form.append(\"title\", state.title);\n    form.append(\"description\", state.description);\n    form.append(\"file\", selectedFiles[0]);\n\n    for(var key of form.entries()){\n      console.log(key[1])\n    }\n\n    const result = await instance\n    .post(\"https://api.electrikrecharge.com/\", form, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `Bearer ${props.userStore.state.sessionData.accessToken}`,\n      },\n    })\n    .then((response) => {\n      console.log(response.data);\n\n    })\n    .catch((e) => console.log(e));\n\n    setState({\n        title: \"\",\n        description: \"\"\n      });\n\n      setselectedFiles([])\n  }\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Submit Project\")}\n            breadcrumbItem={props.t(\"Submit Project\")}\n          />\n           <AvForm\n           className=\"form-horizontal\"\n           onValidSubmit={(e, v) => {\n             handleValidSubmit(e, v);\n           }}\n           >\n            <Row>\n              <Col lg=\"12\">\n                <Card>\n                  <CardBody>\n\n\n                  <div id=\"basic-pills-wizard\" className=\"twitter-bs-wizard\">\n                  <ul className=\"twitter-bs-wizard-nav nav nav-justified nav-pills\">\n                    <NavItem>\n                      <NavLink\n                        className={classnames({active: activeTab === 1})}\n                        onClick={() => {\n                          setactiveTab(1)\n                        }}\n                      >\n                        <span className=\"step-number mr-2\">01</span>\n                        Submit Project \n                      </NavLink>\n                    </NavItem>\n                  </ul>\n                  <TabContent\n                    activeTab={activeTab}\n                    className=\"twitter-bs-wizard-tab-content\"\n                  >\n                    <TabPane tabId={1}>\n                      <Row>\n                        <Col lg=\"6\">\n                        <FormGroup>\n                            <Label for=\"basicpill-address-input2\">\n                              ADDITIONAL NOTE\n                            </Label>\n                            <textarea\n                               value={state.description}\n                               onChange={onChange}\n                              name=\"description\"\n                              id=\"basicpill-address-input2\"\n                              className=\"form-control\"\n                              rows=\"11\"\n                            ></textarea>\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"6\">\n                        <Label for=\"basicpill-address-input2\">\n                              ADDITIONAL MATERIAL\n                            </Label>\n                            <Dropzone\n                              onDrop={(acceptedFiles) => {\n                                handleAcceptedFiles(acceptedFiles);\n                              }}\n                            >\n                              {({getRootProps, getInputProps}) => (\n                                  <div className=\"dropzone\">\n                                  <div className=\"dz-message needclick mt-2\" {...getRootProps()}>\n                                    <input {...getInputProps()} onChange={selectedFiles}/>\n                                    <div className=\"mb-3\">\n                                    <i className=\"display-4 text-muted bx bxs-cloud-upload\"></i>\n                                    </div>\n                                    <h5>\n                                        Drop files here or click to upload.\n                                      </h5>\n                                  </div>\n                                </div>\n                              )}\n\n                            </Dropzone>\n                            <div className=\"dropzone-previews mt-3\" id=\"file-previews\">\n                                {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                                    <span class=\"sr-only\">Loading...</span>\n                                    </div>) : selectedFiles.map((f, i) => {\n                                  return (\n                                    <Card key={i + \"-file\"} className=\"mt-1 mb-0 shadow-none border dz-processing dz-image-preview dz-success dz-complete\">\n                                       <div className=\"p-2\">\n                                        <Row className=\"align-items-center\">\n                                          <Col className=\"col-auto\">\n                                            <img\n                                              data-dz-thumbnail=\"\"\n                                              height=\"80\"\n                                              className=\"avatar-sm rounded bg-light\"\n                                              alt={f.name}\n                                              src={f.preview}\n                                            />\n                                          </Col>\n                                          <Col>\n                                            <Link\n                                              to=\"#\"\n                                              className=\"text-muted font-weight-bold\"\n                                            >\n                                              {f.name}\n                                            </Link>\n                                            <p className=\"mb-0\">\n                                              <strong>{f.formattedSize}</strong>\n                                            </p>\n                                          </Col>\n                                        </Row>\n                                      </div>\n\n                                    </Card>\n                                  )\n                                })}\n                            </div>\n                        </Col>\n                      </Row>\n                    </TabPane>\n                  </TabContent>\n                  </div>\n                  <button\n                      type=\"submit\"\n                      className=\"btn btn-warning waves-effect waves-light\"\n                    >\n                      Submit\n                    </button>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </AvForm>\n          </Container>\n          </div>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(SubmitProject));\n"]},"metadata":{},"sourceType":"module"}