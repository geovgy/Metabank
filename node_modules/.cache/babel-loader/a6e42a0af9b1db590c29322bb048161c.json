{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container,Row,Col,Card,CardBody,CardTitle}from\"reactstrap\";import{Link}from\"react-router-dom\";import instance from\"../../../helpers/axiosly\";import stateWrapper from\"../../../containers/provider\";import{withNamespaces}from\"react-i18next\";import Moment from'react-moment';var Orderpage=function Orderpage(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),projects=_useState2[0],setProjecs=_useState2[1];var _useState3=useState({loading:false}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];// function to handle project Additional material download\nvar downloadFile=function downloadFile(file){window.open(\"\".concat(process.env.REACT_APP_DATABASEURL).concat(file));console.log(file);};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setState(_objectSpread(_objectSpread({},state),{},{loading:true}));_context.prev=1;token=localStorage.getItem(\"token\");_context.next=5;return instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/project\"),{headers:{Authorization:\"Bearer \".concat(token)}});case 5:res=_context.sent;setState(_objectSpread(_objectSpread({},state),{},{loading:false}));setProjecs(res.data.data.rows);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return _fetchData.apply(this,arguments);}fetchData();//eslint-disable-line\n},[]);var project=projects.filter(function(e){return e.id===Number(props.match.params.id);});console.log(project);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-content\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,{className:\"mb-4\"},\"PROJECTS\"),state.loading?/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")):/*#__PURE__*/React.createElement(\"div\",null,project.map(function(x,key){return/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-centered table-nowrap mb-0\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-light\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Project Topic\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"text-body font-weight-bold\"},\" \",x.order.topic,\" \"),\" \")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Assign To\"),/*#__PURE__*/React.createElement(\"td\",null,x.User.first_name,\" \",x.User.last_name)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Date\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Moment,{format:\"YYYY/MM/DD\"},x.order.createdAt))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Academic Level\"),/*#__PURE__*/React.createElement(\"td\",null,x.order.academic_level)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Urgency\"),/*#__PURE__*/React.createElement(\"td\",null,x.order.urgency))),/*#__PURE__*/React.createElement(\"tbody\",null)),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary waves-effect waves-light\",type:\"button\",onClick:function onClick(){downloadFile(x.order.additional_materials);}},/*#__PURE__*/React.createElement(\"i\",{class:\"mdi mdi-download font-size-16 align-middle me-2\"}),\" \",\"Download pdf\"));})))))))));};export default withNamespaces()(stateWrapper(Orderpage));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Writer/Projects/Projectpage.js"],"names":["React","useEffect","useState","Container","Row","Col","Card","CardBody","CardTitle","Link","instance","stateWrapper","withNamespaces","Moment","Orderpage","props","projects","setProjecs","loading","state","setState","downloadFile","file","window","open","process","env","REACT_APP_DATABASEURL","console","log","fetchData","token","localStorage","getItem","get","headers","Authorization","res","data","rows","project","filter","e","id","Number","match","params","map","x","key","order","topic","User","first_name","last_name","createdAt","academic_level","urgency","additional_materials"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container, Row, Col, Card, CardBody, CardTitle } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\nimport { withNamespaces } from \"react-i18next\";\nimport Moment from 'react-moment'\n\n\nconst Orderpage = (props) => {\n\n\n  const [projects, setProjecs] = useState([]);\n  const [state, setState] = useState({\n    loading: false\n  })\n\n  // function to handle project Additional material download\n  const downloadFile = (file) => {\n    window.open(`${process.env.REACT_APP_DATABASEURL}${file}`);\n    console.log(file)\n  }\n\n  useEffect(() => {\n\n    async function fetchData() {\n      setState({ ...state, loading: true })\n      try {\n        const token = localStorage.getItem(\"token\")\n        const res = await instance\n          .get(`${process.env.REACT_APP_DATABASEURL}/project`, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          })\n        setState({ ...state, loading: false })\n        setProjecs(res.data.data.rows)\n\n\n\n\n      } catch (e) {\n        console.log(e);\n      }\n    }\n    fetchData();\n    //eslint-disable-line\n  }, [])\n\n\n  const project = projects.filter((e) => e.id === Number(props.match.params.id))\n  console.log(project)\n\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                  <CardTitle className=\"mb-4\">PROJECTS</CardTitle>\n                  {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                    <span class=\"sr-only\">Loading...</span>\n                  </div>) :\n                    <div>\n                      {project.map((x, key) => (\n\n                        <div className=\"table-responsive\">\n                          <table className=\"table table-centered table-nowrap mb-0\">\n                            <thead className=\"thead-light\">\n                              <tr>\n                                <th>Project Topic</th>\n                                <td>\n                                  <Link to=\"#\" className=\"text-body font-weight-bold\">\n                                    {\" \"}\n                                    {x.order.topic}{\" \"}\n                                  </Link>{\" \"}\n                                </td>\n\n                              </tr>\n                              <tr>\n                                <th>Assign To</th>\n                                <td>{x.User.first_name} {x.User.last_name}</td>\n                              </tr>\n                              <tr>\n                                <th>Date</th>\n                                <td><Moment format=\"YYYY/MM/DD\">{x.order.createdAt}</Moment></td>\n                              </tr>\n                              <tr>\n                                <th>Academic Level</th>\n                                <td>{x.order.academic_level}</td>\n                              </tr>\n                              <tr>\n                                <th>Urgency</th>\n                                <td>{x.order.urgency}</td>\n                              </tr>\n                            </thead>\n                            <tbody>\n                            </tbody>\n                          </table>\n                          <button\n                            className=\"btn btn-primary waves-effect waves-light\"\n                            type=\"button\"\n                          onClick={() => { downloadFile(x.order.additional_materials) }}\n                          >\n                            <i class=\"mdi mdi-download font-size-16 align-middle me-2\"></i>\n                            {\" \"}Download pdf\n                              </button>\n                        </div>\n                      ))}\n                    </div>\n                  }\n\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Orderpage));"]},"metadata":{},"sourceType":"module"}