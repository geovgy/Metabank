{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Card,CardBody,CardTitle,NavItem,NavLink,Label,Input,Form,FormGroup}from\"reactstrap\";import{Link}from\"react-router-dom\";// availity-reactstrap-validation\nimport{AvForm,AvField,Button}from\"availity-reactstrap-validation\";import instance from\"../../../helpers/axiosly\";import*as _ from\"lodash\";import stateWrapper from\"../../../containers/provider\";// Pages Components\n// import LatestTranaction from \"./LatestTranaction\";\n//Import Breadcrumb\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";//i18n\nimport{withNamespaces}from\"react-i18next\";var CreateSpacing=function CreateSpacing(props){var _useState=useState({name:\"\",loading:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),updateSpacing=_useState4[0],setUpdateSpacing=_useState4[1];useEffect(function(){var spacingData,userData;userData=props.userStore.fetchUser(props);spacingData=props.masterStore.fetchSpacing(userData.access_token);if(props.match.params.id){setUpdateSpacing(\"update\");setState(_objectSpread(_objectSpread({},state),{},{name:currentSpacing.map(function(e){return e.name;})}));}else{setState(_objectSpread(_objectSpread({},state),{},{name:''}));}//eslint-disable-line\n},[]);var spacings=props.masterStore.state.sessionData.spacingList;var currentSpacing=spacings.filter(function(e){return e.id===Number(props.match.params.id);});function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var userData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setState(_objectSpread(_objectSpread({},state),{},{loading:true}));userData=props.userStore.fetchUser(props);e.preventDefault();props.masterStore.addSpacing(state,userData.access_token);setTimeout(function(){setState(_objectSpread(_objectSpread({},state),{},{name:\"\",loading:false}));},2000);setTimeout(function(){props.history.push({pathname:\"/spacing\",state:{status:'created'}});},2000);case 6:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleUpdate(_x2){return _handleUpdate.apply(this,arguments);}function _handleUpdate(){_handleUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var userData,id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setState(_objectSpread(_objectSpread({},state),{},{loading:true}));userData=props.userStore.fetchUser(props);e.preventDefault();id=Number(props.match.params.id);props.masterStore.updateSpacing(state,userData.access_token,id);setTimeout(function(){setState(_objectSpread(_objectSpread({},state),{},{name:\"\",loading:false}));},2000);setTimeout(function(){props.history.push({pathname:\"/spacing\",state:{status:'updated'}});},2000);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _handleUpdate.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-content\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Breadcrumbs,{title:props.t(\"Spacing\"),breadcrumbItem:props.t(\"Create Spacing\")}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,updateSpacing===\"\"?/*#__PURE__*/React.createElement(CardTitle,null,\"CREATE SPACING\"):/*#__PURE__*/React.createElement(CardTitle,null,\"UPDATE SPACING\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Spacing\"),/*#__PURE__*/React.createElement(Input,{value:state.name,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{name:e.target.value}));},type:\"text\",className:\"form-control\"})))),updateSpacing===\"\"?/*#__PURE__*/React.createElement(\"div\",{className:\" \"},state.loading?/*#__PURE__*/React.createElement(\"div\",{className:\"spinner-grow text-primary m-1\",role:\"status\"}):/*#__PURE__*/React.createElement(\"button\",_defineProperty({type:\"submit\",className:\"btn btn-primary waves-effect waves-light my-2\"},\"type\",\"submit\"),\"Post Spacing\")):/*#__PURE__*/React.createElement(\"div\",null,state.loading?/*#__PURE__*/React.createElement(\"div\",{className:\"spinner-grow text-primary m-1\",role:\"status\"}):/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary waves-effect waves-light mx-2\",type:\"submit\",onClick:handleUpdate},\"Update Spacing\"))))))))));};export default withNamespaces()(stateWrapper(CreateSpacing));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/SuperAdmin/Spacing/CreateSpacing.js"],"names":["React","useState","useEffect","Container","Row","Col","Card","CardBody","CardTitle","NavItem","NavLink","Label","Input","Form","FormGroup","Link","AvForm","AvField","Button","instance","_","stateWrapper","Breadcrumbs","withNamespaces","CreateSpacing","props","name","loading","state","setState","updateSpacing","setUpdateSpacing","spacingData","userData","userStore","fetchUser","masterStore","fetchSpacing","access_token","match","params","id","currentSpacing","map","e","spacings","sessionData","spacingList","filter","Number","handleSubmit","preventDefault","addSpacing","setTimeout","history","push","pathname","status","handleUpdate","t","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardTitle,\n  NavItem,\n  NavLink,\n  Label,\n  Input,\n  Form,\n  FormGroup,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\n// availity-reactstrap-validation\nimport { AvForm, AvField, Button } from \"availity-reactstrap-validation\";\nimport instance from \"../../../helpers/axiosly\";\n\n\n\nimport * as _ from \"lodash\";\nimport stateWrapper from \"../../../containers/provider\";\n\n\n\n// Pages Components\n// import LatestTranaction from \"./LatestTranaction\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\n\nconst CreateSpacing = (props) => {\n\n  const [state, setState] = useState({\n    name: \"\",\n    loading: false\n  });\n\n  const[updateSpacing, setUpdateSpacing] = useState(\"\");\n\n\n\n\n  useEffect(() => {\n    let spacingData, userData;\n    userData = props.userStore.fetchUser(props);\n\n    spacingData = props.masterStore.fetchSpacing(\n      userData.access_token\n    );\n\n\n    if(props.match.params.id){\n      setUpdateSpacing(\"update\")\n        setState({\n        ...state,\n        name: currentSpacing.map(e => {return (e.name)})\n        })\n    } else {\n        setState({\n        ...state,\n        name: ''\n      })\n      }\n\n\n    //eslint-disable-line\n  }, [])\n\n  let spacings = props.masterStore.state.sessionData.spacingList;\n\n  let currentSpacing = spacings.filter((e) => e.id === Number(props.match.params.id))\n\n\n\n  async function handleSubmit(e) {\n    setState({...state,\n      loading: true,\n    });\n    let  userData;\n    userData = props.userStore.fetchUser(props);\n\n    e.preventDefault()\n    props.masterStore.addSpacing(state, userData.access_token)\n\n    setTimeout(function(){\n      setState({...state,\n        name: \"\",\n        loading: false\n      })\n    }, 2000)\n\n    setTimeout(function(){\n      props.history.push({pathname:\"/spacing\", state:{status: 'created'}});\n    }, 2000)\n\n}\n\n  async function handleUpdate(e){\n    setState({...state,\n      loading: true,\n    });\n    let  userData;\n    userData = props.userStore.fetchUser(props);\n\n   e.preventDefault();\n\n   let id = Number(props.match.params.id)\n\n   props.masterStore.updateSpacing(state, userData.access_token, id)\n\n   setTimeout(function(){\n     setState({...state,\n       name: \"\",\n       loading: false\n     })\n   }, 2000)\n\n   setTimeout(function(){\n     props.history.push({pathname:\"/spacing\", state:{status: 'updated'}});\n   }, 2000)\n}\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Spacing\")}\n            breadcrumbItem={props.t(\"Create Spacing\")}\n          />\n\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                {updateSpacing === \"\" ? <CardTitle>CREATE SPACING</CardTitle> :\n                    <CardTitle>UPDATE SPACING</CardTitle>\n                  }\n                    <form onSubmit={handleSubmit}>\n                    <Row>\n                      <Col lg=\"6\">\n                        <FormGroup>\n                          <Label>\n                            Spacing\n                          </Label>\n                          <Input\n                            value={state.name}\n                            onChange={(e) =>\n                              setState({ ...state, name: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n\n                          />\n                        </FormGroup>\n                      </Col>\n\n\n\n\n                    </Row>\n\n                    {updateSpacing === \"\" ? (\n                       <div className=\" \">\n                         {state.loading ? (\n                           <div\n                           className=\"spinner-grow text-primary m-1\"\n                           role=\"status\"\n                         >\n                           {/* <span className=\"sr-only\">Loading...</span> */}\n                         </div>\n                         ): (\n                          <button\n                          type=\"submit\"\n                          className=\"btn btn-primary waves-effect waves-light my-2\"\n                          type=\"submit\"\n                        >\n                          Post Spacing\n                        </button>\n                         )}\n\n                       </div>\n                     ) : (\n                      <div>\n                        {state.loading ? (\n                           <div\n                           className=\"spinner-grow text-primary m-1\"\n                           role=\"status\"\n                         >\n                           {/* <span className=\"sr-only\">Loading...</span> */}\n                         </div>\n                         ): (\n                          <button\n                        className=\"btn btn-primary waves-effect waves-light mx-2\"\n                        type=\"submit\"\n                        onClick={handleUpdate}\n                        >\n                        Update Spacing\n                        </button>\n                         )}\n\n                    </div>\n                     )}\n\n\n                  </form>\n\n\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n\n);\n};\n\nexport default withNamespaces()(stateWrapper(CreateSpacing));\n"]},"metadata":{},"sourceType":"module"}