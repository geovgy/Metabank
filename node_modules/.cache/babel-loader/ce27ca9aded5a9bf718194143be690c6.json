{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/pages/Support/Support.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Card, CardBody, CardTitle, NavItem, NavLink, Label, Input, Form, FormGroup } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport modalimage1 from \"../../assets/images/product/img-7.png\";\nimport modalimage2 from \"../../assets/images/product/img-4.png\";\nimport * as _ from \"lodash\"; // availity-reactstrap-validation\n\nimport { AvForm, AvField, Button } from \"availity-reactstrap-validation\"; //Import Breadcrumb\n\nimport Breadcrumbs from \"../../components/Common/Breadcrumb\";\nimport stateWrapper from \"../../containers/provider\"; //i18n\n\nimport { withNamespaces } from \"react-i18next\";\nimport AvInput from \"availity-reactstrap-validation/lib/AvInput\";\n\nconst Support = props => {\n  const [modal, setmodal] = useState(false);\n  const [state, setState] = useState({\n    title: \"\",\n    body: \"\",\n    userId: \"\",\n    fullname: \"\",\n    success: \"\",\n    loading: false\n  }); // handleValidSubmit\n\n  function handleValidSubmit(event, values) {\n    setState({ ...state,\n      loading: true\n    }); //   event.preventDefault();\n\n    console.log(\"check support values : \", values);\n    props.supportStore.createSupportTicket(values);\n    setState({ ...state,\n      success: \"passed\",\n      loading: false\n    });\n  }\n\n  useEffect(() => {\n    // => console.log(state.success),[state.success])\n    let userData, supportData;\n    userData = props.userStore.fetchUser(props); // supportData = props.supportStore.state;\n\n    supportData = props.supportStore.createSupportTicket(props);\n    console.log(supportData);\n    console.log(\"user id in profile\", userData.id); // console.log(\"support state\", supportData.sessionData.supportStatus);\n\n    if (!_.isEmpty(userData)) {\n      setState({ ...state,\n        userId: userData.id // success : supportData.sessionData.supportStatus\n\n      });\n    } else if (supportData == \"passed\") {\n      setState({ ...state,\n        success: \"passed\"\n      });\n    } else {\n      alert(\"not available\");\n    }\n  }, [state.success]);\n  console.log(\"suppor props\", state.success);\n  console.log(\"suppor props new\", state.success, [state.success]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumbs, {\n    title: props.t(\"Support\"),\n    breadcrumbItem: props.t(\"Support\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }), state.success == \"passed\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-info alert-dismissible fade show\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"mdi mdi-alert-circle-outline mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }), \" Your support ticket have been submitted successfully !\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  })) : \"\", /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }, \"SUPPORT \"), state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"spinner-border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, \"Loading...\")) : /*#__PURE__*/React.createElement(AvForm, {\n    className: \"form-horizontal\",\n    onValidSubmit: (e, v) => {\n      handleValidSubmit(e, v);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    style: {\n      display: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(AvField, {\n    name: \"userId\",\n    value: state.userId,\n    onChange: e => setState({ ...state,\n      userId: e.target.value\n    }),\n    className: \"form-control\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"basicpill-firstname-input14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 27\n    }\n  }, \"Full Name\"), /*#__PURE__*/React.createElement(AvField, {\n    name: \"fullname\",\n    value: state.fullname,\n    onChange: e => setState({ ...state,\n      fullname: e.target.value\n    }),\n    className: \"form-control\",\n    placeholder: \"Enter Full Name\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"basicpill-firstname-input14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 27\n    }\n  }, \"Subject\"), /*#__PURE__*/React.createElement(AvField, {\n    name: \"title\",\n    value: state.title,\n    onChange: e => setState({ ...state,\n      title: e.target.value\n    }),\n    className: \"form-control\",\n    placeholder: \"Enter Subject\",\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"basicpill-firstname-input14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 27\n    }\n  }, \"Support Description\"), /*#__PURE__*/React.createElement(AvInput, {\n    name: \"body\",\n    value: state.body,\n    onChange: e => setState({ ...state,\n      body: e.target.value\n    }),\n    className: \"form-control\",\n    placeholder: \"Enter Description\",\n    type: \"textarea\",\n    rows: \"11\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary waves-effect waves-light\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 23\n    }\n  }, \"Submit\"))))))))));\n};\n\nexport default withNamespaces()(stateWrapper(Support));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Support/Support.js"],"names":["React","useState","useEffect","Container","Row","Col","Card","CardBody","CardTitle","NavItem","NavLink","Label","Input","Form","FormGroup","Link","modalimage1","modalimage2","_","AvForm","AvField","Button","Breadcrumbs","stateWrapper","withNamespaces","AvInput","Support","props","modal","setmodal","state","setState","title","body","userId","fullname","success","loading","handleValidSubmit","event","values","console","log","supportStore","createSupportTicket","userData","supportData","userStore","fetchUser","id","isEmpty","alert","t","e","v","display","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACEC,SADF,EAEEC,GAFF,EAGEC,GAHF,EAIEC,IAJF,EAKEC,QALF,EAMEC,SANF,EAOEC,OAPF,EAQEC,OARF,EASEC,KATF,EAUEC,KAVF,EAWEC,IAXF,EAYEC,SAZF,QAaO,YAbP;AAcA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AAEA,OAAO,KAAKC,CAAZ,MAAmB,QAAnB,C,CAEA;;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,MAA1B,QAAwC,gCAAxC,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AAEA,OAAOC,YAAP,MAAyB,2BAAzB,C,CAEA;;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,OAAP,MAAoB,4CAApB;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AACzB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoB5B,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAAC6B,KAAD,EAAQC,QAAR,IAAoB9B,QAAQ,CAAC;AACjC+B,IAAAA,KAAK,EAAE,EAD0B;AAEjCC,IAAAA,IAAI,EAAE,EAF2B;AAGjCC,IAAAA,MAAM,EAAE,EAHyB;AAIjCC,IAAAA,QAAQ,EAAE,EAJuB;AAKjCC,IAAAA,OAAO,EAAE,EALwB;AAMjCC,IAAAA,OAAO,EAAE;AANwB,GAAD,CAAlC,CAFyB,CAYzB;;AACA,WAASC,iBAAT,CAA2BC,KAA3B,EAAkCC,MAAlC,EAA0C;AACxCT,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWO,MAAAA,OAAO,EAAE;AAApB,KAAD,CAAR,CADwC,CAExC;;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,MAAvC;AACAb,IAAAA,KAAK,CAACgB,YAAN,CAAmBC,mBAAnB,CAAuCJ,MAAvC;AACAT,IAAAA,QAAQ,CAAC,EACP,GAAGD,KADI;AAEPM,MAAAA,OAAO,EAAE,QAFF;AAGPC,MAAAA,OAAO,EAAE;AAHF,KAAD,CAAR;AAKD;;AAEDnC,EAAAA,SAAS,CAAC,MAAM;AAEd;AACA,QAAI2C,QAAJ,EAAcC,WAAd;AACAD,IAAAA,QAAQ,GAAGlB,KAAK,CAACoB,SAAN,CAAgBC,SAAhB,CAA0BrB,KAA1B,CAAX,CAJc,CAKd;;AACAmB,IAAAA,WAAW,GAAGnB,KAAK,CAACgB,YAAN,CAAmBC,mBAAnB,CAAuCjB,KAAvC,CAAd;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAYI,WAAZ;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCG,QAAQ,CAACI,EAA3C,EARc,CASd;;AAEA,QAAI,CAAC/B,CAAC,CAACgC,OAAF,CAAUL,QAAV,CAAL,EAA0B;AACxBd,MAAAA,QAAQ,CAAC,EACP,GAAGD,KADI;AAEPI,QAAAA,MAAM,EAAEW,QAAQ,CAACI,EAFV,CAGP;;AAHO,OAAD,CAAR;AAKD,KAND,MAMO,IAAIH,WAAW,IAAI,QAAnB,EAA6B;AAClCf,MAAAA,QAAQ,CAAC,EACP,GAAGD,KADI;AAEPM,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAID,KALM,MAKA;AACLe,MAAAA,KAAK,CAAC,eAAD,CAAL;AACD;AACF,GAzBQ,EAyBN,CAACrB,KAAK,CAACM,OAAP,CAzBM,CAAT;AA0BAK,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BZ,KAAK,CAACM,OAAlC;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCZ,KAAK,CAACM,OAAtC,EAA+C,CAACN,KAAK,CAACM,OAAP,CAA/C;AAEA,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,WAAD;AACE,IAAA,KAAK,EAAET,KAAK,CAACyB,CAAN,CAAQ,SAAR,CADT;AAEE,IAAA,cAAc,EAAEzB,KAAK,CAACyB,CAAN,CAAQ,SAAR,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAMGtB,KAAK,CAACM,OAAN,IAAiB,QAAjB,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,8CADZ;AAEE,IAAA,IAAI,EAAC,OAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAG,IAAA,SAAS,EAAC,mCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,0EAOE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,OAA5B;AAAoC,oBAAa,OAAjD;AAAyD,kBAAW,OAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAM,mBAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,CAPF,CADF,eAYE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADD,GAgBC,EAtBJ,eAyBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGN,KAAK,CAACO,OAAN,gBAAiB;AAAK,IAAA,KAAK,EAAC,gBAAX;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAClB;AAAM,IAAA,KAAK,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADkB,CAAjB,gBAGC,oBAAC,MAAD;AACA,IAAA,SAAS,EAAC,iBADV;AAEA,IAAA,aAAa,EAAE,CAACgB,CAAD,EAAIC,CAAJ,KAAU;AACvBhB,MAAAA,iBAAiB,CAACe,CAAD,EAAIC,CAAJ,CAAjB;AACD,KAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAEzB,KAAK,CAACI,MAFf;AAGE,IAAA,QAAQ,EAAGmB,CAAD,IACRtB,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYI,MAAAA,MAAM,EAAEmB,CAAC,CAACG,MAAF,CAASC;AAA7B,KAAD,CAJZ;AAME,IAAA,SAAS,EAAC,cANZ;AAOE,IAAA,IAAI,EAAC,MAPP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAYE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAC,6BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAIE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,KAAK,EAAE3B,KAAK,CAACK,QAFf;AAGE,IAAA,QAAQ,EAAGkB,CAAD,IACRtB,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYK,MAAAA,QAAQ,EAAEkB,CAAC,CAACG,MAAF,CAASC;AAA/B,KAAD,CAJZ;AAME,IAAA,SAAS,EAAC,cANZ;AAOE,IAAA,WAAW,EAAC,iBAPd;AAQE,IAAA,IAAI,EAAC,MARP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAZF,CADF,eA8BE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAC,6BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAKE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,KAAK,EAAE3B,KAAK,CAACE,KAFf;AAGE,IAAA,QAAQ,EAAGqB,CAAD,IACRtB,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYE,MAAAA,KAAK,EAAEqB,CAAC,CAACG,MAAF,CAASC;AAA5B,KAAD,CAJZ;AAME,IAAA,SAAS,EAAC,cANZ;AAOE,IAAA,WAAW,EAAC,eAPd;AAQE,IAAA,IAAI,EAAC,MARP;AASE,IAAA,QAAQ,MATV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,CA9BF,CANA,eAyDA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAC,6BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAWE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAE3B,KAAK,CAACG,IAFf;AAGE,IAAA,QAAQ,EAAGoB,CAAD,IACRtB,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYG,MAAAA,IAAI,EAAEoB,CAAC,CAACG,MAAF,CAASC;AAA3B,KAAD,CAJZ;AAME,IAAA,SAAS,EAAC,cANZ;AAOE,IAAA,WAAW,EAAC,mBAPd;AAQE,IAAA,IAAI,EAAC,UARP;AASE,IAAA,IAAI,EAAC,IATP;AAUE,IAAA,QAAQ,MAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADF,CADF,CAzDA,eA2FA;AAAK,IAAA,SAAS,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,0CADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CA3FA,CALJ,CADF,CADF,CADF,CAzBF,CADF,CADF,CADF;AAkJD,CAxMD;;AA0MA,eAAejC,cAAc,GAAGD,YAAY,CAACG,OAAD,CAAf,CAA7B","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardTitle,\n  NavItem,\n  NavLink,\n  Label,\n  Input,\n  Form,\n  FormGroup,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\nimport modalimage1 from \"../../assets/images/product/img-7.png\";\nimport modalimage2 from \"../../assets/images/product/img-4.png\";\n\nimport * as _ from \"lodash\";\n\n// availity-reactstrap-validation\nimport { AvForm, AvField, Button } from \"availity-reactstrap-validation\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../components/Common/Breadcrumb\";\n\nimport stateWrapper from \"../../containers/provider\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\nimport AvInput from \"availity-reactstrap-validation/lib/AvInput\";\n\nconst Support = (props) => {\n  const [modal, setmodal] = useState(false);\n  const [state, setState] = useState({\n    title: \"\",\n    body: \"\",\n    userId: \"\",\n    fullname: \"\",\n    success: \"\",\n    loading: false\n  });\n\n\n  // handleValidSubmit\n  function handleValidSubmit(event, values) {\n    setState({...state, loading: true})\n    //   event.preventDefault();\n    console.log(\"check support values : \", values);\n    props.supportStore.createSupportTicket(values)\n    setState({\n      ...state,\n      success: \"passed\",\n      loading: false\n    });\n  }\n\n  useEffect(() => {\n\n    // => console.log(state.success),[state.success])\n    let userData, supportData;\n    userData = props.userStore.fetchUser(props);\n    // supportData = props.supportStore.state;\n    supportData = props.supportStore.createSupportTicket(props);\n    console.log(supportData);\n    console.log(\"user id in profile\", userData.id);\n    // console.log(\"support state\", supportData.sessionData.supportStatus);\n\n    if (!_.isEmpty(userData)) {\n      setState({\n        ...state,\n        userId: userData.id,\n        // success : supportData.sessionData.supportStatus\n      });\n    } else if (supportData == \"passed\") {\n      setState({\n        ...state,\n        success: \"passed\",\n      });\n    } else {\n      alert(\"not available\");\n    }\n  }, [state.success]);\n  console.log(\"suppor props\", state.success);\n  console.log(\"suppor props new\", state.success, [state.success]);\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Support\")}\n            breadcrumbItem={props.t(\"Support\")}\n          />\n          {state.success == \"passed\" ? (\n            <div>\n              <div\n                className=\"alert alert-info alert-dismissible fade show\"\n                role=\"alert\"\n              >\n                <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> Your support\n                ticket have been submitted successfully !\n\n                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div className=\"mb-4\"></div>\n            </div>\n          ) : (\n            \"\"\n          )}\n\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                  <CardTitle>SUPPORT </CardTitle>\n                  {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                  </div>): (\n                    <AvForm\n                    className=\"form-horizontal\"\n                    onValidSubmit={(e, v) => {\n                      handleValidSubmit(e, v);\n                    }}\n                  >\n                    <Row>\n                      <Col lg=\"6\">\n                        <FormGroup style={{ display: \"none\" }}>\n                          <AvField\n                            name=\"userId\"\n                            value={state.userId}\n                            onChange={(e) =>\n                              setState({ ...state, userId: e.target.value })\n                            }\n                            className=\"form-control\"\n                            type=\"text\"\n                          />\n                        </FormGroup>\n                        <FormGroup>\n                          <Label for=\"basicpill-firstname-input14\">\n                            Full Name\n                          </Label>\n                          <AvField\n                            name=\"fullname\"\n                            value={state.fullname}\n                            onChange={(e) =>\n                              setState({ ...state, fullname: e.target.value })\n                            }\n                            className=\"form-control\"\n                            placeholder=\"Enter Full Name\"\n                            type=\"text\"\n                          />\n                        </FormGroup>\n                      </Col>\n\n                      <Col lg=\"6\">\n                        <FormGroup>\n                          <Label for=\"basicpill-firstname-input14\">\n                            Subject\n                          </Label>\n\n                          <AvField\n                            name=\"title\"\n                            value={state.title}\n                            onChange={(e) =>\n                              setState({ ...state, title: e.target.value })\n                            }\n                            className=\"form-control\"\n                            placeholder=\"Enter Subject\"\n                            type=\"text\"\n                            required\n                          />\n                        </FormGroup>\n                      </Col>\n                    </Row>\n\n                    <Row>\n                      <Col lg=\"12\">\n                        <FormGroup>\n                          <Label for=\"basicpill-firstname-input14\">\n                            Support Description\n                          </Label>\n                          {/* <textarea\n                            placeholder=\"Enter description\"\n                            id=\"basicpill-address-input2\"\n                            className=\"form-control\"\n                            rows=\"11\"\n                          ></textarea> */}\n\n                          <AvInput\n                            name=\"body\"\n                            value={state.body}\n                            onChange={(e) =>\n                              setState({ ...state, body: e.target.value })\n                            }\n                            className=\"form-control\"\n                            placeholder=\"Enter Description\"\n                            type=\"textarea\"\n                            rows=\"11\"\n                            required\n                          />\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                    {/* <Link\n                      className=\"btn btn-primary waves-effect waves-light\"\n                      to=\"#\"\n                    >\n                      Submit\n                    </Link> */}\n                    <div className=\" \">\n                      <button\n                        className=\"btn btn-primary waves-effect waves-light\"\n                        type=\"submit\"\n                      >\n                        Submit\n                      </button>\n                    </div>\n                  </AvForm>\n                  )}\n\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Support));\n"]},"metadata":{},"sourceType":"module"}