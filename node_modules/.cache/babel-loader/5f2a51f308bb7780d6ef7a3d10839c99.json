{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/pages/SuperAdmin/Project/AssignProject.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Row, Col, Card, CardBody, CardTitle, Badge, Button } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\nimport { withNamespaces } from \"react-i18next\";\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\nimport Pagination from './Pagination';\n\nconst Users = props => {\n  const [users, setUsers] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [state, setState] = useState({\n    userId: null,\n    orderId: null,\n    loading: false\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [orderPerPage, setUsersPerPage] = useState(4); //get current page\n\n  const indexOfLastOrder = currentPage * orderPerPage;\n  const indexOffirstOrder = indexOfLastOrder - orderPerPage;\n  const currentOrders = orders.slice(indexOffirstOrder, indexOfLastOrder); //change page\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  useEffect(() => {\n    setState({ ...state,\n      loading: true\n    });\n\n    async function fetchData() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const userRes = await instance.get(`${process.env.REACT_APP_DATABASEURL}/user`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setState({ ...state,\n          loading: false\n        });\n        setUsers(userRes.data.data.rows);\n        const orderRes = await instance.get(`${process.env.REACT_APP_DATABASEURL}/order`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setOrders(orderRes.data.data.rows);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    fetchData(); //eslint-disable-line\n  }, []);\n  const writers = users.filter(user => user.RoleId === 3);\n  const clients = users.filter(user => user.RoleId === 2);\n  const [search, setsearch] = useState(false);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      const formData = new FormData();\n      const token = localStorage.getItem(\"token\");\n      console.log(state.userId);\n      formData.append(\"user_id\", state.userId);\n      formData.append(\"order_id\", state.orderId); //state.serviceType); \n\n      await instance.post(`${process.env.REACT_APP_DATABASEURL}project`, {}, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => {\n        console.log(response.data.data);\n      }).catch(e => console.log(e));\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumbs, {\n    title: props.t(\"Project\"),\n    breadcrumbItem: props.t(\"Assign Project\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"spinner-border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, \"Loading...\")) : /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-0\",\n    \"aria-labelledby\": \"page-header-search-dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 32\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 36\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Search...\",\n    \"aria-label\": \"Recipient's username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 38\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 40\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"mdi mdi-magnify\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 90\n    }\n  }))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 32\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 32\n    }\n  }, \"Writer\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 28\n    }\n  }, writers.map((writer, key) => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 32\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-control custom-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 36\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"custom-control-input\",\n    id: writer.id,\n    value: state.userId,\n    onChange: e => setState({ ...state,\n      userId: writer.id\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: writer.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 38\n    }\n  }, \"\\xA0\"))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 34\n    }\n  }, writer.first_name, \" \", writer.last_name)))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 32\n    }\n  }, \"Client\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 28\n    }\n  }, clients.map((client, key) => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 32\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 34\n    }\n  }, client.first_name, \" \", client.last_name)))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"table-primary\",\n    onClick: () => {\n      setsearch(!search);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 32\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 32\n    }\n  }, \"Orders\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 28\n    }\n  }, currentOrders.map((order, key) => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 32\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-control custom-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 36\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"custom-control-input\",\n    id: order.id,\n    value: state.orderId,\n    onChange: e => setState({ ...state,\n      orderId: order.id\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: order.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 38\n    }\n  }, \"\\xA0\"))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 34\n    }\n  }, order.topic))))), /*#__PURE__*/React.createElement(Pagination, {\n    orderPerPage: orderPerPage,\n    totalOrder: orders.length,\n    paginate: paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    className: \"btn btn-primary waves-effect waves-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 34\n    }\n  }, \" \", \"Assign Project\")))))))))));\n};\n\nexport default withNamespaces()(stateWrapper(Users));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/SuperAdmin/Project/AssignProject.js"],"names":["React","useEffect","useState","Container","Row","Col","Card","CardBody","CardTitle","Badge","Button","Link","instance","stateWrapper","withNamespaces","Breadcrumbs","Pagination","Users","props","users","setUsers","orders","setOrders","state","setState","userId","orderId","loading","currentPage","setCurrentPage","orderPerPage","setUsersPerPage","indexOfLastOrder","indexOffirstOrder","currentOrders","slice","paginate","pageNumber","fetchData","token","localStorage","getItem","userRes","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","data","rows","orderRes","e","console","log","writers","filter","user","RoleId","clients","search","setsearch","handleSubmit","preventDefault","formData","FormData","append","post","then","response","catch","t","width","map","writer","key","id","first_name","last_name","client","order","topic","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAUC,SAAV,EAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqCC,QAArC,EAA+CC,SAA/C,EAA0DC,KAA1D,EAAiEC,MAAjE,QAA+E,YAA/E;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAEvB,QAAK,CAACC,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAK,CAACmB,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,EAAD,CAAnC;AAEA,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC;AACjCuB,IAAAA,MAAM,EAAE,IADyB;AAEjCC,IAAAA,OAAO,EAAE,IAFwB;AAGjCC,IAAAA,OAAO,EAAE;AAHwB,GAAD,CAAlC;AAKA,QAAK,CAACC,WAAD,EAAcC,cAAd,IAAgC3B,QAAQ,CAAC,CAAD,CAA7C;AACA,QAAM,CAAC4B,YAAD,EAAeC,eAAf,IAAkC7B,QAAQ,CAAC,CAAD,CAAhD,CAXuB,CAavB;;AACA,QAAM8B,gBAAgB,GAAGJ,WAAW,GAAGE,YAAvC;AACA,QAAMG,iBAAiB,GAAGD,gBAAgB,GAAGF,YAA7C;AACA,QAAMI,aAAa,GAAGb,MAAM,CAACc,KAAP,CAAaF,iBAAb,EAAgCD,gBAAhC,CAAtB,CAhBuB,CAiBvB;;AACA,QAAMI,QAAQ,GAAIC,UAAD,IAAgBR,cAAc,CAACQ,UAAD,CAA/C;;AAEApC,EAAAA,SAAS,CAAC,MAAM;AACduB,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWI,MAAAA,OAAO,EAAE;AAApB,KAAD,CAAR;;AACA,mBAAeW,SAAf,GAA0B;AAC1B,UAAI;AACF,cAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,cAAMC,OAAO,GAAG,MAAM9B,QAAQ,CAC3B+B,GADmB,CACd,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,OADtB,EAC8B;AAChDC,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,EAAG,UAAST,KAAM;AADxB;AADuC,SAD9B,CAAtB;AAMEf,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWI,UAAAA,OAAO,EAAE;AAApB,SAAD,CAAR;AACAP,QAAAA,QAAQ,CAACsB,OAAO,CAACO,IAAR,CAAaA,IAAb,CAAkBC,IAAnB,CAAR;AAEA,cAAMC,QAAQ,GAAG,MAAMvC,QAAQ,CAC9B+B,GADsB,CACjB,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,QADnB,EAC4B;AACjDC,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,EAAG,UAAST,KAAM;AADxB;AADwC,SAD5B,CAAvB;AAOAjB,QAAAA,SAAS,CAAC6B,QAAQ,CAACF,IAAT,CAAcA,IAAd,CAAmBC,IAApB,CAAT;AAEH,OApBD,CAoBE,OAAOE,CAAP,EAAU;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACA;;AACDd,IAAAA,SAAS,GA3BK,CA4Bd;AACD,GA7BQ,EA6BN,EA7BM,CAAT;AA+BA,QAAMiB,OAAO,GAAGpC,KAAK,CAACqC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACC,MAAL,KAAgB,CAArC,CAAhB;AACA,QAAMC,OAAO,GAAGxC,KAAK,CAACqC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACC,MAAL,KAAgB,CAArC,CAAhB;AAGA,QAAM,CAACE,MAAD,EAASC,SAAT,IAAsB3D,QAAQ,CAAC,KAAD,CAApC;;AAEA,iBAAe4D,YAAf,CAA4BV,CAA5B,EAA+B;AAC7BA,IAAAA,CAAC,CAACW,cAAF;;AAEE,QAAI;AACF,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACA,YAAM1B,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY/B,KAAK,CAACE,MAAlB;AACAuC,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2B3C,KAAK,CAACE,MAAjC;AACAuC,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4B3C,KAAK,CAACG,OAAlC,EALE,CAK0C;;AAG5C,YAAMd,QAAQ,CACTuD,IADC,CACK,GAAEvB,OAAO,CAACC,GAAR,CAAYC,qBAAsB,SADzC,EACmD,EADnD,EAGC;AACDC,QAAAA,OAAO,EAAE;AACP,0BAAgB,qBADT;AAEPC,UAAAA,aAAa,EAAG,UAAST,KAAM;AAFxB;AADR,OAHD,EAQC6B,IARD,CAQOC,QAAD,IAAc;AAClBhB,QAAAA,OAAO,CAACC,GAAR,CAAYe,QAAQ,CAACpB,IAAT,CAAcA,IAA1B;AAAgC,OATlC,EAUGqB,KAVH,CAUUlB,CAAD,IAAOC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAVhB,CAAN;AAYD,KApBD,CAqBC,OAAOA,CAAP,EAAU;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACJ;;AAED,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEC,oBAAC,WAAD;AACG,IAAA,KAAK,EAAElC,KAAK,CAACqD,CAAN,CAAQ,SAAR,CADV;AAEG,IAAA,cAAc,EAAErD,KAAK,CAACqD,CAAN,CAAQ,gBAAR,CAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAMF,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhD,KAAK,CAACI,OAAN,gBAAiB;AAAK,IAAA,KAAK,EAAC,gBAAX;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACV;AAAM,IAAA,KAAK,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADU,CAAjB,gBAGY;AAAM,IAAA,QAAQ,EAAEmC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,KAAf;AACQ,uBAAgB,6BADxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEQ;AAAM,IAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,cAA7B;AAA4C,IAAA,WAAW,EAAC,WAAxD;AAAoE,kBAAW,sBAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,IAAI,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkD;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlD,CADF,CAFF,CADF,CADF,CAFR,CADA,eAcA;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAE;AAAEU,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,CADF,CADF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGjB,OAAO,CAACkB,GAAR,CAAY,CAACC,MAAD,EAASC,GAAT,kBACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,SAAS,EAAC,sBAFZ;AAGE,IAAA,EAAE,EAAED,MAAM,CAACE,EAHb;AAIE,IAAA,KAAK,EAAErD,KAAK,CAACE,MAJf;AAKE,IAAA,QAAQ,EAAE2B,CAAC,IAAI5B,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWE,MAAAA,MAAM,EAAEiD,MAAM,CAACE;AAA1B,KAAD,CALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AACE,IAAA,SAAS,EAAC,sBADZ;AAEE,IAAA,OAAO,EAAEF,MAAM,CAACE,EAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,CADF,CADF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,MAAM,CAACG,UAAZ,OAAyBH,MAAM,CAACI,SAAhC,CAlBF,CADD,CADH,CATF,CADF,CADA,eAsCD;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK;AAAO,IAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,CADL,eAMK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnB,OAAO,CAACc,GAAR,CAAY,CAACM,MAAD,EAASJ,GAAT,kBACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKI,MAAM,CAACF,UAAZ,OAAyBE,MAAM,CAACD,SAAhC,CADF,CADD,CADH,CANL,CADA,CAtCC,eAuDD;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK;AAAO,IAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,eAAd;AAA8B,IAAA,OAAO,EAAE,MAAM;AAAEjB,MAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AAAoB,KAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAE;AAAEY,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,CADF,CADL,eAWK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKtC,aAAa,CAACuC,GAAd,CAAkB,CAACO,KAAD,EAAQL,GAAR,kBACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,SAAS,EAAC,sBAFZ;AAGE,IAAA,EAAE,EAAEK,KAAK,CAACJ,EAHZ;AAIE,IAAA,KAAK,EAAErD,KAAK,CAACG,OAJf;AAKE,IAAA,QAAQ,EAAE0B,CAAC,IAAI5B,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWG,MAAAA,OAAO,EAAEsD,KAAK,CAACJ;AAA1B,KAAD,CALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AACE,IAAA,SAAS,EAAC,sBADZ;AAEE,IAAA,OAAO,EAAEI,KAAK,CAACJ,EAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,CADF,CADF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKI,KAAK,CAACC,KAAX,CAlBF,CADC,CADL,CAXL,CADA,eAsCG,oBAAC,UAAD;AAAY,IAAA,YAAY,EAAEnD,YAA1B;AAAwC,IAAA,UAAU,EAAET,MAAM,CAAC6D,MAA3D;AAAmE,IAAA,QAAQ,EAAE9C,QAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtCH,CAvDC,eA+FD;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACW,oBAAC,MAAD;AACA,IAAA,IAAI,EAAC,QADL;AAEA,IAAA,KAAK,EAAC,SAFN;AAGA,IAAA,SAAS,EAAC,0CAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKG,GALH,mBADX,CA/FC,CAdA,CAJf,CADF,CANE,CADA,CADA,CADA,CADJ,CADF;AAwJD,CA9OD;;AAgPA,eAAetB,cAAc,GAAGD,YAAY,CAACI,KAAD,CAAf,CAA7B","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {  Container, Row, Col, Card, CardBody, CardTitle, Badge, Button } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\nimport { withNamespaces } from \"react-i18next\";\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\nimport Pagination from './Pagination'\n\nconst Users = (props) => {\n \n  const[users, setUsers] = useState([]);\n  const[orders, setOrders] = useState([])\n\n  const [state, setState] = useState({\n    userId: null,\n    orderId: null,\n    loading: false\n  })\n  const[currentPage, setCurrentPage] = useState(1);\n  const [orderPerPage, setUsersPerPage] = useState(4)\n\n  //get current page\n  const indexOfLastOrder = currentPage * orderPerPage;\n  const indexOffirstOrder = indexOfLastOrder - orderPerPage;\n  const currentOrders = orders.slice(indexOffirstOrder, indexOfLastOrder);\n  //change page\n  const paginate = (pageNumber) => setCurrentPage(pageNumber)\n\n  useEffect(() => {\n    setState({...state, loading: true})\n    async function fetchData(){ \n    try {\n      const token = localStorage.getItem(\"token\")\n      const userRes = await instance\n        .get(`${process.env.REACT_APP_DATABASEURL}/user`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        setState({...state, loading: false})\n        setUsers(userRes.data.data.rows)\n\n        const orderRes = await instance\n        .get(`${process.env.REACT_APP_DATABASEURL}/order`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        \n        setOrders(orderRes.data.data.rows)\n       \n    } catch (e) {\n      console.log(e);\n    } \n    }\n    fetchData();\n    //eslint-disable-line\n  }, [])\n  \n  const writers = users.filter(user => user.RoleId === 3)\n  const clients = users.filter(user => user.RoleId === 2)\n\n\n  const [search, setsearch] = useState(false);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    \n      try {\n        const formData = new FormData();\n        const token = localStorage.getItem(\"token\")\n        console.log(state.userId)\n        formData.append(\"user_id\", state.userId);\n        formData.append(\"order_id\", state.orderId); //state.serviceType); \n      \n        \n        await instance\n            .post(`${process.env.REACT_APP_DATABASEURL}project`, {\n              \n            }, {\n              headers: {\n                \"Content-Type\": \"multipart/form-data\",\n                Authorization: `Bearer ${token}`,\n              },\n            }).then((response) => {\n                console.log(response.data.data)})\n                .catch((e) => console.log(e));\n               \n      }\n       catch (e) {\n        console.log(e);\n      }\n  }\n\n  return (\n    <React.Fragment>\n        <div className=\"page-content\">\n        <Container fluid>\n        <Row>\n        <Col lg=\"12\">\n         {/* Render Breadcrumb */}\n         <Breadcrumbs\n            title={props.t(\"Project\")}\n            breadcrumbItem={props.t(\"Assign Project\")}\n          />\n      <Card>\n        <CardBody>\n          {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                  </div>):(\n                       <form onSubmit={handleSubmit}>\n                       <div className=\"p-0\"\n                               aria-labelledby=\"page-header-search-dropdown\">\n                               <form className=\"p-3\">\n                                 <div className=\"form-group m-0\">\n                                   <div className=\"input-group\">\n                                     <input type=\"text\" className=\"form-control\" placeholder=\"Search...\" aria-label=\"Recipient's username\" />\n                                     <div className=\"input-group-append\">\n                                       <button className=\"btn btn-primary\" type=\"submit\"><i className=\"mdi mdi-magnify\"></i></button>\n                                     </div>\n                                   </div>\n                                 </div>\n                               </form>\n                             </div>\n                       <div className=\"row\">\n                       <div className=\"table-responsive col\">\n                         <table className=\"table\">\n                           <thead className=\"thead-light\">\n                             <tr>\n                               <th style={{ width: \"20px\" }}>\n                                 {\" \"}\n                               </th>\n                               <th>Writer</th>\n                             </tr>\n                           </thead>\n                           <tbody>\n                             {writers.map((writer, key) => (\n                               <tr>\n                                 <td>\n                                   <div className=\"custom-control custom-checkbox\">\n                                     <input\n                                       type=\"checkbox\"\n                                       className=\"custom-control-input\"\n                                       id={writer.id}\n                                       value={state.userId}\n                                       onChange={e => setState({...state, userId: writer.id})}\n                                     />\n                                     <label\n                                       className=\"custom-control-label\"\n                                       htmlFor={writer.id}\n                                     >\n                                       &nbsp;\n                                     </label>\n                                   </div>\n                                 </td>\n                                 <td>{writer.first_name} {writer.last_name}</td>      \n                               </tr>\n                             ))}\n                             \n                           </tbody>\n                         </table>\n                       </div>\n                      <div className=\"table-responsive col\">\n                      <table className=\"table\">\n                           <thead className=\"thead-light\">\n                             <tr>\n                               <th>Client</th>\n                             </tr>\n                           </thead>\n                           <tbody>\n                             {clients.map((client, key) => (\n                               <tr>\n                                 <td>{client.first_name} {client.last_name}</td>       \n                               </tr>\n                             ))}\n                             \n                           </tbody>\n                         </table>\n                      </div>\n                      <div className=\"col\">\n                      <table className=\"table\">\n                           <thead className=\"thead-light\">\n                             <tr className=\"table-primary\" onClick={() => { setsearch(!search) }}>\n                               <th style={{ width: \"20px\" }}>\n                                 {\" \"}\n                               </th>\n                               <th>\n                                     Orders\n                               </th>\n                             </tr>\n                           </thead>\n                           <tbody>\n                               {currentOrders.map((order, key) => ( \n                               <tr>\n                                 <td>\n                                   <div className=\"custom-control custom-checkbox\">\n                                     <input\n                                       type=\"checkbox\"\n                                       className=\"custom-control-input\"\n                                       id={order.id}\n                                       value={state.orderId}\n                                       onChange={e => setState({...state, orderId: order.id})}\n                                     />\n                                     <label\n                                       className=\"custom-control-label\"\n                                       htmlFor={order.id}\n                                     >\n                                       &nbsp;\n                                     </label>\n                                   </div>\n                                 </td>\n                                 <td>{order.topic}</td>        \n                               </tr>  \n                                  ))}                          \n                           </tbody>\n                           \n                         </table>\n                         <Pagination orderPerPage={orderPerPage} totalOrder={orders.length} paginate={paginate}/> \n                      </div>\n                      <div className=\"col\"> \n                                 <Button\n                                 type=\"submit\"\n                                 color=\"primary\"\n                                 className=\"btn btn-primary waves-effect waves-light\"\n                                   >\n                                   {\" \"}\n                                  Assign Project\n                                 </Button>\n             \n                      </div>\n                      </div>\n                        \n                       \n                     \n                       </form>\n                  )}\n         \n\n        </CardBody>\n        </Card>\n        </Col>\n        </Row>\n    </Container>\n            </div>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Users));\n"]},"metadata":{},"sourceType":"module"}