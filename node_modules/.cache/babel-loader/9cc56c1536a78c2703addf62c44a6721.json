{"ast":null,"code":"import { all, call, fork, takeEvery, put } from \"redux-saga/effects\";\nimport { CHANGE_LAYOUT, CHANGE_LAYOUT_WIDTH, CHANGE_SIDEBAR_THEME, CHANGE_SIDEBAR_TYPE, CHANGE_TOPBAR_THEME, SHOW_RIGHT_SIDEBAR } from \"./actionTypes\";\nimport { changeSidebarType as changeSidebarTypeAction, changeTopbarTheme as changeTopbarThemeAction } from \"./actions\";\n/**\n * Changes the body attribute\n */\n\nfunction changeBodyAttribute(attribute, value) {\n  if (document.body) document.body.setAttribute(attribute, value);\n  return true;\n}\n/**\n * Toggle the class on body\n * @param {*} cssClass\n */\n\n\nfunction manageBodyClass(cssClass, action = \"toggle\") {\n  switch (action) {\n    case \"add\":\n      if (document.body) document.body.classList.add(cssClass);\n      break;\n\n    case \"remove\":\n      if (document.body) document.body.classList.remove(cssClass);\n      break;\n\n    default:\n      if (document.body) document.body.classList.toggle(cssClass);\n      break;\n  }\n\n  return true;\n}\n/**\n * Changes the layout type\n * @param {*} param0\n */\n\n\nfunction* changeLayout({\n  payload: layout\n}) {\n  try {\n    if (layout === 'horizontal') {\n      yield put(changeTopbarThemeAction('dark'));\n      document.body.removeAttribute('data-sidebar');\n      document.body.removeAttribute('data-sidebar-size');\n    } else {\n      yield put(changeTopbarThemeAction('light'));\n    }\n\n    yield call(changeBodyAttribute, \"data-layout\", layout);\n  } catch (error) {}\n}\n/**\n * Changes the layout width\n * @param {*} param0\n */\n\n\nfunction* changeLayoutWidth({\n  payload: width\n}) {\n  try {\n    if (width === 'boxed') {\n      yield put(changeSidebarTypeAction(\"icon\"));\n    } else {\n      yield put(changeSidebarTypeAction(\"default\"));\n    }\n\n    yield call(changeBodyAttribute, \"data-layout-size\", width);\n  } catch (error) {}\n}\n/**\n * Changes the left sidebar theme\n * @param {*} param0\n */\n\n\nfunction* changeLeftSidebarTheme({\n  payload: theme\n}) {\n  try {\n    yield call(changeBodyAttribute, \"data-sidebar\", theme);\n  } catch (error) {}\n}\n/**\n * Changes the topbar theme\n * @param {*} param0\n */\n\n\nfunction* changeTopbarTheme({\n  payload: theme\n}) {\n  try {\n    yield call(changeBodyAttribute, \"data-topbar\", theme);\n  } catch (error) {}\n}\n/**\n * Changes the left sidebar type\n * @param {*} param0\n */\n\n\nfunction* changeLeftSidebarType({\n  payload: {\n    sidebarType,\n    isMobile\n  }\n}) {\n  try {\n    switch (sidebarType) {\n      case \"compact\":\n        yield call(changeBodyAttribute, \"data-sidebar-size\", \"small\");\n        yield call(manageBodyClass, \"sidebar-enable\", \"remove\");\n        yield call(manageBodyClass, \"vertical-collpsed\", \"remove\");\n        break;\n\n      case \"icon\":\n        yield call(changeBodyAttribute, \"data-keep-enlarged\", \"true\");\n        yield call(manageBodyClass, \"vertical-collpsed\", \"add\");\n        break;\n\n      case \"condensed\":\n        yield call(manageBodyClass, \"sidebar-enable\", \"add\");\n        if (!isMobile) yield call(manageBodyClass, \"vertical-collpsed\", \"add\");\n        break;\n\n      default:\n        yield call(changeBodyAttribute, \"data-sidebar-size\", \"\");\n        yield call(manageBodyClass, \"sidebar-enable\", \"remove\");\n        if (!isMobile) yield call(manageBodyClass, \"vertical-collpsed\", \"remove\");\n        break;\n    }\n  } catch (error) {}\n}\n/**\n * Show the rightsidebar\n */\n\n\nfunction* showRightSidebar() {\n  try {\n    yield call(manageBodyClass, \"right-bar-enabled\", \"add\");\n  } catch (error) {}\n}\n/**\n * Watchers\n */\n\n\nexport function* watchChangeLayoutType() {\n  yield takeEvery(CHANGE_LAYOUT, changeLayout);\n}\nexport function* watchChangeLayoutWidth() {\n  yield takeEvery(CHANGE_LAYOUT_WIDTH, changeLayoutWidth);\n}\nexport function* watchChangeLeftSidebarTheme() {\n  yield takeEvery(CHANGE_SIDEBAR_THEME, changeLeftSidebarTheme);\n}\nexport function* watchChangeLeftSidebarType() {\n  yield takeEvery(CHANGE_SIDEBAR_TYPE, changeLeftSidebarType);\n}\nexport function* watchChangeTopbarTheme() {\n  yield takeEvery(CHANGE_TOPBAR_THEME, changeTopbarTheme);\n}\nexport function* watchShowRightSidebar() {\n  yield takeEvery(SHOW_RIGHT_SIDEBAR, showRightSidebar);\n}\n\nfunction* LayoutSaga() {\n  yield all([fork(watchChangeLayoutType), fork(watchChangeLayoutWidth), fork(watchChangeLeftSidebarTheme), fork(watchChangeLeftSidebarType), fork(watchShowRightSidebar), fork(watchChangeTopbarTheme)]);\n}\n\nexport default LayoutSaga;","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/store/layout/saga.js"],"names":["all","call","fork","takeEvery","put","CHANGE_LAYOUT","CHANGE_LAYOUT_WIDTH","CHANGE_SIDEBAR_THEME","CHANGE_SIDEBAR_TYPE","CHANGE_TOPBAR_THEME","SHOW_RIGHT_SIDEBAR","changeSidebarType","changeSidebarTypeAction","changeTopbarTheme","changeTopbarThemeAction","changeBodyAttribute","attribute","value","document","body","setAttribute","manageBodyClass","cssClass","action","classList","add","remove","toggle","changeLayout","payload","layout","removeAttribute","error","changeLayoutWidth","width","changeLeftSidebarTheme","theme","changeLeftSidebarType","sidebarType","isMobile","showRightSidebar","watchChangeLayoutType","watchChangeLayoutWidth","watchChangeLeftSidebarTheme","watchChangeLeftSidebarType","watchChangeTopbarTheme","watchShowRightSidebar","LayoutSaga"],"mappings":"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","sourcesContent":["// @flow\nimport { all, call, fork, takeEvery, put } from \"redux-saga/effects\";\n\nimport {\n\tCHANGE_LAYOUT,\n\tCHANGE_LAYOUT_WIDTH,\n\tCHANGE_SIDEBAR_THEME,\n\tCHANGE_SIDEBAR_TYPE,\n\tCHANGE_TOPBAR_THEME,\n\tSHOW_RIGHT_SIDEBAR\n} from \"./actionTypes\";\n\nimport {\n\tchangeSidebarType as changeSidebarTypeAction,\n\tchangeTopbarTheme as changeTopbarThemeAction,\n} from \"./actions\";\n\n/**\n * Changes the body attribute\n */\nfunction changeBodyAttribute(attribute, value) {\n\tif (document.body) document.body.setAttribute(attribute, value);\n\treturn true;\n}\n\n\n/**\n * Toggle the class on body\n * @param {*} cssClass\n */\nfunction manageBodyClass(cssClass, action = \"toggle\") {\n\tswitch (action) {\n\t\tcase \"add\":\n\t\t\tif (document.body) document.body.classList.add(cssClass);\n\t\t\tbreak;\n\t\tcase \"remove\":\n\t\t\tif (document.body) document.body.classList.remove(cssClass);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tif (document.body) document.body.classList.toggle(cssClass);\n\t\t\tbreak;\n\t}\n\n\treturn true;\n}\n\n/**\n * Changes the layout type\n * @param {*} param0\n */\nfunction* changeLayout({ payload: layout }) {\n\ttry {\n\t\tif (layout === 'horizontal') {\n\t\t\tyield put(changeTopbarThemeAction('dark'));\n\t\t\tdocument.body.removeAttribute('data-sidebar');\n\t\t\tdocument.body.removeAttribute('data-sidebar-size');\n\t\t} else {\n\t\t\tyield put(changeTopbarThemeAction('light'));\n\t\t}\n\t\tyield call(changeBodyAttribute, \"data-layout\", layout);\n\n\t} catch (error) { }\n}\n\n/**\n * Changes the layout width\n * @param {*} param0\n */\nfunction* changeLayoutWidth({ payload: width }) {\n\ttry {\n\t\tif (width === 'boxed') {\n\t\t\tyield put(changeSidebarTypeAction(\"icon\"));\n\t\t} else {\n\t\t\tyield put(changeSidebarTypeAction(\"default\"));\n\t\t}\n\t\tyield call(changeBodyAttribute, \"data-layout-size\", width);\n\t} catch (error) { }\n}\n\n/**\n * Changes the left sidebar theme\n * @param {*} param0\n */\nfunction* changeLeftSidebarTheme({ payload: theme }) {\n\ttry {\n\t\tyield call(changeBodyAttribute, \"data-sidebar\", theme);\n\t} catch (error) { }\n}\n\n/**\n * Changes the topbar theme\n * @param {*} param0\n */\nfunction* changeTopbarTheme({ payload: theme }) {\n\ttry {\n\t\tyield call(changeBodyAttribute, \"data-topbar\", theme);\n\t} catch (error) { }\n}\n\n/**\n * Changes the left sidebar type\n * @param {*} param0\n */\nfunction* changeLeftSidebarType({ payload: { sidebarType, isMobile } }) {\n\ttry {\n\t\tswitch (sidebarType) {\n\t\t\tcase \"compact\":\n\t\t\t\tyield call(changeBodyAttribute, \"data-sidebar-size\", \"small\");\n\t\t\t\tyield call(manageBodyClass, \"sidebar-enable\", \"remove\");\n\t\t\t\tyield call(manageBodyClass, \"vertical-collpsed\", \"remove\");\n\t\t\t\tbreak;\n\t\t\tcase \"icon\":\n\t\t\t\tyield call(changeBodyAttribute, \"data-keep-enlarged\", \"true\");\n\t\t\t\tyield call(manageBodyClass, \"vertical-collpsed\", \"add\");\n\t\t\t\tbreak;\n\t\t\tcase \"condensed\":\n\t\t\t\tyield call(manageBodyClass, \"sidebar-enable\", \"add\");\n\t\t\t\tif (!isMobile) yield call(manageBodyClass, \"vertical-collpsed\", \"add\");\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tyield call(changeBodyAttribute, \"data-sidebar-size\", \"\");\n\t\t\t\tyield call(manageBodyClass, \"sidebar-enable\", \"remove\");\n\t\t\t\tif (!isMobile) yield call(manageBodyClass, \"vertical-collpsed\", \"remove\");\n\t\t\t\tbreak;\n\t\t}\n\t} catch (error) { }\n}\n\n/**\n * Show the rightsidebar\n */\nfunction* showRightSidebar() {\n\ttry {\n\t\tyield call(manageBodyClass, \"right-bar-enabled\", \"add\");\n\t} catch (error) { }\n}\n\n/**\n * Watchers\n */\nexport function* watchChangeLayoutType() {\n\tyield takeEvery(CHANGE_LAYOUT, changeLayout);\n}\n\nexport function* watchChangeLayoutWidth() {\n\tyield takeEvery(CHANGE_LAYOUT_WIDTH, changeLayoutWidth);\n}\n\nexport function* watchChangeLeftSidebarTheme() {\n\tyield takeEvery(CHANGE_SIDEBAR_THEME, changeLeftSidebarTheme);\n}\n\nexport function* watchChangeLeftSidebarType() {\n\tyield takeEvery(CHANGE_SIDEBAR_TYPE, changeLeftSidebarType);\n}\n\nexport function* watchChangeTopbarTheme() {\n\tyield takeEvery(CHANGE_TOPBAR_THEME, changeTopbarTheme);\n}\n\nexport function* watchShowRightSidebar() {\n\tyield takeEvery(SHOW_RIGHT_SIDEBAR, showRightSidebar);\n}\n\nfunction* LayoutSaga() {\n\tyield all([\n\t\tfork(watchChangeLayoutType),\n\t\tfork(watchChangeLayoutWidth),\n\t\tfork(watchChangeLeftSidebarTheme),\n\t\tfork(watchChangeLeftSidebarType),\n\t\tfork(watchShowRightSidebar),\n\t\tfork(watchChangeTopbarTheme)\n\t]);\n}\n\nexport default LayoutSaga;\n"]},"metadata":{},"sourceType":"module"}