{"ast":null,"code":"import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Card,CardBody,CardTitle,NavItem,NavLink,Label,Input,Form,FormGroup,Alert}from\"reactstrap\";// availity-reactstrap-validation\nimport{AvForm,AvField}from\"availity-reactstrap-validation\";import{CountryDropdown}from\"react-country-region-selector\";import stateWrapper from\"../../containers/provider\";// action\nimport{registerUser,apiError,registerUserFailed}from\"../../store/actions\";// Redux\nimport{connect}from\"react-redux\";import{Link}from\"react-router-dom\";// import images\nimport profileImg from\"../../assets/images/profile-img.png\";import logoImg from\"../../assets/images/logo.svg\";var Register=function Register(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),confirmPassword=_useState2[0],setConfirmPassword=_useState2[1];var _useState3=useState({firstname:\"\",lastname:\"\",phone:null,email:\"\",country:\"\",password:\"extra\",role:2,loading:false,status:\"\"}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];// handleValidSubmit\n// const handleSubmit = async (values) => {\nvar handleValidSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,filterUserId,verifyId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setState({loading:true});console.log(\"see val\",state);if(!(state.password===confirmPassword)){_context.next=10;break;}_context.next=5;return props.userStore.registerUser(state);case 5:res=_context.sent;filterUserId=function filterUserId(resData){var str=resData;var res=str.replace(/\\D/g,\"\");return res;};// check if the registration is successful then verify the account\nif(res.data.status===\"Success\"){verifyId=filterUserId(res.data.data);console.log(\"check reeee\",verifyId);props.userStore.verifyUser(verifyId,props);setState({loading:false,status:\"Success\"});}else{setState({loading:false});console.log(\"no response\");}setState({loading:false});console.log(state);case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleValidSubmit(){return _ref.apply(this,arguments);};}();useEffect(function(){props.registerUserFailed(\"\");});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"home-btn d-none d-sm-block\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"text-dark\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-home h2\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"account-pages my-5 pt-sm-5\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(Col,{md:8,lg:6,xl:5},/*#__PURE__*/React.createElement(Card,{className:\"overflow-hidden\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-soft-primary\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"col-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-primary p-4\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-primary\"},\"Free Register\"),/*#__PURE__*/React.createElement(\"p\",null,\"Get your free AcadWritings account now.\"))),/*#__PURE__*/React.createElement(Col,{className:\"col-5 align-self-end\"},/*#__PURE__*/React.createElement(\"img\",{src:profileImg,alt:\"\",className:\"img-fluid\"})),state.status===\"Success\"?/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info alert-dismissible fade show\",role:\"alert\"},\"Success! click on signin to signin to your account\"):'')),/*#__PURE__*/React.createElement(CardBody,{className:\"pt-0\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar-md profile-user-wid mb-4\"},/*#__PURE__*/React.createElement(\"span\",{className:\"avatar-title rounded-circle bg-light\"},/*#__PURE__*/React.createElement(\"img\",{src:logoImg,alt:\"\",className:\"rounded-circle\",height:\"34\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"p-2\"},/*#__PURE__*/React.createElement(AvForm,{className:\"form-horizontal\",onValidSubmit:function onValidSubmit(e,v){handleValidSubmit(e,v);}},props.user&&props.user?/*#__PURE__*/React.createElement(Alert,{color:\"success\"},\"Register User Successfully\"):null,props.registrationError&&props.registrationError?/*#__PURE__*/React.createElement(Alert,{color:\"danger\"},props.registrationError):null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"First Name\"),/*#__PURE__*/React.createElement(Input,{value:state.firstname,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{firstname:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"Enter First Name\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Last Name\"),/*#__PURE__*/React.createElement(Input,{value:state.lastname,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{lastname:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"Enter Last Name\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Phone No\"),/*#__PURE__*/React.createElement(Input,{value:state.phone,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{phone:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"Enter Phone\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Country\"),/*#__PURE__*/React.createElement(CountryDropdown,{className:\"custom-select\",value:state.country,onChange:function onChange(value){return setState(_objectSpread(_objectSpread({},state),{},{country:value}));},showDefaultOption:true,defaultOptionLabel:\"Select Country\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Email\"),/*#__PURE__*/React.createElement(Input,{value:state.email,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{email:e.target.value}));},placeholder:\"Enter Email\",type:\"text\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"New Password\"),/*#__PURE__*/React.createElement(Input,{value:state.password,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{password:e.target.value}));},type:\"password\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Confirm New Password\"),/*#__PURE__*/React.createElement(Input,{value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},type:\"password\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4\"},state.loading?/*#__PURE__*/React.createElement(\"div\",{className:\"spinner-grow text-primary m-1\",role:\"status\"}):/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block waves-effect waves-light\",type:\"submit\"},\"Register\")),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4 text-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"By registering you agree to the AcadWritings\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"text-primary\"},\"Terms of Use\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-5 text-center\"},/*#__PURE__*/React.createElement(\"p\",null,\"Already have an account ?\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/login\",className:\"font-weight-medium text-primary\"},\" \",\"Login\"),\" \")))))));};var mapStatetoProps=function mapStatetoProps(state){var _state$Account=state.Account,user=_state$Account.user,registrationError=_state$Account.registrationError,loading=_state$Account.loading;return{user:user,registrationError:registrationError,loading:loading};};export default connect(mapStatetoProps,{registerUser:registerUser,apiError:apiError,registerUserFailed:registerUserFailed})(stateWrapper(Register));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Authentication/Register.js"],"names":["React","useState","useEffect","Container","Row","Col","Card","CardBody","CardTitle","NavItem","NavLink","Label","Input","Form","FormGroup","Alert","AvForm","AvField","CountryDropdown","stateWrapper","registerUser","apiError","registerUserFailed","connect","Link","profileImg","Register","props","confirmPassword","setConfirmPassword","firstname","lastname","phone","email","country","password","role","loading","status","state","setState","handleValidSubmit","console","log","userStore","res","filterUserId","resData","str","replace","data","verifyId","verifyUser","logoImg","e","v","user","registrationError","target","value","mapStatetoProps","Account"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardTitle,\n  NavItem,\n  NavLink,\n  Label,\n  Input,\n  Form,\n  FormGroup,\n  Alert,\n} from \"reactstrap\";\n\n// availity-reactstrap-validation\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\n\nimport { CountryDropdown } from \"react-country-region-selector\";\n\nimport stateWrapper from \"../../containers/provider\";\n\n// action\nimport {\n  registerUser,\n  apiError,\n  registerUserFailed,\n} from \"../../store/actions\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n// import images\nimport profileImg from \"../../assets/images/profile-img.png\";\nimport logoImg from \"../../assets/images/logo.svg\";\n\nconst Register = (props) => {\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [state, setState] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    phone: null,\n    email: \"\",\n    country: \"\",\n    password: \"extra\",\n    role: 2,\n    loading: false,\n    status:\"\",\n  });\n\n  // handleValidSubmit\n  // const handleSubmit = async (values) => {\n  const handleValidSubmit = async () => {\n    setState({\n      loading: true,\n    });\n    console.log(\"see val\",state)\n    if (state.password === confirmPassword) {\n      const res = await props.userStore.registerUser(state);\n      const filterUserId = (resData) => {\n        var str = resData;\n        var res = str.replace(/\\D/g, \"\");\n        return res;\n      };\n\n      // check if the registration is successful then verify the account\n      if (res.data.status === \"Success\") {\n        const verifyId = filterUserId(res.data.data);\n        console.log(\"check reeee\", verifyId);\n        props.userStore.verifyUser(verifyId, props);\n        setState({\n          loading: false,\n          status: \"Success\",\n        });\n      } else {\n        setState({\n          loading: false,\n        });\n        console.log(\"no response\");\n      }\n      setState({\n        loading: false,\n      });\n      console.log(state);\n    }\n  };\n\n  useEffect(() => {\n    props.registerUserFailed(\"\");\n  });\n\n  return (\n    <React.Fragment>\n      <div className=\"home-btn d-none d-sm-block\">\n        <Link to=\"/\" className=\"text-dark\">\n          <i className=\"fas fa-home h2\"></i>\n        </Link>\n      </div>\n      <div className=\"account-pages my-5 pt-sm-5\">\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Col md={8} lg={6} xl={5}>\n              <Card className=\"overflow-hidden\">\n                <div className=\"bg-soft-primary\">\n                  <Row>\n                    <Col className=\"col-7\">\n                      <div className=\"text-primary p-4\">\n                        <h5 className=\"text-primary\">Free Register</h5>\n                        <p>Get your free AcadWritings account now.</p>\n                      </div>\n                    </Col>\n                    <Col className=\"col-5 align-self-end\">\n                      <img src={profileImg} alt=\"\" className=\"img-fluid\" />\n                    </Col>\n                    {\n                      state.status === \"Success\" ? (\n\n                        <div className=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\n                        Success! click on signin to signin to your account\n                        </div>\n                      )\n                      : ('')\n                    }\n                  </Row>\n                </div>\n                <CardBody className=\"pt-0\">\n                  <div>\n                    <Link to=\"/\">\n                      <div className=\"avatar-md profile-user-wid mb-4\">\n                        <span className=\"avatar-title rounded-circle bg-light\">\n                          <img\n                            src={logoImg}\n                            alt=\"\"\n                            className=\"rounded-circle\"\n                            height=\"34\"\n                          />\n                        </span>\n                      </div>\n                    </Link>\n                  </div>\n                  <div className=\"p-2\">\n                    <AvForm\n                      className=\"form-horizontal\"\n                      onValidSubmit={(e, v) => {\n                        handleValidSubmit(e, v);\n                      }}\n                    >\n                      {props.user && props.user ? (\n                        <Alert color=\"success\">\n                          Register User Successfully\n                        </Alert>\n                      ) : null}\n                      {props.registrationError && props.registrationError ? (\n                        <Alert color=\"danger\">{props.registrationError}</Alert>\n                      ) : null}\n                      <div className=\"form-group\">\n                        <FormGroup>\n                          <Label>First Name</Label>\n                          <Input\n                            value={state.firstname}\n                            onChange={(e) =>\n                              setState({ ...state, firstname: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter First Name\"\n                            required\n                          />\n                        </FormGroup>\n                      </div>\n                      <div className=\"form-group\">\n                        <FormGroup>\n                          <Label>Last Name</Label>\n                          <Input\n                            value={state.lastname}\n                            onChange={(e) =>\n                              setState({ ...state, lastname: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter Last Name\"\n                            required\n                          />\n                        </FormGroup>\n                      </div>\n\n                      <div className=\"form-group\">\n                        <FormGroup>\n                          <Label>Phone No</Label>\n                          <Input\n                            value={state.phone}\n                            onChange={(e) =>\n                              setState({ ...state, phone: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter Phone\"\n                            required\n                          />\n                        </FormGroup>\n                      </div>\n                      <div className=\"form-group\">\n                        <FormGroup>\n                          <Label>Country</Label>\n                          <CountryDropdown\n                            className=\"custom-select\"\n                            value={state.country}\n                            onChange={(value) =>\n                              setState({ ...state, country: value })\n                            }\n                            showDefaultOption={true}\n                            defaultOptionLabel={\"Select Country\"}\n                          ></CountryDropdown>\n                        </FormGroup>\n                      </div>\n                      <div className=\"form-group\">\n                        <FormGroup>\n                          <Label>Email</Label>\n                          <Input\n                            value={state.email}\n                            onChange={(e) =>\n                              setState({ ...state, email: e.target.value })\n                            }\n                            placeholder=\"Enter Email\"\n                            type=\"text\"\n                            className=\"form-control\"\n                          />\n                        </FormGroup>\n                      </div>\n\n                      <div className=\"form-group\">\n                        <FormGroup>\n                          <Label>New Password</Label>\n                          <Input\n                            value={state.password}\n                            onChange={(e) =>\n                              setState({ ...state, password: e.target.value })\n                            }\n                            type=\"password\"\n                            className=\"form-control\"\n                          />\n                        </FormGroup>\n                      </div>\n                      <div className=\"form-group\">\n                        <FormGroup>\n                          <Label>Confirm New Password</Label>\n                          <Input\n                            value={confirmPassword}\n                            onChange={(e) => setConfirmPassword(e.target.value)}\n                            type=\"password\"\n                            className=\"form-control\"\n                          />\n                        </FormGroup>\n                      </div>\n\n                      <div className=\"mt-4\">\n                        {state.loading ? (\n                          <div\n                            className=\"spinner-grow text-primary m-1\"\n                            role=\"status\"\n                          >\n                            {/* <span className=\"sr-only\">Loading...</span> */}\n                          </div>\n                        ) : (\n                          <button\n                            className=\"btn btn-primary btn-block waves-effect waves-light\"\n                            type=\"submit\"\n                          >\n                            Register\n                          </button>\n                        )}\n                      </div>\n\n                      <div className=\"mt-4 text-center\">\n                        <p className=\"mb-0\">\n                          By registering you agree to the AcadWritings{\" \"}\n                          <Link to=\"#\" className=\"text-primary\">\n                            Terms of Use\n                          </Link>\n                        </p>\n                      </div>\n                    </AvForm>\n                  </div>\n                </CardBody>\n              </Card>\n              <div className=\"mt-5 text-center\">\n                <p>\n                  Already have an account ?{\" \"}\n                  <Link to=\"/login\" className=\"font-weight-medium text-primary\">\n                    {\" \"}\n                    Login\n                  </Link>{\" \"}\n                </p>\n                {/* <p>\n                    © {new Date().getFullYear()} AcadWritings. Crafted with{\" \"}\n                    <i className=\"mdi mdi-heart text-danger\"></i> by Themesbrand\n                  </p> */}\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nconst mapStatetoProps = (state) => {\n  const { user, registrationError, loading } = state.Account;\n  return { user, registrationError, loading };\n};\n\nexport default connect(mapStatetoProps, {\n  registerUser,\n  apiError,\n  registerUserFailed,\n})(stateWrapper(Register));\n"]},"metadata":{},"sourceType":"module"}