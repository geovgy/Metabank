{"ast":null,"code":"import _classCallCheck from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _inherits from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Container}from\"unstated\";import instance from\"../helpers/axiosly\";import{LOCAL_STORAGE_SIGNIN_KEY}from'../App.constants';// Get token from local storage\nvar token=localStorage.getItem(\"token\");var WritersContainer=/*#__PURE__*/function(_Container){_inherits(WritersContainer,_Container);var _super=_createSuper(WritersContainer);function WritersContainer(){var _this;_classCallCheck(this,WritersContainer);_this=_super.call(this);_this.getLibraryContent=function(bearertoken,amount){return new Promise(function(resolve,reject){console.log(bearertoken);try{instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/library\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){var _res$data,_res$data$data;console.log(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$data=_res$data.data)===null||_res$data$data===void 0?void 0:_res$data$data.rows);// this.setState({\n//   ...state,\n//   library: res.data.data.rows,\n// //   loading: false\n// });\n}).catch(function(e){console.log(e);});}catch(e){console.log(e);}});};_this.state={sessionData:{library:''}};return _this;}//Function to request withdrawal by the writer\nreturn WritersContainer;}(Container);export{WritersContainer};","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/containers/WritersContainer.js"],"names":["Container","instance","LOCAL_STORAGE_SIGNIN_KEY","token","localStorage","getItem","WritersContainer","getLibraryContent","bearertoken","amount","Promise","resolve","reject","console","log","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","then","res","data","rows","catch","e","state","sessionData","library"],"mappings":"uaAAA,OAASA,SAAT,KAA0B,UAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,OAASC,wBAAT,KAAyC,kBAAzC,CAEA;AACA,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,C,GAEMC,CAAAA,gB,oHACJ,2BAAc,kDACZ,wBADY,MAWhBC,iBAXgB,CAWI,SAACC,WAAD,CAAcC,MAAd,CAAyB,CAC7C,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCC,OAAO,CAACC,GAAR,CAAYN,WAAZ,EACA,GAAI,CACAP,QAAQ,CACPc,GADD,WACQC,OAAO,CAACC,GAAR,CAAYC,qBADpB,aACqD,CACnDC,OAAO,CAAE,CACPC,aAAa,kBAAYjB,KAAZ,CADN,CAD0C,CADrD,EAMCkB,IAND,CAMM,SAACC,GAAD,CAAS,8BACbT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,SAAYA,GAAZ,4BAAYA,GAAG,CAAEC,IAAjB,oDAAY,UAAWA,IAAvB,yCAAY,eAAiBC,IAA7B,EACA;AACA;AACA;AACA;AACA;AACD,CAbD,EAcCC,KAdD,CAcO,SAACC,CAAD,CAAO,CACVb,OAAO,CAACC,GAAR,CAAYY,CAAZ,EACH,CAhBD,EAkBH,CAAC,MAAOA,CAAP,CAAU,CACVb,OAAO,CAACC,GAAR,CAAYY,CAAZ,EACD,CAGF,CA1BM,CAAP,CA2BC,CAvCe,CAEZ,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,CACXC,OAAO,CAAC,EADG,CADF,CAAb,CAFY,aAOb,CAEH;0BAV+B7B,S,EA2C/B,OAASM,gBAAT","sourcesContent":["import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../App.constants'\n\n// Get token from local storage\nconst token = localStorage.getItem(\"token\");\n\nclass WritersContainer extends Container {\n  constructor() {\n    super();\n    this.state = {\n      sessionData: {\n        library:''\n      },\n    };\n  }\n\n//Function to request withdrawal by the writer\n\ngetLibraryContent = (bearertoken, amount) => {\nreturn new Promise((resolve, reject) => {\n  console.log(bearertoken)\n  try {\n      instance\n      .get(`${process.env.REACT_APP_DATABASEURL}/library`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res?.data?.data?.rows)\n        // this.setState({\n        //   ...state,\n        //   library: res.data.data.rows,\n        // //   loading: false\n        // });\n      })\n      .catch((e) => {\n          console.log(e)\n      })\n      \n  } catch (e) {\n    console.log(e);\n  }\n  \n\n})\n}\n\n}\nexport { WritersContainer };\n\n\n\n"]},"metadata":{},"sourceType":"module"}