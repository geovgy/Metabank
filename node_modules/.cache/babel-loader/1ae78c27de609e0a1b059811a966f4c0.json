{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Card,CardBody,CardTitle,NavItem,NavLink,Label,Input,Form,FormGroup}from\"reactstrap\";import{Link}from\"react-router-dom\";// availity-reactstrap-validation\nimport{AvForm,AvField,Button}from\"availity-reactstrap-validation\";// React country region selector\nimport{CountryDropdown}from\"react-country-region-selector\";import*as _ from\"lodash\";import stateWrapper from\"../../../containers/provider\";import modalimage1 from\"../../../assets/images/product/img-7.png\";import modalimage2 from\"../../../assets/images/product/img-4.png\";// Pages Components\n// import LatestTranaction from \"./LatestTranaction\";\n//Import Breadcrumb\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";//i18n\nimport{withNamespaces}from\"react-i18next\";var Profile=function Profile(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setmodal=_useState2[1];var _useState3=useState({firstName:\"\",lastName:\"\",phone:null,email:\"\",country:\"\",password:\"extra\",confirmPassword:\"extra\",success:\"\",loading:false}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var handleValidSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,values){var getUserId,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(props.userStore.state.sessionData.userId);setState(_objectSpread(_objectSpread({},state),{},{loading:true}));event.preventDefault();_context.next=5;return props.userStore.state.sessionData.userId;case 5:getUserId=_context.sent;console.log(getUserId);_context.prev=7;console.log(\"check profile values\",values);_context.next=11;return props.userStore.updateClientProfile(state,getUserId);case 11:res=_context.sent;if(res){setState(_objectSpread(_objectSpread({},state),{},{success:\"passed\",loading:false}));}return _context.abrupt(\"return\",console.log(\"check response\",res));case 16:_context.prev=16;_context.t0=_context[\"catch\"](7);console.log(_context.t0);case 19:case\"end\":return _context.stop();}}},_callee,null,[[7,16]]);}));return function handleValidSubmit(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(function(){setState(_objectSpread(_objectSpread({},state),{},{loading:true}));var userData=props.userStore.fetchUser(props);//  let  copySessionData = ({}, this.props.userStore.state.sessionData);\nconsole.log(\"user id in profile\",userData.userId);console.log(props.userStore.state);if(!_.isEmpty(userData)){setState(_objectSpread(_objectSpread({},state),{},{loading:false,firstName:userData.first_name,lastName:userData.last_name,phone:userData.phone,email:userData.email,country:userData.country}));}else{alert(\"not available\");}},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-content\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Breadcrumbs,{title:props.t(\"My Profile\"),breadcrumbItem:props.t(\"Profile\")}),state.success==\"passed\"?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info alert-dismissible fade show\",role:\"alert\"},/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-alert-circle-outline mr-2\"}),\" Success !\",/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"})):\"\",/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,null,\"PROFILE DETAILS\"),state.loading?/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")):/*#__PURE__*/React.createElement(AvForm,{className:\"form-horizontal\",onValidSubmit:function onValidSubmit(e,v){handleValidSubmit(e,v);}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input14\"},\"First Name\"),/*#__PURE__*/React.createElement(Input,{value:state.firstName,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{firstName:e.target.value}));},type:\"text\",className:\"form-control\",id:\"basicpill-firstname-input14\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input14\"},\"Last Name\"),/*#__PURE__*/React.createElement(Input,{value:state.lastName,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{lastName:e.target.value}));},type:\"text\",className:\"form-control\",id:\"basicpill-firstname-input14\"})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input14\"},\"Email\"),/*#__PURE__*/React.createElement(Input,{value:state.email,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{email:e.target.value}));},placeholder:\"Enter Email\",type:\"text\",className:\"form-control\",id:\"basicpill-firstname-input14\"})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input1\"},\"Country\"),/*#__PURE__*/React.createElement(CountryDropdown,{className:\"custom-select\",value:state.country,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{country:e.target.value}));}}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input1\"},\"Phone\"),/*#__PURE__*/React.createElement(\"input\",{value:state.phone,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{phone:e.target.value}));},className:\"form-control\",type:\"number\",defaultValue:\"0\",id:\"example-number-input\"})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"CHANGE PASSWORD\")))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input14\"},\"New Password\"),/*#__PURE__*/React.createElement(Input,{value:state.password,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{password:e.target.value}));},type:\"password\",className:\"form-control\",id:\"basicpill-firstname-input14\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input14\"},\"Confirm New Password\"),/*#__PURE__*/React.createElement(Input,{value:state.confirmPassword,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{confirmPassword:e.target.value}));},type:\"password\",className:\"form-control\",id:\"basicpill-firstname-input14\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\" \"},state.loading?/*#__PURE__*/React.createElement(\"div\",{className:\"spinner-grow text-primary m-1\",role:\"status\"}):/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary waves-effect waves-light\",type:\"submit\"},\"Update Profile\"))))))))));};export default withNamespaces()(stateWrapper(Profile));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Writer/Profile/index.js"],"names":["React","useState","useEffect","Container","Row","Col","Card","CardBody","CardTitle","NavItem","NavLink","Label","Input","Form","FormGroup","Link","AvForm","AvField","Button","CountryDropdown","_","stateWrapper","modalimage1","modalimage2","Breadcrumbs","withNamespaces","Profile","props","modal","setmodal","firstName","lastName","phone","email","country","password","confirmPassword","success","loading","state","setState","handleValidSubmit","event","values","console","log","userStore","sessionData","userId","preventDefault","getUserId","updateClientProfile","res","userData","fetchUser","isEmpty","first_name","last_name","alert","t","e","v","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardTitle,\n  NavItem,\n  NavLink,\n  Label,\n  Input,\n  Form,\n  FormGroup,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\n// availity-reactstrap-validation\nimport { AvForm, AvField, Button } from \"availity-reactstrap-validation\";\n\n// React country region selector\nimport { CountryDropdown } from \"react-country-region-selector\";\n\nimport * as _ from \"lodash\";\nimport stateWrapper from \"../../../containers/provider\";\n\nimport modalimage1 from \"../../../assets/images/product/img-7.png\";\nimport modalimage2 from \"../../../assets/images/product/img-4.png\";\n\n// Pages Components\n// import LatestTranaction from \"./LatestTranaction\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\n\nconst Profile = (props) => {\n  const [modal, setmodal] = useState(false);\n  const [state, setState] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    phone: null,\n    email: \"\",\n    country: \"\",\n    password: \"extra\",\n    confirmPassword: \"extra\",\n    success: \"\",\n    loading: false,\n  });\n\n  const handleValidSubmit = async (event, values) => {\n    console.log(props.userStore.state.sessionData.userId);\n      setState({ ...state, loading: true });\n      event.preventDefault();\n      let getUserId = await props.userStore.state.sessionData.userId;\n      console.log(getUserId)\n    try {\n      \n      console.log(\"check profile values\", values);\n      const res = await props.userStore.updateClientProfile(\n        state,\n        getUserId\n      );\n  \n      if (res) {\n        setState({\n          ...state,\n          success: \"passed\",\n          loading: false,\n        });\n      }\n     \n     \n      return console.log(\"check response\", res);\n    }\n    catch(e){\n      console.log(e)\n    }\n   \n  }\n\n  useEffect(() => {\n    setState({ ...state, loading: true });\n    let userData = props.userStore.fetchUser(props);\n    //  let  copySessionData = ({}, this.props.userStore.state.sessionData);\n    console.log(\"user id in profile\", userData.userId);\n    console.log(props.userStore.state);\n\n    if (!_.isEmpty(userData)) {\n      setState({\n        ...state,\n        loading: false,\n        firstName: userData.first_name,\n        lastName: userData.last_name,\n        phone: userData.phone,\n        email: userData.email,\n        country: userData.country,\n      });\n    } else {\n      alert(\"not available\");\n    }\n  }, []);\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"My Profile\")}\n            breadcrumbItem={props.t(\"Profile\")}\n          />\n          {state.success == \"passed\" ? (\n            <div>\n              <div\n                className=\"alert alert-info alert-dismissible fade show\"\n                role=\"alert\"\n              >\n                <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> Success !\n                <button\n                  type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"alert\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div className=\"mb-4\"></div>\n            </div>\n          ) : (\n            \"\"\n          )}\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                  <CardTitle>PROFILE DETAILS</CardTitle>\n                  {state.loading ? (\n                    <div class=\"spinner-border\" role=\"status\">\n                      <span class=\"sr-only\">Loading...</span>\n                    </div>\n                  ) : (\n                    <AvForm\n                      className=\"form-horizontal\"\n                      onValidSubmit={(e, v) => {\n                        handleValidSubmit(e, v);\n                      }}\n                    >\n                      <Row>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label for=\"basicpill-firstname-input14\">\n                              First Name\n                            </Label>\n                            <Input\n                              value={state.firstName}\n                              onChange={(e) =>\n                                setState({\n                                  ...state,\n                                  firstName: e.target.value,\n                                })\n                              }\n                              type=\"text\"\n                              className=\"form-control\"\n                              id=\"basicpill-firstname-input14\"\n                            />\n                          </FormGroup>\n                        </Col>\n\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label for=\"basicpill-firstname-input14\">\n                              Last Name\n                            </Label>\n                            <Input\n                              value={state.lastName}\n                              onChange={(e) =>\n                                setState({ ...state, lastName: e.target.value })\n                              }\n                              type=\"text\"\n                              className=\"form-control\"\n                              id=\"basicpill-firstname-input14\"\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n\n                      <Row>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label for=\"basicpill-firstname-input14\">\n                              Email\n                            </Label>\n                            <Input\n                              value={state.email}\n                              onChange={(e) =>\n                                setState({ ...state, email: e.target.value })\n                              }\n                              placeholder=\"Enter Email\"\n                              type=\"text\"\n                              className=\"form-control\"\n                              id=\"basicpill-firstname-input14\"\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n\n                      <Row>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label for=\"basicpill-firstname-input1\">\n                              Country\n                            </Label>\n                            <CountryDropdown\n                              className=\"custom-select\"\n                              value={state.country}\n                              onChange={(e) =>\n                                setState({ ...state, country: e.target.value })\n                              }\n                            />\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label for=\"basicpill-firstname-input1\">\n                              Phone\n                            </Label>\n                            <input\n                              value={state.phone}\n                              onChange={(e) =>\n                                setState({ ...state, phone: e.target.value })\n                              }\n                              className=\"form-control\"\n                              type=\"number\"\n                              defaultValue=\"0\"\n                              id=\"example-number-input\"\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n\n                      <Row>\n                        <Col lg=\"12\">\n                          <FormGroup>\n                            <Label>CHANGE PASSWORD</Label>\n                          </FormGroup>\n                        </Col>\n                      </Row>\n\n                      <Row>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label for=\"basicpill-firstname-input14\">\n                              New Password\n                            </Label>\n                            <Input\n                              value={state.password}\n                              onChange={(e) =>\n                                setState({ ...state, password: e.target.value })\n                              }\n                              type=\"password\"\n                              className=\"form-control\"\n                              id=\"basicpill-firstname-input14\"\n                            />\n                          </FormGroup>\n                        </Col>\n\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <Label for=\"basicpill-firstname-input14\">\n                              Confirm New Password\n                            </Label>\n                            <Input\n                              value={state.confirmPassword}\n                              onChange={(e) =>\n                                setState({\n                                  ...state,\n                                  confirmPassword: e.target.value,\n                                })\n                              }\n                              type=\"password\"\n                              className=\"form-control\"\n                              id=\"basicpill-firstname-input14\"\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                      {/* <Link\n                      className=\"btn btn-primary waves-effect waves-light\"\n                      to=\"#\"\n                    >\n                    statement,nd statement , alumni,letter/id card\n                      Update Profile\n                    </Link> */}\n                      <div className=\" \">\n                        {state.loading ? (\n                          <div\n                            className=\"spinner-grow text-primary m-1\"\n                            role=\"status\"\n                          >\n                            {/* <span className=\"sr-only\">Loading...</span> */}\n                          </div>\n                        ) : (\n                          <button\n                            className=\"btn btn-primary waves-effect waves-light\"\n                            type=\"submit\"\n                          >\n                            Update Profile\n                          </button>\n                        )}\n                      </div>\n                    </AvForm>\n                  )}\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Profile));\n"]},"metadata":{},"sourceType":"module"}