{"ast":null,"code":"import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Card,CardBody,CardTitle,NavItem,NavLink,Label,Input,Form,FormGroup,Alert}from\"reactstrap\";// availity-reactstrap-validation\nimport{AvForm,AvField}from\"availity-reactstrap-validation\";import{CountryDropdown}from\"react-country-region-selector\";import stateWrapper from\"../../containers/provider\";// action\nimport{registerUser,apiError,registerUserFailed}from\"../../store/actions\";// Redux\nimport{connect}from\"react-redux\";import{Link}from\"react-router-dom\";// import images\nimport profileImg from\"../../assets/images/profile-img.png\";import logoImg from\"../../assets/images/logo.svg\";var WriterSignup=function WriterSignup(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),confirmPassword=_useState2[0],setConfirmPassword=_useState2[1];var _useState3=useState({firstname:\"\",lastname:\"\",othername:\"\",phone:null,email:\"\",password:\"\",dob:\"\",sex:\"\",state:\"\",address:\"\",country:\"\",qualification:\"\",role:3,loading:false,status:\"\"}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];// handleValidSubmit\n// const handleSubmit = async (values) => {\nvar handleValidSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,filterUserId,verifyId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setState({loading:true});console.log(\"see val\",state);if(!(state.password===confirmPassword)){_context.next=10;break;}_context.next=5;return props.userStore.registerUser(state);case 5:res=_context.sent;filterUserId=function filterUserId(resData){var str=resData;var res=str.replace(/\\D/g,\"\");return res;};// check if the registration is successful then verify the account\nif(res.data.status===\"Success\"){verifyId=filterUserId(res.data.data);console.log(\"check reeee\",verifyId);props.userStore.verifyUser(verifyId,props);setState({loading:false,status:\"Success\"});}else{setState({loading:false});console.log(\"no response\");}setState({loading:false});console.log(state);case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleValidSubmit(){return _ref.apply(this,arguments);};}();useEffect(function(){props.registerUserFailed(\"\");});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"home-btn d-none d-sm-block\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"text-dark\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-home h2\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"account-pages my-5 pt-sm-5\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(Col,{md:12,lg:24,xl:24},/*#__PURE__*/React.createElement(Card,{className:\"overflow-hidden\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-soft-primary\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"col-20\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-primary p-4\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"text-primary\"},\"Become a writer\"),/*#__PURE__*/React.createElement(\"p\",null,\"Create an account to get started!\"))),/*#__PURE__*/React.createElement(Col,{className:\"col-5 align-self-end\"}),state.status===\"Success\"?/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info alert-dismissible fade show\",role:\"alert\"},\"Success! click on signin to signin to your account\"):'')),/*#__PURE__*/React.createElement(CardBody,{className:\"pt-0\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar-md profile-user-wid mb-4\"},/*#__PURE__*/React.createElement(\"span\",{className:\"avatar-title rounded-circle bg-light\"},/*#__PURE__*/React.createElement(\"img\",{src:logoImg,alt:\"\",className:\"rounded-circle\",height:\"34\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"p-2\"},/*#__PURE__*/React.createElement(AvForm,{className:\"form-horizontal\",onValidSubmit:function onValidSubmit(e,v){handleValidSubmit(e,v);}},props.user&&props.user?/*#__PURE__*/React.createElement(Alert,{color:\"success\"},\"Register User Successfully\"):null,props.registrationError&&props.registrationError?/*#__PURE__*/React.createElement(Alert,{color:\"danger\"},props.registrationError):null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"First Name\"),/*#__PURE__*/React.createElement(Input,{value:state.firstname,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{firstname:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"Enter First Name\",required:true}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Last Name\"),/*#__PURE__*/React.createElement(Input,{value:state.lastname,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{lastname:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"Enter Last Name\",required:true})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Other Name\"),/*#__PURE__*/React.createElement(Input,{value:state.othername,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{othername:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"Enter Other Name (optional)\"}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Email\"),/*#__PURE__*/React.createElement(Input,{value:state.email,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{email:e.target.value}));},placeholder:\"Enter Email\",type:\"text\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Address \"),/*#__PURE__*/React.createElement(Input,{value:state.address,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{address:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"Enter address\"}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"DOB\"),/*#__PURE__*/React.createElement(Input,{value:state.dob,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{dob:e.target.value}));},placeholder:\"select DOB\",type:\"date\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Gender\"),/*#__PURE__*/React.createElement(\"select\",{className:\"custom-select\",value:state.sex,name:\"gender\",onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{sex:e.target.value}));}},/*#__PURE__*/React.createElement(\"option\",{defaultValue:true},\"Select DOB \"),/*#__PURE__*/React.createElement(\"option\",{value:\"Male\",id:0},\"M\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Female\",id:1},\"F\"),/*#__PURE__*/React.createElement(\"option\",{value:\"others\",id:2},\"others\"))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Phone No\"),/*#__PURE__*/React.createElement(Input,{value:state.phone,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{phone:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"Enter Phone\",required:true}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Country\"),/*#__PURE__*/React.createElement(CountryDropdown,{className:\"custom-select\",value:state.country,onChange:function onChange(value){return setState(_objectSpread(_objectSpread({},state),{},{country:value}));},showDefaultOption:true,defaultOptionLabel:\"Select Country\"}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"State\"),/*#__PURE__*/React.createElement(Input,{value:state.state,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{state:e.target.value}));},placeholder:\"state\",type:\"text\",className:\"form-control\"})))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"School\"),/*#__PURE__*/React.createElement(Input,{value:state.school,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{school:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"school\",required:true}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Degree(s)\"),/*#__PURE__*/React.createElement(Input,{value:state.qualification,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{qualification:e.target.value}));},type:\"text\",className:\"form-control\",placeholder:\"degree\",required:true})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Password\"),/*#__PURE__*/React.createElement(Input,{value:state.password,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{password:e.target.value}));},type:\"password\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Confirm New Password\"),/*#__PURE__*/React.createElement(Input,{value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},type:\"password\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4\"},state.loading?/*#__PURE__*/React.createElement(\"div\",{className:\"spinner-grow text-primary m-1\",role:\"status\"}):/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block waves-effect waves-light\",type:\"submit\"},\"Register\")),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4 text-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"By registering you agree to the AcadWritings\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"text-primary\"},\"Terms of Use\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-5 text-center\"},/*#__PURE__*/React.createElement(\"p\",null,\"Already have an account ?\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/login\",className:\"font-weight-medium text-primary\"},\" \",\"Login\"),\" \")))))));};var mapStatetoProps=function mapStatetoProps(state){var _state$Account=state.Account,user=_state$Account.user,registrationError=_state$Account.registrationError,loading=_state$Account.loading;return{user:user,registrationError:registrationError,loading:loading};};export default connect(mapStatetoProps,{registerUser:registerUser,apiError:apiError,registerUserFailed:registerUserFailed})(stateWrapper(WriterSignup));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Writer/WriterSignup.js"],"names":["React","useState","useEffect","Container","Row","Col","Card","CardBody","CardTitle","NavItem","NavLink","Label","Input","Form","FormGroup","Alert","AvForm","AvField","CountryDropdown","stateWrapper","registerUser","apiError","registerUserFailed","connect","Link","profileImg","WriterSignup","props","confirmPassword","setConfirmPassword","firstname","lastname","othername","phone","email","password","dob","sex","state","address","country","qualification","role","loading","status","setState","handleValidSubmit","console","log","userStore","res","filterUserId","resData","str","replace","data","verifyId","verifyUser","logoImg","e","v","user","registrationError","target","value","school","mapStatetoProps","Account"],"mappings":"gkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OACEC,SADF,CAEEC,GAFF,CAGEC,GAHF,CAIEC,IAJF,CAKEC,QALF,CAMEC,SANF,CAOEC,OAPF,CAQEC,OARF,CASEC,KATF,CAUEC,KAVF,CAWEC,IAXF,CAYEC,SAZF,CAaEC,KAbF,KAcO,YAdP,CAgBA;AACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,gCAAhC,CAEA,OAASC,eAAT,KAAgC,+BAAhC,CAEA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CAEA;AACA,OACEC,YADF,CAEEC,QAFF,CAGEC,kBAHF,KAIO,qBAJP,CAMA;AACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA;AACA,MAAOC,CAAAA,UAAP,KAAuB,qCAAvB,C,kDAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,eACgB1B,QAAQ,CAAC,EAAD,CADxB,wCACvB2B,eADuB,eACNC,kBADM,8BAEJ5B,QAAQ,CAAC,CACjC6B,SAAS,CAAE,EADsB,CAEjCC,QAAQ,CAAE,EAFuB,CAGjCC,SAAS,CAAC,EAHuB,CAIjCC,KAAK,CAAE,IAJ0B,CAKjCC,KAAK,CAAE,EAL0B,CAMjCC,QAAQ,CAAE,EANuB,CAOjCC,GAAG,CAAE,EAP4B,CAQjCC,GAAG,CAAE,EAR4B,CASjCC,KAAK,CAAE,EAT0B,CAUjCC,OAAO,CAAE,EAVwB,CAWjCC,OAAO,CAAE,EAXwB,CAYjCC,aAAa,CAAE,EAZkB,CAajCC,IAAI,CAAE,CAb2B,CAcjCC,OAAO,CAAE,KAdwB,CAejCC,MAAM,CAAC,EAf0B,CAAD,CAFJ,yCAEvBN,KAFuB,eAEhBO,QAFgB,eAoB9B;AACA;AACA,GAAMC,CAAAA,iBAAiB,0FAAG,iKACxBD,QAAQ,CAAC,CACPF,OAAO,CAAE,IADF,CAAD,CAAR,CAGAI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsBV,KAAtB,EAJwB,KAKpBA,KAAK,CAACH,QAAN,GAAmBP,eALC,iDAMJD,CAAAA,KAAK,CAACsB,SAAN,CAAgB7B,YAAhB,CAA6BkB,KAA7B,CANI,QAMhBY,GANgB,eAOhBC,YAPgB,CAOD,QAAfA,CAAAA,YAAe,CAACC,OAAD,CAAa,CAChC,GAAIC,CAAAA,GAAG,CAAGD,OAAV,CACA,GAAIF,CAAAA,GAAG,CAAGG,GAAG,CAACC,OAAJ,CAAY,KAAZ,CAAmB,EAAnB,CAAV,CACA,MAAOJ,CAAAA,GAAP,CACD,CAXqB,CAatB;AACA,GAAIA,GAAG,CAACK,IAAJ,CAASX,MAAT,GAAoB,SAAxB,CAAmC,CAC3BY,QAD2B,CAChBL,YAAY,CAACD,GAAG,CAACK,IAAJ,CAASA,IAAV,CADI,CAEjCR,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BQ,QAA3B,EACA7B,KAAK,CAACsB,SAAN,CAAgBQ,UAAhB,CAA2BD,QAA3B,CAAqC7B,KAArC,EACAkB,QAAQ,CAAC,CACPF,OAAO,CAAE,KADF,CAEPC,MAAM,CAAE,SAFD,CAAD,CAAR,CAID,CARD,IAQO,CACLC,QAAQ,CAAC,CACPF,OAAO,CAAE,KADF,CAAD,CAAR,CAGAI,OAAO,CAACC,GAAR,CAAY,aAAZ,EACD,CACDH,QAAQ,CAAC,CACPF,OAAO,CAAE,KADF,CAAD,CAAR,CAGAI,OAAO,CAACC,GAAR,CAAYV,KAAZ,EA/BsB,uDAAH,kBAAjBQ,CAAAA,iBAAiB,0CAAvB,CAmCA5C,SAAS,CAAC,UAAM,CACdyB,KAAK,CAACL,kBAAN,CAAyB,EAAzB,EACD,CAFQ,CAAT,CAIA,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACE,2BAAK,SAAS,CAAC,4BAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,WAAvB,eACE,yBAAG,SAAS,CAAC,gBAAb,EADF,CADF,CADF,cAME,2BAAK,SAAS,CAAC,4BAAf,eACE,oBAAC,SAAD,mBACE,oBAAC,GAAD,EAAK,SAAS,CAAC,wBAAf,eACE,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,CAAqB,EAAE,CAAE,EAAzB,eACE,oBAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,0BAAI,SAAS,CAAC,cAAd,oBADF,cAEE,iEAFF,CADF,CADF,cAOE,oBAAC,GAAD,EAAK,SAAS,CAAC,sBAAf,EAPF,CAWIgB,KAAK,CAACM,MAAN,GAAiB,SAAjB,cAEE,2BAAK,SAAS,CAAC,8CAAf,CAA8D,IAAI,CAAC,OAAnE,uDAFF,CAMG,EAjBP,CADF,CADF,cAuBE,oBAAC,QAAD,EAAU,SAAS,CAAC,MAApB,eACE,4CACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,eACE,2BAAK,SAAS,CAAC,iCAAf,eACE,4BAAM,SAAS,CAAC,sCAAhB,eACE,2BACE,GAAG,CAAEc,OADP,CAEE,GAAG,CAAC,EAFN,CAGE,SAAS,CAAC,gBAHZ,CAIE,MAAM,CAAC,IAJT,EADF,CADF,CADF,CADF,CADF,cAeE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,MAAD,EACE,SAAS,CAAC,iBADZ,CAEE,aAAa,CAAE,uBAACC,CAAD,CAAIC,CAAJ,CAAU,CACvBd,iBAAiB,CAACa,CAAD,CAAIC,CAAJ,CAAjB,CACD,CAJH,EAMGjC,KAAK,CAACkC,IAAN,EAAclC,KAAK,CAACkC,IAApB,cACC,oBAAC,KAAD,EAAO,KAAK,CAAC,SAAb,+BADD,CAIG,IAVN,CAWGlC,KAAK,CAACmC,iBAAN,EAA2BnC,KAAK,CAACmC,iBAAjC,cACC,oBAAC,KAAD,EAAO,KAAK,CAAC,QAAb,EAAuBnC,KAAK,CAACmC,iBAA7B,CADD,CAEG,IAbN,cAcI,oBAAC,GAAD,mBACC,oBAAC,GAAD,mBACD,oBAAC,SAAD,mBACE,oBAAC,KAAD,mBADF,cAEE,oBAAC,KAAD,EACE,KAAK,CAAExB,KAAK,CAACR,SADf,CAEE,QAAQ,CAAE,kBAAC6B,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaR,SAAS,CAAE6B,CAAC,CAACI,MAAF,CAASC,KAAjC,GADA,EAFZ,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,cANZ,CAOE,WAAW,CAAC,kBAPd,CAQE,QAAQ,KARV,EAFF,CADC,CADD,cAiBC,oBAAC,GAAD,mBACA,oBAAC,SAAD,mBACC,oBAAC,KAAD,kBADD,cAEC,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACP,QADf,CAEE,QAAQ,CAAE,kBAAC4B,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaP,QAAQ,CAAE4B,CAAC,CAACI,MAAF,CAASC,KAAhC,GADA,EAFZ,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,cANZ,CAOE,WAAW,CAAC,iBAPd,CAQE,QAAQ,KARV,EAFD,CADA,CAjBD,CAdJ,cAgDI,oBAAC,GAAD,mBACC,oBAAC,GAAD,mBACD,oBAAC,SAAD,mBACE,oBAAC,KAAD,mBADF,cAEE,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACN,SADf,CAEE,QAAQ,CAAE,kBAAC2B,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaN,SAAS,CAAE2B,CAAC,CAACI,MAAF,CAASC,KAAjC,GADA,EAFZ,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,cANZ,CAOE,WAAW,CAAC,6BAPd,EAFF,CADC,CADD,cAgBC,oBAAC,GAAD,mBACA,oBAAC,SAAD,mBACC,oBAAC,KAAD,cADD,cAEC,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACJ,KADf,CAEE,QAAQ,CAAE,kBAACyB,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaJ,KAAK,CAAEyB,CAAC,CAACI,MAAF,CAASC,KAA7B,GADA,EAFZ,CAKE,WAAW,CAAC,aALd,CAME,IAAI,CAAC,MANP,CAOE,SAAS,CAAC,cAPZ,EAFD,CADA,CAhBD,CAhDJ,cAgFI,oBAAC,GAAD,mBACC,oBAAC,GAAD,mBACD,oBAAC,SAAD,mBACE,oBAAC,KAAD,iBADF,cAEE,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACC,OADf,CAEE,QAAQ,CAAE,kBAACoB,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaC,OAAO,CAAEoB,CAAC,CAACI,MAAF,CAASC,KAA/B,GADA,EAFZ,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,cANZ,CAOE,WAAW,CAAC,eAPd,EAFF,CADC,CADD,cAgBA,oBAAC,GAAD,mBACE,oBAAC,GAAD,mBACA,oBAAC,GAAD,mBACD,oBAAC,SAAD,mBACC,oBAAC,KAAD,YADD,cAEC,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACF,GADf,CAEE,QAAQ,CAAE,kBAACuB,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaF,GAAG,CAAEuB,CAAC,CAACI,MAAF,CAASC,KAA3B,GADA,EAFZ,CAKE,WAAW,CAAC,YALd,CAME,IAAI,CAAC,MANP,CAOE,SAAS,CAAC,cAPZ,EAFD,CADC,CADA,cAiBD,oBAAC,GAAD,mBACA,oBAAC,SAAD,mBACC,oBAAC,KAAD,eADD,cAmBO,8BACE,SAAS,CAAC,eADZ,CAEE,KAAK,CAAE1B,KAAK,CAACD,GAFf,CAGE,IAAI,CAAC,QAHP,CAII,QAAQ,CAAE,kBAACsB,CAAD,QAChBd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaD,GAAG,CAAEsB,CAAC,CAACI,MAAF,CAASC,KAA3B,GADQ,EAJd,eAQE,8BAAQ,YAAY,KAApB,gBARF,cASE,8BAAQ,KAAK,CAAC,MAAd,CAAqB,EAAE,CAAE,CAAzB,MATF,cAUE,8BAAQ,KAAK,CAAC,QAAd,CAAuB,EAAE,CAAE,CAA3B,MAVF,cAWE,8BAAQ,KAAK,CAAC,QAAd,CAAuB,EAAE,CAAE,CAA3B,WAXF,CAnBP,CADA,CAjBC,CADF,CAhBA,CAhFJ,cA4JI,oBAAC,GAAD,mBACA,oBAAC,GAAD,mBACC,oBAAC,SAAD,mBACC,oBAAC,KAAD,iBADD,cAEC,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACL,KADf,CAEE,QAAQ,CAAE,kBAAC0B,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaL,KAAK,CAAE0B,CAAC,CAACI,MAAF,CAASC,KAA7B,GADA,EAFZ,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,cANZ,CAOE,WAAW,CAAC,aAPd,CAQE,QAAQ,KARV,EAFD,CADD,CADA,cAiBA,oBAAC,GAAD,mBACA,oBAAC,GAAD,mBACA,oBAAC,GAAD,mBACC,oBAAC,SAAD,mBACC,oBAAC,KAAD,gBADD,cAEC,oBAAC,eAAD,EACE,SAAS,CAAC,eADZ,CAEE,KAAK,CAAE1B,KAAK,CAACE,OAFf,CAGE,QAAQ,CAAE,kBAACwB,KAAD,QACRnB,CAAAA,QAAQ,gCAAMP,KAAN,MAAaE,OAAO,CAAEwB,KAAtB,GADA,EAHZ,CAME,iBAAiB,CAAE,IANrB,CAOE,kBAAkB,CAAE,gBAPtB,EAFD,CADD,CADA,cAgBC,oBAAC,GAAD,mBACA,oBAAC,SAAD,mBACC,oBAAC,KAAD,cADD,cAEC,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACA,KADf,CAEE,QAAQ,CAAE,kBAACqB,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaA,KAAK,CAAEqB,CAAC,CAACI,MAAF,CAASC,KAA7B,GADA,EAFZ,CAKE,WAAW,CAAC,OALd,CAME,IAAI,CAAC,MANP,CAOE,SAAS,CAAC,cAPZ,EAFD,CADA,CAhBD,CADA,CAjBA,CA5JJ,cAiNI,oBAAC,GAAD,mBACC,oBAAC,GAAD,mBACD,oBAAC,SAAD,mBACE,oBAAC,KAAD,eADF,cAEE,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAAC2B,MADf,CAEE,QAAQ,CAAE,kBAACN,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAa2B,MAAM,CAAEN,CAAC,CAACI,MAAF,CAASC,KAA9B,GADA,EAFZ,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,cANZ,CAOE,WAAW,CAAC,QAPd,CAQE,QAAQ,KARV,EAFF,CADC,CADD,cAiBC,oBAAC,GAAD,mBACA,oBAAC,SAAD,mBACC,oBAAC,KAAD,kBADD,cAEC,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACG,aADf,CAEE,QAAQ,CAAE,kBAACkB,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaG,aAAa,CAAEkB,CAAC,CAACI,MAAF,CAASC,KAArC,GADA,EAFZ,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,cANZ,CAOE,WAAW,CAAC,QAPd,CAQE,QAAQ,KARV,EAFD,CADA,CAjBD,CAjNJ,cAoPI,oBAAC,GAAD,mBACC,oBAAC,GAAD,mBACA,oBAAC,SAAD,mBACC,oBAAC,KAAD,iBADD,cAEC,oBAAC,KAAD,EACE,KAAK,CAAE1B,KAAK,CAACH,QADf,CAEE,QAAQ,CAAE,kBAACwB,CAAD,QACRd,CAAAA,QAAQ,gCAAMP,KAAN,MAAaH,QAAQ,CAAEwB,CAAC,CAACI,MAAF,CAASC,KAAhC,GADA,EAFZ,CAKE,IAAI,CAAC,UALP,CAME,SAAS,CAAC,cANZ,EAFD,CADA,CADD,cAeC,oBAAC,GAAD,mBACA,oBAAC,SAAD,mBACC,oBAAC,KAAD,6BADD,cAEC,oBAAC,KAAD,EACE,KAAK,CAAEpC,eADT,CAEE,QAAQ,CAAE,kBAAC+B,CAAD,QAAO9B,CAAAA,kBAAkB,CAAC8B,CAAC,CAACI,MAAF,CAASC,KAAV,CAAzB,EAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,SAAS,CAAC,cAJZ,EAFD,CADA,CAfD,CApPJ,cAiRE,2BAAK,SAAS,CAAC,MAAf,EACG1B,KAAK,CAACK,OAAN,cACC,2BACE,SAAS,CAAC,+BADZ,CAEE,IAAI,CAAC,QAFP,EADD,cAQC,8BACE,SAAS,CAAC,oDADZ,CAEE,IAAI,CAAC,QAFP,aATJ,CAjRF,cAmSE,2BAAK,SAAS,CAAC,kBAAf,eACE,yBAAG,SAAS,CAAC,MAAb,iDAC+C,GAD/C,cAEE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,cAAvB,iBAFF,CADF,CAnSF,CADF,CAfF,CAvBF,CADF,cAuVE,2BAAK,SAAS,CAAC,kBAAf,eACE,yDAC4B,GAD5B,cAEE,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,iCAA5B,EACG,GADH,SAFF,CAKU,GALV,CADF,CAvVF,CADF,CADF,CADF,CANF,CADF,CAoXD,CAjbD,CAmbA,GAAMuB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC5B,KAAD,CAAW,oBACYA,KAAK,CAAC6B,OADlB,CACzBN,IADyB,gBACzBA,IADyB,CACnBC,iBADmB,gBACnBA,iBADmB,CACAnB,OADA,gBACAA,OADA,CAEjC,MAAO,CAAEkB,IAAI,CAAJA,IAAF,CAAQC,iBAAiB,CAAjBA,iBAAR,CAA2BnB,OAAO,CAAPA,OAA3B,CAAP,CACD,CAHD,CAKA,cAAepB,CAAAA,OAAO,CAAC2C,eAAD,CAAkB,CACtC9C,YAAY,CAAZA,YADsC,CAEtCC,QAAQ,CAARA,QAFsC,CAGtCC,kBAAkB,CAAlBA,kBAHsC,CAAlB,CAAP,CAIZH,YAAY,CAACO,YAAD,CAJA,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardTitle,\n  NavItem,\n  NavLink,\n  Label,\n  Input,\n  Form,\n  FormGroup,\n  Alert,\n} from \"reactstrap\";\n\n// availity-reactstrap-validation\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\n\nimport { CountryDropdown } from \"react-country-region-selector\";\n\nimport stateWrapper from \"../../containers/provider\";\n\n// action\nimport {\n  registerUser,\n  apiError,\n  registerUserFailed,\n} from \"../../store/actions\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n// import images\nimport profileImg from \"../../assets/images/profile-img.png\";\nimport logoImg from \"../../assets/images/logo.svg\";\n\nconst WriterSignup = (props) => {\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [state, setState] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    othername:\"\",\n    phone: null,\n    email: \"\",\n    password: \"\",\n    dob: \"\",\n    sex: \"\",\n    state: \"\",\n    address: \"\",\n    country: \"\",\n    qualification: \"\",\n    role: 3,\n    loading: false,\n    status:\"\",\n  });\n\n  // handleValidSubmit\n  // const handleSubmit = async (values) => {\n  const handleValidSubmit = async () => {\n    setState({\n      loading: true,\n    });\n    console.log(\"see val\",state)\n    if (state.password === confirmPassword) {\n      const res = await props.userStore.registerUser(state);\n      const filterUserId = (resData) => {\n        var str = resData;\n        var res = str.replace(/\\D/g, \"\");\n        return res;\n      };\n\n      // check if the registration is successful then verify the account\n      if (res.data.status === \"Success\") {\n        const verifyId = filterUserId(res.data.data);\n        console.log(\"check reeee\", verifyId);\n        props.userStore.verifyUser(verifyId, props);\n        setState({\n          loading: false,\n          status: \"Success\",\n        });\n      } else {\n        setState({\n          loading: false,\n        });\n        console.log(\"no response\");\n      }\n      setState({\n        loading: false,\n      });\n      console.log(state);\n    }\n  };\n\n  useEffect(() => {\n    props.registerUserFailed(\"\");\n  });\n\n  return (\n    <React.Fragment>\n      <div className=\"home-btn d-none d-sm-block\">\n        <Link to=\"/\" className=\"text-dark\">\n          <i className=\"fas fa-home h2\"></i>\n        </Link>\n      </div>\n      <div className=\"account-pages my-5 pt-sm-5\">\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Col md={12} lg={24} xl={24}>\n              <Card className=\"overflow-hidden\">\n                <div className=\"bg-soft-primary\">\n                  <Row>\n                    <Col className=\"col-20\">\n                      <div className=\"text-primary p-4\">\n                        <h3 className=\"text-primary\">Become a writer</h3>\n                        <p>Create an account to get started!</p>\n                      </div>\n                    </Col>\n                    <Col className=\"col-5 align-self-end\">\n                      {/* <img src={profileImg} alt=\"\" style={{height:\"200px\"}} className=\"img-fluid\" /> */}\n                    </Col>\n                    {\n                      state.status === \"Success\" ? (\n\n                        <div className=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\n                        Success! click on signin to signin to your account\n                        </div>\n                      )\n                      : ('')\n                    }\n                  </Row>\n                </div>\n                <CardBody className=\"pt-0\">\n                  <div>\n                    <Link to=\"/\">\n                      <div className=\"avatar-md profile-user-wid mb-4\">\n                        <span className=\"avatar-title rounded-circle bg-light\">\n                          <img\n                            src={logoImg}\n                            alt=\"\"\n                            className=\"rounded-circle\"\n                            height=\"34\"\n                          />\n                        </span>\n                      </div>\n                    </Link>\n                  </div>\n                  <div className=\"p-2\">\n                    <AvForm\n                      className=\"form-horizontal\"\n                      onValidSubmit={(e, v) => {\n                        handleValidSubmit(e, v);\n                      }}\n                    >\n                      {props.user && props.user ? (\n                        <Alert color=\"success\">\n                          Register User Successfully\n                        </Alert>\n                      ) : null}\n                      {props.registrationError && props.registrationError ? (\n                        <Alert color=\"danger\">{props.registrationError}</Alert>\n                      ) : null}\n                        <Row>\n                         <Col>\n                        <FormGroup>\n                          <Label>First Name</Label>\n                          <Input\n                            value={state.firstname}\n                            onChange={(e) =>\n                              setState({ ...state, firstname: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter First Name\"\n                            required\n                          />\n                        </FormGroup>\n                         </Col>\n\n                         <Col>\n                         <FormGroup>\n                          <Label>Last Name</Label>\n                          <Input\n                            value={state.lastname}\n                            onChange={(e) =>\n                              setState({ ...state, lastname: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter Last Name\"\n                            required\n                          />\n                        </FormGroup>\n                         </Col>\n                        </Row>\n\n                        <Row>\n                         <Col>\n                        <FormGroup>\n                          <Label>Other Name</Label>\n                          <Input\n                            value={state.othername}\n                            onChange={(e) =>\n                              setState({ ...state, othername: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter Other Name (optional)\"\n                          />\n                        </FormGroup>\n                         </Col>\n\n                         <Col>\n                         <FormGroup>\n                          <Label>Email</Label>\n                          <Input\n                            value={state.email}\n                            onChange={(e) =>\n                              setState({ ...state, email: e.target.value })\n                            }\n                            placeholder=\"Enter Email\"\n                            type=\"text\"\n                            className=\"form-control\"\n                          />\n                        </FormGroup>\n                         </Col>\n                        </Row>\n\n                        <Row>\n                         <Col>\n                        <FormGroup>\n                          <Label>Address </Label>\n                          <Input\n                            value={state.address}\n                            onChange={(e) =>\n                              setState({ ...state, address: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter address\"\n                          />\n                        </FormGroup>\n                         </Col>\n\n                        <Col>\n                          <Row>\n                          <Col>\n                         <FormGroup>\n                          <Label>DOB</Label>\n                          <Input\n                            value={state.dob}\n                            onChange={(e) =>\n                              setState({ ...state, dob: e.target.value })\n                            }\n                            placeholder=\"select DOB\"\n                            type=\"date\"\n                            className=\"form-control\"\n                          />\n                           \n                        </FormGroup>\n                         </Col>\n\n                         <Col>\n                         <FormGroup>\n                          <Label>Gender</Label>\n                          {/* <select\n                                  className=\"custom-select\"\n                                  // value={state.serviceType}\n                                  name=\"gender\"\n                                  // onChange={onChange}\n                                >\n                                  <option selected disabled hidden>gender </option>\n                                      <option value=\"M\" id={0}>\n                                        M\n                                      </option>\n                                      <option value=\"F\" id={1}>\n                                        F\n                                      </option>\n                                      <option value=\"others\" id={2}>\n                                        others\n                                      </option>\n                                </select> */}\n                                <select\n                                  className=\"custom-select\"\n                                  value={state.sex}\n                                  name=\"gender\"\n                                    onChange={(e) =>\n                              setState({ ...state, sex: e.target.value })\n                            }\n                                >\n                                  <option defaultValue>Select DOB </option>\n                                  <option value=\"Male\" id={0}>M</option>\n                                  <option value=\"Female\" id={1}>F</option>\n                                  <option value=\"others\" id={2}>\n                                        others\n                                      </option>\n                                </select>\n                        </FormGroup>\n                         </Col>\n                          </Row>\n                        </Col>\n                        </Row>\n\n                        {/* row 4 */}\n                        <Row>\n                        <Col>\n                         <FormGroup>\n                          <Label>Phone No</Label>\n                          <Input\n                            value={state.phone}\n                            onChange={(e) =>\n                              setState({ ...state, phone: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter Phone\"\n                            required\n                          />\n                        </FormGroup>\n                         </Col>\n\n                        <Col>\n                        <Row>\n                        <Col>\n                         <FormGroup>\n                          <Label>Country</Label>\n                          <CountryDropdown\n                            className=\"custom-select\"\n                            value={state.country}\n                            onChange={(value) =>\n                              setState({ ...state, country: value })\n                            }\n                            showDefaultOption={true}\n                            defaultOptionLabel={\"Select Country\"}\n                          ></CountryDropdown>\n                        </FormGroup>\n                         </Col>\n\n                         <Col>\n                         <FormGroup>\n                          <Label>State</Label>\n                          <Input\n                            value={state.state}\n                            onChange={(e) =>\n                              setState({ ...state, state: e.target.value })\n                            }\n                            placeholder=\"state\"\n                            type=\"text\"\n                            className=\"form-control\"\n                          />\n                        </FormGroup>\n                         </Col>\n                        </Row>\n                        </Col>\n                        </Row>\n\n                        {/* row 5 */}\n                        <Row>\n                         <Col>\n                        <FormGroup>\n                          <Label>School</Label>\n                          <Input\n                            value={state.school}\n                            onChange={(e) =>\n                              setState({ ...state, school: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"school\"\n                            required\n                          />\n                        </FormGroup>\n                         </Col>\n\n                         <Col>\n                         <FormGroup>\n                          <Label>Degree(s)</Label>\n                          <Input\n                            value={state.qualification}\n                            onChange={(e) =>\n                              setState({ ...state, qualification: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"degree\"\n                            required\n                          />\n                        </FormGroup>\n                         </Col>\n                        </Row>\n\n                        {/* row 6 */}\n                        <Row>\n                         <Col>\n                         <FormGroup>\n                          <Label>Password</Label>\n                          <Input\n                            value={state.password}\n                            onChange={(e) =>\n                              setState({ ...state, password: e.target.value })\n                            }\n                            type=\"password\"\n                            className=\"form-control\"\n                          />\n                        </FormGroup>\n                         </Col>\n\n                         <Col>\n                         <FormGroup>\n                          <Label>Confirm New Password</Label>\n                          <Input\n                            value={confirmPassword}\n                            onChange={(e) => setConfirmPassword(e.target.value)}\n                            type=\"password\"\n                            className=\"form-control\"\n                          />\n                        </FormGroup>\n                         </Col>\n                        </Row>\n\n\n                      <div className=\"mt-4\">\n                        {state.loading ? (\n                          <div\n                            className=\"spinner-grow text-primary m-1\"\n                            role=\"status\"\n                          >\n                            {/* <span className=\"sr-only\">Loading...</span> */}\n                          </div>\n                        ) : (\n                          <button\n                            className=\"btn btn-primary btn-block waves-effect waves-light\"\n                            type=\"submit\"\n                          >\n                            Register\n                          </button>\n                        )}\n                      </div>\n\n                      <div className=\"mt-4 text-center\">\n                        <p className=\"mb-0\">\n                          By registering you agree to the AcadWritings{\" \"}\n                          <Link to=\"#\" className=\"text-primary\">\n                            Terms of Use\n                          </Link>\n                        </p>\n                      </div>\n                    </AvForm>\n                  </div>\n                </CardBody>\n              </Card>\n              <div className=\"mt-5 text-center\">\n                <p>\n                  Already have an account ?{\" \"}\n                  <Link to=\"/login\" className=\"font-weight-medium text-primary\">\n                    {\" \"}\n                    Login\n                  </Link>{\" \"}\n                </p>\n                {/* <p>\n                    Â© {new Date().getFullYear()} AcadWritings. Crafted with{\" \"}\n                    <i className=\"mdi mdi-heart text-danger\"></i> by Themesbrand\n                  </p> */}\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nconst mapStatetoProps = (state) => {\n  const { user, registrationError, loading } = state.Account;\n  return { user, registrationError, loading };\n};\n\nexport default connect(mapStatetoProps, {\n  registerUser,\n  apiError,\n  registerUserFailed,\n})(stateWrapper(WriterSignup));\n"]},"metadata":{},"sourceType":"module"}