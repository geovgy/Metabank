{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _defineProperty from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Card,CardBody,CardTitle,NavItem,NavLink,Label,Input,Form,FormGroup}from\"reactstrap\";import{Link}from\"react-router-dom\";// availity-reactstrap-validation\nimport{AvForm,AvField,Button}from\"availity-reactstrap-validation\";import instance from\"../../../helpers/axiosly\";import*as _ from\"lodash\";import stateWrapper from\"../../../containers/provider\";// Pages Components\n// import LatestTranaction from \"./LatestTranaction\";\n//Import Breadcrumb\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";//i18n\nimport{withNamespaces}from\"react-i18next\";var CreateService=function CreateService(props){var _useState=useState({name:\"\",price:\"\",loading:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),updateService=_useState4[0],setUpdateService=_useState4[1];useEffect(function(){setState(_objectSpread(_objectSpread({},state),{},{loading:true}));function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,res,currentServices,currentService;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=localStorage.getItem(\"token\");_context.next=4;return instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/services\"),{headers:{Authorization:\"Bearer \".concat(token)}});case 4:res=_context.sent;setState(_objectSpread(_objectSpread({},state),{},{loading:false}));currentServices=res.data.data.rows;currentService=currentServices.filter(function(e){return e.id===Number(props.match.params.id);});console.log(currentService);if(props.match.params.id){setUpdateService(\"update\");setState(_objectSpread(_objectSpread({},state),{},{name:currentService.map(function(e){return e.name;}),price:currentService.map(function(e){return e.price;})}));}else{setState(_objectSpread(_objectSpread({},state),{},{name:'',price:''}));}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _fetchData.apply(this,arguments);}fetchData();//eslint-disable-line\n},[]);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var token,formData,servicename,serviceprice,_iterator,_step,key;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:token=localStorage.getItem(\"token\");e.preventDefault();_context2.prev=2;formData=new FormData();console.log(state.name);servicename=state.name;serviceprice=state.price;formData.append(\"name\",servicename);formData.append(\"price\",serviceprice);//state.serviceType);\n_iterator=_createForOfIteratorHelper(formData.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){key=_step.value;console.log(key[1]);}}catch(err){_iterator.e(err);}finally{_iterator.f();}_context2.next=13;return instance.post(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/services\"),{formData:formData,headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(token)}}).then(function(response){console.log(response.data.data);}).catch(function(e){return console.log(e);});case 13:_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](2);console.log(_context2.t0);case 18:case\"end\":return _context2.stop();}}},_callee2,null,[[2,15]]);}));return _handleSubmit.apply(this,arguments);}function handleUpdate(_x2){return _handleUpdate.apply(this,arguments);}function _handleUpdate(){_handleUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var token,formData,servicename,serviceprice,id,_iterator2,_step2,key;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=localStorage.getItem(\"token\");e.preventDefault();_context3.prev=2;formData=new FormData();console.log(state.name);servicename=state.name;serviceprice=state.price;id=Number(props.match.params.id);formData.append(\"name\",servicename);formData.append(\"price\",serviceprice);//state.serviceType);\n_iterator2=_createForOfIteratorHelper(formData.entries());try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){key=_step2.value;console.log(key[1]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_context3.next=14;return instance.put(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/services/\").concat(id),formData,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(token)}}).then(function(response){console.log(response.data.data);}).catch(function(e){return console.log(e);});case 14:_context3.next=19;break;case 16:_context3.prev=16;_context3.t0=_context3[\"catch\"](2);console.log(_context3.t0);case 19:case\"end\":return _context3.stop();}}},_callee3,null,[[2,16]]);}));return _handleUpdate.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-content\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Breadcrumbs,{title:props.t(\"Services\"),breadcrumbItem:props.t(\"Create Service\")}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,updateService===\"\"?/*#__PURE__*/React.createElement(CardTitle,null,\"CREATE SERVICE\"):/*#__PURE__*/React.createElement(CardTitle,null,\"UPDATE SERVICE\"),state.loading?/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")):/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Service\"),/*#__PURE__*/React.createElement(Input,{value:state.name,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{name:e.target.value}));},type:\"text\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Price\"),/*#__PURE__*/React.createElement(Input,{value:state.price,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{price:e.target.value}));},type:\"text\",className:\"form-control\"})))),updateService===\"\"?/*#__PURE__*/React.createElement(\"div\",{className:\" \"},/*#__PURE__*/React.createElement(\"button\",_defineProperty({type:\"submit\",className:\"btn btn-primary waves-effect waves-light mx-2\"},\"type\",\"submit\"),\"Post Service\")):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary waves-effect waves-light mx-2\",type:\"submit\",onClick:handleUpdate},\"Update Service\"))))))))));};export default withNamespaces()(stateWrapper(CreateService));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Admin/Services/CreateService.js"],"names":["React","useState","useEffect","Container","Row","Col","Card","CardBody","CardTitle","NavItem","NavLink","Label","Input","Form","FormGroup","Link","AvForm","AvField","Button","instance","_","stateWrapper","Breadcrumbs","withNamespaces","CreateService","props","name","price","loading","state","setState","updateService","setUpdateService","fetchData","token","localStorage","getItem","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","res","currentServices","data","rows","currentService","filter","e","id","Number","match","params","console","log","map","handleSubmit","preventDefault","formData","FormData","servicename","serviceprice","append","entries","key","post","then","response","catch","handleUpdate","put","t","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardTitle,\n  NavItem,\n  NavLink,\n  Label,\n  Input,\n  Form,\n  FormGroup,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\n// availity-reactstrap-validation\nimport { AvForm, AvField, Button } from \"availity-reactstrap-validation\";\nimport instance from \"../../../helpers/axiosly\";\n\n\n\nimport * as _ from \"lodash\";\nimport stateWrapper from \"../../../containers/provider\";\n\n\n\n// Pages Components\n// import LatestTranaction from \"./LatestTranaction\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\n\nconst CreateService = (props) => {\n\n  const [state, setState] = useState({\n    name: \"\",\n    price: \"\",\n    loading: false\n  });\n\n  const[updateService, setUpdateService] = useState(\"\");\n\n\n\n\n  useEffect(() => {\n    setState({...state, loading: true})\n    async function fetchData(){\n        try {\n          const token = localStorage.getItem(\"token\")\n          const res = await instance\n            .get(`${process.env.REACT_APP_DATABASEURL}/services`, {\n              headers: {\n                Authorization: `Bearer ${token}`,\n              },\n            })\n            setState({...state, loading: false})\n            let currentServices = res.data.data.rows\n\n            let currentService = currentServices.filter((e) => e.id === Number(props.match.params.id))\n\n           console.log(currentService)\n\n          if(props.match.params.id){\n            setUpdateService(\"update\")\n              setState({\n              ...state,\n              name: currentService.map(e => {return (e.name)}),\n              price: currentService.map(e => {return (e.price)})\n              })\n          } else {\n              setState({\n              ...state,\n              name: '',\n              price: ''\n            })\n            }\n\n        } catch (e) {\n          console.log(e);\n        }\n        }\n        fetchData();\n\n\n    //eslint-disable-line\n  }, [])\n\n\n\n\n  async function handleSubmit(e) {\n    const token = localStorage.getItem(\"token\")\n    e.preventDefault()\n    try {\n      let formData = new FormData();\n      console.log(state.name)\n      let servicename = state.name\n      let serviceprice = state.price\n      formData.append(\"name\", servicename);\n      formData.append(\"price\", serviceprice); //state.serviceType);\n\n      for(var key of formData.entries()){\n        console.log(key[1])\n      }\n      await instance\n          .post(`${process.env.REACT_APP_DATABASEURL}/services`, { formData,\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n              Authorization: `Bearer ${token}`,\n            },\n          }).then((response) => {\n              console.log(response.data.data)})\n              .catch((e) => console.log(e));\n\n\n    }\n     catch (e) {\n      console.log(e);\n    }\n}\n\n  async function handleUpdate(e){\n  const token = localStorage.getItem(\"token\")\n  e.preventDefault()\n  try {\n    let formData = new FormData();\n    console.log(state.name)\n    let servicename = state.name\n    let serviceprice = state.price\n    let id = Number(props.match.params.id)\n    formData.append(\"name\", servicename);\n    formData.append(\"price\", serviceprice ); //state.serviceType);\n\n    for(var key of formData.entries()){\n      console.log(key[1])\n    }\n    await instance\n        .put(`${process.env.REACT_APP_DATABASEURL}/services/${id}`, formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: `Bearer ${token}`,\n          },\n        }).then((response) => {\n            console.log(response.data.data)})\n            .catch((e) => console.log(e));\n\n\n  }\n   catch (e) {\n    console.log(e);\n  }\n}\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Services\")}\n            breadcrumbItem={props.t(\"Create Service\")}\n          />\n\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                {updateService === \"\" ? <CardTitle>CREATE SERVICE</CardTitle> :\n                    <CardTitle>UPDATE SERVICE</CardTitle>\n                  }\n                  {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                  </div>):(\n                    <form onSubmit={handleSubmit}>\n                    <Row>\n                      <Col lg=\"6\">\n                        <FormGroup>\n                          <Label>\n                            Service\n                          </Label>\n                          <Input\n                            value={state.name}\n                            onChange={(e) =>\n                              setState({ ...state, name: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n\n                          />\n                        </FormGroup>\n                      </Col>\n\n                      <Col lg=\"6\">\n                        <FormGroup>\n                          <Label>\n                            Price\n                          </Label>\n                          <Input\n                            value={state.price}\n                            onChange={(e) =>\n                              setState({ ...state, price: e.target.value })\n                            }\n                            type=\"text\"\n                            className=\"form-control\"\n\n                          />\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                     {updateService === \"\" ? (\n                       <div className=\" \">\n                       <button\n                         type=\"submit\"\n                         className=\"btn btn-primary waves-effect waves-light mx-2\"\n                         type=\"submit\"\n                       >\n                         Post Service\n                       </button>\n                       </div>\n                     ) : (\n                      <div>\n                      <button\n                        className=\"btn btn-primary waves-effect waves-light mx-2\"\n                        type=\"submit\"\n                        onClick={handleUpdate}\n                      >\n                        Update Service\n                      </button>\n                    </div>\n                     )}\n\n\n\n                  </form>\n                  )}\n\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n\n);\n};\n\nexport default withNamespaces()(stateWrapper(CreateService));\n"]},"metadata":{},"sourceType":"module"}