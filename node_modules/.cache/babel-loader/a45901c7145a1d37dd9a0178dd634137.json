{"ast":null,"code":"import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Dropdown,DropdownToggle,DropdownMenu,DropdownItem}from\"reactstrap\";//i18n\nimport{withNamespaces}from\"react-i18next\";// Redux\nimport{connect}from\"react-redux\";import{withRouter,Link}from\"react-router-dom\";// users\nimport user1 from\"../../../assets/images/users/avatar-1.jpg\";import stateWrapper from\"../../../containers/provider\";import{LOCAL_STORAGE_SIGNIN_KEY}from'../../../App.constants';var ProfileMenu=function ProfileMenu(props){var _props$userStore,_props$userStore$stat;// Declare a new state variable, which we'll call \"menu\"\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),menu=_useState2[0],setMenu=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setusername=_useState4[1];useEffect(function(){var userData=props.userStore.fetchUser(props);setusername(userData.first_name);},[props.success]);useEffect(function(){var userData=props.userStore.fetchUser(props);setusername(userData.first_name);},[props===null||props===void 0?void 0:(_props$userStore=props.userStore)===null||_props$userStore===void 0?void 0:(_props$userStore$stat=_props$userStore.state)===null||_props$userStore$stat===void 0?void 0:_props$userStore$stat.updatedProfile]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Dropdown,{isOpen:menu,toggle:function toggle(){return setMenu(!menu);},className:\"d-inline-block\"},/*#__PURE__*/React.createElement(DropdownToggle,{className:\"btn header-item waves-effect\",id:\"page-header-user-dropdown\",tag:\"button\"},/*#__PURE__*/React.createElement(\"img\",{className:\"rounded-circle header-profile-user\",src:user1,alt:\"Header Avatar\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"d-none d-xl-inline-block ml-2 mr-1\"},username),/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-chevron-down d-none d-xl-inline-block\"})),/*#__PURE__*/React.createElement(DropdownMenu,{right:true},/*#__PURE__*/React.createElement(Link,{to:\"/profile\",className:\"dropdown-item\"},/*#__PURE__*/React.createElement(\"i\",{className:\"bx bx-user font-size-16 align-middle mr-1\"}),/*#__PURE__*/React.createElement(\"span\",null,\" \",props.t(\"Profile\"))),/*#__PURE__*/React.createElement(Link,{to:\"/payments\",className:\"dropdown-item\"},/*#__PURE__*/React.createElement(\"i\",{className:\"bx bx-wallet font-size-16 align-middle mr-1\"}),/*#__PURE__*/React.createElement(\"span\",null,\" \",props.t(\"Payments\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/React.createElement(Link,{to:\"/logout\",className:\"dropdown-item\"},/*#__PURE__*/React.createElement(\"i\",{className:\"bx bx-power-off font-size-16 align-middle mr-1 text-danger\"}),/*#__PURE__*/React.createElement(\"span\",null,props.t(\"Logout\"))))));};var mapStatetoProps=function mapStatetoProps(state){var _state$Profile=state.Profile,error=_state$Profile.error,success=_state$Profile.success;return{error:error,success:success};};export default withRouter(connect(mapStatetoProps,{})(withNamespaces()(stateWrapper(ProfileMenu))));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/components/CommonForBoth/TopbarDropdown/ProfileMenu.js"],"names":["React","useState","useEffect","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","withNamespaces","connect","withRouter","Link","user1","stateWrapper","LOCAL_STORAGE_SIGNIN_KEY","ProfileMenu","props","menu","setMenu","username","setusername","userData","userStore","fetchUser","first_name","success","state","updatedProfile","t","mapStatetoProps","Profile","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n} from \"reactstrap\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\n// Redux\nimport { connect } from \"react-redux\";\nimport { withRouter, Link } from \"react-router-dom\";\n\n// users\nimport user1 from \"../../../assets/images/users/avatar-1.jpg\";\nimport stateWrapper from \"../../../containers/provider\";\n\nimport {LOCAL_STORAGE_SIGNIN_KEY} from '../../../App.constants'\n\nconst ProfileMenu = (props) => {\n  // Declare a new state variable, which we'll call \"menu\"\n  const [menu, setMenu] = useState(false);\n\n  const [username, setusername] = useState(\"\");\n\n  useEffect(() => {\n    let userData = props.userStore.fetchUser(props);\n        setusername(userData.first_name);\n  }, [props.success]);\n\n  useEffect(() => {\n    let userData = props.userStore.fetchUser(props);\n        setusername(userData.first_name);\n  },[props?.userStore?.state?.updatedProfile])\n\n  return (\n    <React.Fragment>\n      <Dropdown\n        isOpen={menu}\n        toggle={() => setMenu(!menu)}\n        className=\"d-inline-block\"\n      >\n        <DropdownToggle\n          className=\"btn header-item waves-effect\"\n          id=\"page-header-user-dropdown\"\n          tag=\"button\"\n        >\n          <img\n            className=\"rounded-circle header-profile-user\"\n            src={user1}\n            alt=\"Header Avatar\"\n          />\n          <span className=\"d-none d-xl-inline-block ml-2 mr-1\">{username}</span>\n          <i className=\"mdi mdi-chevron-down d-none d-xl-inline-block\"></i>\n        </DropdownToggle>\n        <DropdownMenu right>\n          <Link to=\"/profile\" className=\"dropdown-item\">\n            <i className=\"bx bx-user font-size-16 align-middle mr-1\"></i>\n            <span> {props.t(\"Profile\")}</span>\n          </Link>\n\n          <Link to=\"/payments\" className=\"dropdown-item\">\n            <i className=\"bx bx-wallet font-size-16 align-middle mr-1\"></i>\n            <span> {props.t(\"Payments\")}</span>\n          </Link>\n          <div className=\"dropdown-divider\"></div>\n          <Link to=\"/logout\" className=\"dropdown-item\">\n            <i className=\"bx bx-power-off font-size-16 align-middle mr-1 text-danger\"></i>\n            <span>{props.t(\"Logout\")}</span>\n          </Link>\n        </DropdownMenu>\n      </Dropdown>\n    </React.Fragment>\n  );\n};\n\nconst mapStatetoProps = (state) => {\n  const { error, success } = state.Profile;\n  return { error, success };\n};\n\nexport default withRouter(\n  connect(mapStatetoProps, {})(withNamespaces()(stateWrapper(ProfileMenu)))\n);\n"]},"metadata":{},"sourceType":"module"}