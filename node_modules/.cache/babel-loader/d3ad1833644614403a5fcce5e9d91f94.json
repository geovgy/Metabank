{"ast":null,"code":"import _classCallCheck from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _inherits from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Container}from\"unstated\";import instance from\"../helpers/axiosly\";import{LOCAL_STORAGE_SIGNIN_KEY}from'../App.constants';// Get token from local storage\nvar token=localStorage.getItem(\"token\");var WithdrawalContainer=/*#__PURE__*/function(_Container){_inherits(WithdrawalContainer,_Container);var _super=_createSuper(WithdrawalContainer);function WithdrawalContainer(){var _this;_classCallCheck(this,WithdrawalContainer);_this=_super.call(this);_this.requestWithdrawal=function(bearertoken,amount){return new Promise(function(resolve,reject){console.log(bearertoken);instance.post(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/withdrawal\"),{amount:amount},{headers:{Authorization:\"Bearer \".concat(bearertoken)}}).then(function(response){console.log(resolve(response));console.log(response);resolve(response);// return response\n}).catch(function(e){var _e$response,_e$response$data,_e$response$data$stat,_e$response2,_e$response2$data;console.log(e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.status);_this.setState({errorMessage:(_e$response$data$stat=e===null||e===void 0?void 0:(_e$response2=e.response)===null||_e$response2===void 0?void 0:(_e$response2$data=_e$response2.data)===null||_e$response2$data===void 0?void 0:_e$response2$data.status)!==null&&_e$response$data$stat!==void 0?_e$response$data$stat:'nothing to reject here'});console.log('after set error');});});};_this.state={sessionData:{serviceList:[],errorMessage:''}};return _this;}//Function to request withdrawal by the writer\nreturn WithdrawalContainer;}(Container);export{WithdrawalContainer};","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/containers/WithrawalContainer.js"],"names":["Container","instance","LOCAL_STORAGE_SIGNIN_KEY","token","localStorage","getItem","WithdrawalContainer","requestWithdrawal","bearertoken","amount","Promise","resolve","reject","console","log","post","process","env","REACT_APP_DATABASEURL","headers","Authorization","then","response","catch","e","data","status","setState","errorMessage","state","sessionData","serviceList"],"mappings":"uaAAA,OAASA,SAAT,KAA0B,UAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,OAASC,wBAAT,KAAyC,kBAAzC,CAEA;AACA,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,C,GAEMC,CAAAA,mB,0HACJ,8BAAc,qDACZ,wBADY,MAYhBC,iBAZgB,CAYI,SAACC,WAAD,CAAcC,MAAd,CAAyB,CAC7C,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCC,OAAO,CAACC,GAAR,CAAYN,WAAZ,EAEEP,QAAQ,CAACc,IAAT,WAAiBC,OAAO,CAACC,GAAR,CAAYC,qBAA7B,gBACA,CACET,MAAM,CAAEA,MADV,CADA,CAIA,CACIU,OAAO,CAAE,CACLC,aAAa,kBAAYZ,WAAZ,CADR,CADb,CAJA,EASGa,IATH,CASQ,SAACC,QAAD,CAAc,CAClBT,OAAO,CAACC,GAAR,CAAYH,OAAO,CAACW,QAAD,CAAnB,EACAT,OAAO,CAACC,GAAR,CAAYQ,QAAZ,EACAX,OAAO,CAACW,QAAD,CAAP,CACA;AACH,CAdD,EAeCC,KAfD,CAeO,SAACC,CAAD,CAAO,uFACZX,OAAO,CAACC,GAAR,CAAYU,CAAZ,SAAYA,CAAZ,8BAAYA,CAAC,CAAEF,QAAf,wDAAY,YAAaG,IAAzB,2CAAY,iBAAmBC,MAA/B,EACH,MAAKC,QAAL,CAAc,CACbC,YAAY,wBAAEJ,CAAF,SAAEA,CAAF,+BAAEA,CAAC,CAAEF,QAAL,0DAAE,aAAaG,IAAf,4CAAE,kBAAmBC,MAArB,+DAA+B,wBAD9B,CAAd,EAGDb,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAGG,CAvBD,EAyBH,CA5BM,CAAP,CA6BC,CA1Ce,CAEZ,MAAKe,KAAL,CAAa,CACXC,WAAW,CAAE,CACXC,WAAW,CAAE,EADF,CAEXH,YAAY,CAAE,EAFH,CADF,CAAb,CAFY,aAQb,CAEH;6BAXkC5B,S,EA8ClC,OAASM,mBAAT","sourcesContent":["import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../App.constants'\n\n// Get token from local storage\nconst token = localStorage.getItem(\"token\");\n\nclass WithdrawalContainer extends Container {\n  constructor() {\n    super();\n    this.state = {\n      sessionData: {\n        serviceList: [],\n        errorMessage: ''\n      },\n    };\n  }\n\n//Function to request withdrawal by the writer\n\nrequestWithdrawal = (bearertoken, amount) => {\nreturn new Promise((resolve, reject) => {\n  console.log(bearertoken)\n\n    instance.post(`${process.env.REACT_APP_DATABASEURL}/withdrawal`,\n    {\n      amount: amount\n    },\n    {\n        headers: {\n            Authorization: `Bearer ${bearertoken}`\n        }\n\n    }).then((response) => {\n        console.log(resolve(response));\n        console.log(response)\n        resolve(response);\n        // return response\n    })\n    .catch((e) => {\n      console.log(e?.response?.data?.status);\n   this.setState({\n    errorMessage: e?.response?.data?.status ?? 'nothing to reject here'\n  })\n  console.log('after set error');\n\n      \n    });\n\n})\n}\n\n}\nexport { WithdrawalContainer };\n\n\n\n"]},"metadata":{},"sourceType":"module"}