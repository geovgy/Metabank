{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(editProfile),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(watchProfile),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(ProfileSaga);import{takeEvery,fork,put,all,call}from'redux-saga/effects';// Login Redux States\nimport{EDIT_PROFILE}from'./actionTypes';import{profileSuccess,profileError}from'./actions';//Include Both Helper File with needed methods\nimport{getFirebaseBackend}from'../../../helpers/firebase_helper';import{postFakeProfile,postJwtProfile}from'../../../helpers/fakebackend_helper';var fireBaseBackend=getFirebaseBackend();function editProfile(_ref){var user,response,_response,_response2;return _regeneratorRuntime.wrap(function editProfile$(_context){while(1){switch(_context.prev=_context.next){case 0:user=_ref.payload.user;_context.prev=1;if(!(process.env.REACT_APP_DEFAULTAUTH===\"firebase\")){_context.next=10;break;}_context.next=5;return call(fireBaseBackend.editProfileAPI,user.username,user.idx);case 5:response=_context.sent;_context.next=8;return put(profileSuccess(response));case 8:_context.next=24;break;case 10:if(!(process.env.REACT_APP_DEFAULTAUTH===\"jwt\")){_context.next=18;break;}_context.next=13;return call(postJwtProfile,'/post-jwt-profile',{username:user.username,idx:user.idx});case 13:_response=_context.sent;_context.next=16;return put(profileSuccess(_response));case 16:_context.next=24;break;case 18:if(!(process.env.REACT_APP_DEFAULTAUTH===\"fake\")){_context.next=24;break;}_context.next=21;return call(postFakeProfile,'/post-fake-profile',{username:user.username,idx:user.idx});case 21:_response2=_context.sent;_context.next=24;return put(profileSuccess(_response2));case 24:_context.next=30;break;case 26:_context.prev=26;_context.t0=_context[\"catch\"](1);_context.next=30;return put(profileError(_context.t0));case 30:case\"end\":return _context.stop();}}},_marked,null,[[1,26]]);}export function watchProfile(){return _regeneratorRuntime.wrap(function watchProfile$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeEvery(EDIT_PROFILE,editProfile);case 2:case\"end\":return _context2.stop();}}},_marked2);}function ProfileSaga(){return _regeneratorRuntime.wrap(function ProfileSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return all([fork(watchProfile)]);case 2:case\"end\":return _context3.stop();}}},_marked3);}export default ProfileSaga;","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/store/auth/profile/saga.js"],"names":["editProfile","watchProfile","ProfileSaga","takeEvery","fork","put","all","call","EDIT_PROFILE","profileSuccess","profileError","getFirebaseBackend","postFakeProfile","postJwtProfile","fireBaseBackend","user","payload","process","env","REACT_APP_DEFAULTAUTH","editProfileAPI","username","idx","response"],"mappings":"0LAYUA,W,iDAuBOC,Y,iDAIPC,W,EAvCV,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,GAA1B,CAA+BC,GAA/B,CAAoCC,IAApC,KAAgD,oBAAhD,CAEA;AACA,OAASC,YAAT,KAA6B,eAA7B,CACA,OAASC,cAAT,CAAyBC,YAAzB,KAA6C,WAA7C,CAEA;AACA,OAASC,kBAAT,KAAmC,kCAAnC,CACA,OAASC,eAAT,CAA0BC,cAA1B,KAAiD,qCAAjD,CAEA,GAAMC,CAAAA,eAAe,CAAGH,kBAAkB,EAA1C,CAEA,QAAUX,CAAAA,WAAV,kKAAmCe,IAAnC,MAAwBC,OAAxB,CAAmCD,IAAnC,sBAGaE,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAsC,UAHnD,2CAK6B,MAAMZ,CAAAA,IAAI,CAACO,eAAe,CAACM,cAAjB,CAAiCL,IAAI,CAACM,QAAtC,CAAgDN,IAAI,CAACO,GAArD,CAAV,CAL7B,OAKkBC,QALlB,+BAMY,MAAMlB,CAAAA,GAAG,CAACI,cAAc,CAACc,QAAD,CAAf,CAAT,CANZ,2CAQkBN,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAsC,KARxD,4CAU8B,MAAMZ,CAAAA,IAAI,CAACM,cAAD,CAAiB,mBAAjB,CAAsC,CAAEQ,QAAQ,CAAEN,IAAI,CAACM,QAAjB,CAA2BC,GAAG,CAAGP,IAAI,CAACO,GAAtC,CAAtC,CAAV,CAV9B,QAUmBC,SAVnB,gCAWa,MAAMlB,CAAAA,GAAG,CAACI,cAAc,CAACc,SAAD,CAAf,CAAT,CAXb,4CAakBN,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAsC,MAbxD,4CAe8B,MAAMZ,CAAAA,IAAI,CAACK,eAAD,CAAkB,oBAAlB,CAAwC,CAAES,QAAQ,CAAEN,IAAI,CAACM,QAAjB,CAA2BC,GAAG,CAAGP,IAAI,CAACO,GAAtC,CAAxC,CAAV,CAf9B,QAemBC,UAfnB,gCAgBa,MAAMlB,CAAAA,GAAG,CAACI,cAAc,CAACc,UAAD,CAAf,CAAT,CAhBb,0GAoBQ,MAAMlB,CAAAA,GAAG,CAACK,YAAY,aAAb,CAAT,CApBR,qEAuBA,MAAO,SAAUT,CAAAA,YAAV,4IACH,MAAME,CAAAA,SAAS,CAACK,YAAD,CAAeR,WAAf,CAAf,CADG,wDAIP,QAAUE,CAAAA,WAAV,2IACI,MAAMI,CAAAA,GAAG,CAAC,CACNF,IAAI,CAACH,YAAD,CADE,CAAD,CAAT,CADJ,wDAMA,cAAeC,CAAAA,WAAf","sourcesContent":["import { takeEvery, fork, put, all, call } from 'redux-saga/effects';\n\n// Login Redux States\nimport { EDIT_PROFILE } from './actionTypes';\nimport { profileSuccess, profileError } from './actions';\n\n//Include Both Helper File with needed methods\nimport { getFirebaseBackend } from '../../../helpers/firebase_helper';\nimport { postFakeProfile, postJwtProfile  } from '../../../helpers/fakebackend_helper';\n \nconst fireBaseBackend = getFirebaseBackend();\n\nfunction* editProfile({ payload: { user } }) {\n\n    try {\n          if(process.env.REACT_APP_DEFAULTAUTH === \"firebase\")\n          {\n            const response = yield call(fireBaseBackend.editProfileAPI, user.username, user.idx);\n            yield put(profileSuccess(response));\n          }\n          else if(process.env.REACT_APP_DEFAULTAUTH === \"jwt\")\n          {  \n             const response = yield call(postJwtProfile, '/post-jwt-profile', { username: user.username, idx : user.idx });\n             yield put(profileSuccess(response));\n          }\n          else if(process.env.REACT_APP_DEFAULTAUTH === \"fake\")\n          {\n             const response = yield call(postFakeProfile, '/post-fake-profile', { username: user.username, idx : user.idx });\n             yield put(profileSuccess(response));\n          }\n          \n    } catch (error) {\n        yield put(profileError(error));\n    }\n}\nexport function* watchProfile() {\n    yield takeEvery(EDIT_PROFILE, editProfile)\n}\n\nfunction* ProfileSaga() {\n    yield all([\n        fork(watchProfile),\n    ]);\n}\n\nexport default ProfileSaga;"]},"metadata":{},"sourceType":"module"}