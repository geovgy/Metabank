{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/pages/SuperAdmin/library/LibraryList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card, CardBody, CardTitle, Badge, Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\nimport { withNamespaces } from \"react-i18next\";\n\nconst LibraryList = props => {\n  //const[librarys, setLibrary] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [state, setState] = useState({\n    loading: false,\n    alert: ''\n  });\n  const [modal, setmodal] = useState(false);\n  const location = useLocation();\n  const history = useHistory();\n  useEffect(() => {\n    setState({ ...state,\n      loading: true\n    });\n    let userData;\n    userData = props.userStore.fetchUser(props);\n\n    async function fetchData() {\n      const res = await props.masterStore.fetchLibrary(userData.access_token);\n\n      if (res.data.status == 'Success') {\n        setTimeout(function () {\n          setState({ ...state,\n            loading: false\n          });\n        }, 2000);\n      }\n    }\n\n    fetchData();\n\n    if (location.state && location.state.status) {\n      setState({ ...state,\n        alert: location.state\n      }); //delete location state\n\n      history.replace({\n        pathname: location.pathname,\n        state: {}\n      });\n    } //eslint-disable-line\n\n  }, []);\n\n  const handleDelete = async id => {\n    const res = await props.masterStore.deleteLibrary(id);\n\n    if (res.data.status == 'Success') {\n      setState({ ...state,\n        alert: 'deleted'\n      });\n      setTimeout(function () {\n        setState({ ...state,\n          alert: ''\n        });\n      }, 2000);\n    }\n\n    window.location.reload();\n  };\n\n  let librarys = props.masterStore.state.sessionData.libraryList;\n  const [openModalLiblists, setopenModalLiblist] = useState([]);\n\n  const openModal = id => {\n    setmodal(!modal);\n    const openModalLib = librarys.filter(e => e.id === id);\n    setopenModalLiblist(openModalLib);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"ALL LIBRARY CONTENT\"), state.alert.status == \"created\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-info alert-dismissible fade show\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"mdi mdi-alert-circle-outline mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), \" New Library Content created\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, \"\\xD7\")))) : \"\", state.alert.status == \"updated\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-info alert-dismissible fade show\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"mdi mdi-alert-circle-outline mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }), \" Library Content updated\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, \"\\xD7\")))) : \"\", state.alert == \"deleted\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-info alert-dismissible fade show\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"mdi mdi-alert-circle-outline mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }), \" Library Content deleted\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, \"\\xD7\")))) : \"\", state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"spinner-border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, \"Loading...\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-centered table-nowrap mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 27\n    }\n  }, \"Library Topic\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 27\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 27\n    }\n  }, \"File\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 27\n    }\n  }, \" \"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 23\n    }\n  }, librarys && librarys.map((library, key) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: \"_tr_\" + key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 28\n    }\n  }, key + 1), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"text-body font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 31\n    }\n  }, \" \", library.title, \" \"), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  }, library.description), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, library.url), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/createlibrary/\" + library.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"sm\",\n    color: \"primary\",\n    className: \"btn btn-primary waves-effect waves-light mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 33\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"sm\",\n    className: \"btn btn-primary waves-effect waves-light mx-2\",\n    onClick: () => handleDelete(library.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 31\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-trash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"primary\",\n    size: \"sm\",\n    className: \"btn-rounded waves-effect waves-light\",\n    onClick: () => openModal(library.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 33\n    }\n  }, \" \", \"view library\")))))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modal,\n    role: \"dialog\",\n    autoFocus: true,\n    centered: true,\n    className: \"exampleModal\",\n    tabindex: \"-1\",\n    toggle: () => {\n      setmodal(!modal);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: () => {\n      setmodal(!modal);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 28\n    }\n  }, \"Library Details\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }, openModalLiblists.map((openModalLiblist, key) => /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-centered table-nowrap mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 38\n    }\n  }, \"Library Topic\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"text-body font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 37\n    }\n  }, \" \", openModalLiblist.title, \" \"), \" \")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 37\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 33\n    }\n  }, openModalLiblist.description)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 37\n    }\n  }, \"File\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 33\n    }\n  }, openModalLiblist.url))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"secondary\",\n    onClick: () => {\n      setmodal(!modal);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 29\n    }\n  }, \"Close\"))))))));\n};\n\nexport default withNamespaces()(stateWrapper(LibraryList));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/SuperAdmin/library/LibraryList.js"],"names":["React","useEffect","useState","Card","CardBody","CardTitle","Badge","Button","Modal","ModalHeader","ModalBody","ModalFooter","Link","useLocation","useHistory","instance","stateWrapper","withNamespaces","LibraryList","props","users","setUsers","state","setState","loading","alert","modal","setmodal","location","history","userData","userStore","fetchUser","fetchData","res","masterStore","fetchLibrary","access_token","data","status","setTimeout","replace","pathname","handleDelete","id","deleteLibrary","window","reload","librarys","sessionData","libraryList","openModalLiblists","setopenModalLiblist","openModal","openModalLib","filter","e","map","library","key","title","description","url","openModalLiblist"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Card, CardBody, CardTitle, Badge, Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { Link,  useLocation, useHistory } from \"react-router-dom\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\nimport { withNamespaces } from \"react-i18next\";\n\n\nconst LibraryList = (props) => {\n\n  //const[librarys, setLibrary] = useState([]);\n  const[users, setUsers] = useState([])\n  const[state, setState] = useState({\n    loading: false,\n    alert: ''\n  })\n  const [modal, setmodal] = useState(false);\n\n  const location = useLocation();\n  const history = useHistory();\n\n  useEffect(() => {\n    setState({...state, loading: true})\n\n    let userData;\n    userData = props.userStore.fetchUser(props);\n\n    async function fetchData(){\n\n        const res = await props.masterStore.fetchLibrary(\n            userData.access_token\n          );\n          if(res.data.status == 'Success'){\n            setTimeout(function(){\n              setState({...state, loading: false})\n            }, 2000)\n          }\n    }\n    fetchData();\n\n    if(location.state && location.state.status) {\n        setState({...state, alert: location.state})\n\n        //delete location state\n         history.replace({\n           pathname: location.pathname, state: {}\n         })\n       }\n    //eslint-disable-line\n  }, [])\n\n  const handleDelete = async (id) =>{\n\n    const res = await props.masterStore.deleteLibrary(id);\n\n    if(res.data.status == 'Success'){\n        setState({...state, alert: 'deleted'})\n        setTimeout(function(){\n         setState({...state, alert: ''})\n       }, 2000)\n       }\n       window.location.reload()\n }\n\n let librarys = props.masterStore.state.sessionData.libraryList;\n\n\n const[openModalLiblists , setopenModalLiblist] = useState([])\n const openModal = (id) => {\n    setmodal(!modal);\n\n    const openModalLib = librarys.filter((e) => e.id === id)\n    setopenModalLiblist(openModalLib)\n }\n\n  return (\n    <React.Fragment>\n\n      <Card>\n        <CardBody>\n          <CardTitle className=\"mb-4\">ALL LIBRARY CONTENT</CardTitle>\n          {state.alert.status == \"created\" ? (\n            <div>\n              <div\n                className=\"alert alert-info alert-dismissible fade show\"\n                role=\"alert\"\n              >\n                <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> New Library Content created\n                <button\n                  type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"alert\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n            </div>\n          ) : (\n            \"\"\n          )}\n           {state.alert.status == \"updated\" ? (\n            <div>\n              <div\n                className=\"alert alert-info alert-dismissible fade show\"\n                role=\"alert\"\n              >\n                <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> Library Content updated\n                <button\n                  type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"alert\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n            </div>\n          ) : (\n            \"\"\n          )}\n          {state.alert == \"deleted\" ? (\n            <div>\n              <div\n                className=\"alert alert-info alert-dismissible fade show\"\n                role=\"alert\"\n              >\n                <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> Library Content deleted\n                <button\n                  type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"alert\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n            </div>\n          ) : (\n            \"\"\n          )}\n         {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                  </div>):(\n                    <div className=\"table-responsive\">\n                    <table className=\"table table-centered table-nowrap mb-0\">\n                      <thead className=\"thead-light\">\n                        <tr>\n                        <th>#</th>\n                          <th>Library Topic</th>\n                          <th>Description</th>\n                          <th>File</th>\n                          <th>{\" \"}</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {librarys && librarys.map((library, key) => (\n                          <tr key={\"_tr_\" + key}>\n                           <th scope=\"row\">{key + 1}</th>\n                            <td>\n                              <Link to=\"#\" className=\"text-body font-weight-bold\">\n                                {\" \"}\n                                {library.title}{\" \"}\n                              </Link>{\" \"}\n                            </td>\n                            <td>{library.description}</td>\n                            <td>{library.url}</td>\n                            <td>\n\n\n\n                              <Link to={\"/createlibrary/\" + library.id}>\n                                <Button size=\"sm\"\n                                color=\"primary\"\n                                className=\"btn btn-primary waves-effect waves-light mx-2\"\n                                    >\n                                {\" \"}\n                                <i className=\"bx bx-edit\"></i>\n                                </Button>\n                              </Link>\n\n                              <Button\n                                color=\"primary\" size=\"sm\"\n                                className=\"btn btn-primary waves-effect waves-light mx-2\"\n                                onClick={() => handleDelete(library.id)}\n                                    >\n                                {\" \"}\n                                <i className=\"bx bx-trash\"></i>\n                                </Button>\n                                <Button type=\"button\" color=\"primary\" size=\"sm\" className=\"btn-rounded waves-effect waves-light\"\n                                onClick={() => openModal(library.id) }\n                                    >\n                                {\" \"}\n                                view library\n                                </Button>\n                            </td>\n\n                          </tr>\n\n                        ))}\n                      </tbody>\n                    </table>\n                    <Modal isOpen={modal} role=\"dialog\" autoFocus={true} centered={true} className=\"exampleModal\" tabindex=\"-1\" toggle={() => { setmodal(!modal); }}>\n                           <div className=\"modal-content\">\n                           <ModalHeader toggle={() => { setmodal(!modal); }}>\n                            Library Details\n                            </ModalHeader >\n                            <ModalBody>\n                            <div className=\"table-responsive\">\n                            {openModalLiblists.map((openModalLiblist, key) => (\n                                 <table className=\"table table-centered table-nowrap mb-0\">\n                                 <thead className=\"thead-light\">\n                                    <tr>\n                                     <th>Library Topic</th>\n                                    <td>\n                                    <Link to=\"#\" className=\"text-body font-weight-bold\">\n                                    {\" \"}\n                                        {openModalLiblist.title}{\" \"}\n                                </Link>{\" \"}\n                                    </td>\n\n                                    </tr>\n                                    <tr>\n                                    <th>Description</th>\n                                <td>{openModalLiblist.description}</td>\n                                </tr>\n                                <tr>\n                                    <th>File</th>\n                                <td>{openModalLiblist.url}</td>\n                                </tr>\n\n                            </thead>\n                            <tbody>\n                         </tbody>\n                            </table>\n                            ))}\n\n                        </div>\n                            </ModalBody>\n                            <ModalFooter>\n                            <Button type=\"button\" color=\"secondary\" onClick={() => { setmodal(!modal); }}>Close</Button>\n                        </ModalFooter>\n                            </div>\n                            </Modal>\n                  </div>\n                  )}\n\n        </CardBody>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(LibraryList));\n"]},"metadata":{},"sourceType":"module"}