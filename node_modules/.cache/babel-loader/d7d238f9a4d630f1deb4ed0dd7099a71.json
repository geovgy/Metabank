{"ast":null,"code":"import _objectWithoutProperties from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect,useState}from\"react\";import{Route,Redirect,withRouter}from\"react-router-dom\";import{LOCAL_STORAGE_SIGNIN_KEY}from'../../App.constants';import{grantPermission}from'../../GrantPermission';import{ROLES}from'../../App.constants';import stateWrapper from'../../containers/provider';var HookWrapper=function HookWrapper(_ref){var _rest$userStore,_rest$userStore$state;var roles=_ref.roles,path=_ref.path,rest=_objectWithoutProperties(_ref,[\"roles\",\"path\"]);// useEffect(() => {}, [rest?.userStore?.state?.writerDom])\nreturn/*#__PURE__*/React.createElement(Writermiddleware,Object.assign({},rest,{path:path,state:rest===null||rest===void 0?void 0:(_rest$userStore=rest.userStore)===null||_rest$userStore===void 0?void 0:(_rest$userStore$state=_rest$userStore.state)===null||_rest$userStore$state===void 0?void 0:_rest$userStore$state.writerDom}));};function Writermiddleware(_ref2){var _ref3,_ref4;var Component=_ref2.component,Layout=_ref2.layout,roles=_ref2.roles,path=_ref2.path,state=_ref2.state,rest=_objectWithoutProperties(_ref2,[\"component\",\"layout\",\"roles\",\"path\",\"state\"]);console.log(state,path,\"here was logged\");var showRoutes=!state&&path=='/wexam'&&/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{//   findWriterExam\nrender:function render(props){return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Component,props));}}));var showRoutes4=!state&&path=='/wquestion/:id?'&&/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{//   findWriterExam\nrender:function render(props){return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Component,props));}}));var showRoutes5=(_ref3=!state&&path!='/wquestion/:id?')!==null&&_ref3!==void 0?_ref3:/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/wquestion/:id?\"}});var showRoutes3=(_ref4=!state&&path!='/wexam')!==null&&_ref4!==void 0?_ref4:/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/wexam\"}});var showRoutes2=state&&/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{//   findWriterExam\nrender:function render(props){return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Component,props));}}));return/*#__PURE__*/React.createElement(React.Fragment,null,grantPermission([ROLES.WRITER])&&showRoutes3,grantPermission([ROLES.WRITER])&&showRoutes2,grantPermission([ROLES.WRITER])&&showRoutes5,grantPermission([ROLES.WRITER])&&showRoutes,grantPermission([ROLES.WRITER])&&showRoutes4,!grantPermission([ROLES.WRITER])&&/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{render:function render(props){return/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/login\",state:{from:props.location}}});}})));}export default withRouter(stateWrapper(HookWrapper));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/routes/middleware/Writermiddleware.js"],"names":["React","useEffect","useState","Route","Redirect","withRouter","LOCAL_STORAGE_SIGNIN_KEY","grantPermission","ROLES","stateWrapper","HookWrapper","roles","path","rest","userStore","state","writerDom","Writermiddleware","Component","component","Layout","layout","console","log","showRoutes","props","showRoutes4","showRoutes5","pathname","showRoutes3","showRoutes2","WRITER","from","location"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../../App.constants'\nimport { grantPermission } from '../../GrantPermission'\nimport { ROLES } from '../../App.constants';\nimport stateWrapper from '../../containers/provider';\n\nconst HookWrapper = ({ roles, path, ...rest}) => {\n\t// useEffect(() => {}, [rest?.userStore?.state?.writerDom])\n\treturn <Writermiddleware  {...rest} path={path} state={rest?.userStore?.state?.writerDom}/>\n}\n\nfunction Writermiddleware({\n\tcomponent: Component, layout: Layout, roles, path, state,  ...rest\n}) {\n\tconsole.log(state, path, \"here was logged\");\n\t\n\tconst showRoutes = !state && path == '/wexam'   && (\n\t\t<Route\n\t\t{...rest}\n\t\t//   findWriterExam\n\t\trender={(props) => (\n\t\t\t<Layout>\n\t\t\t\t<Component {...props} />\n\t\t\t</Layout>\n\t\t)}\n\t/>\n\t) \n\n\tconst showRoutes4 = !state && path == '/wquestion/:id?'   && (\n\t\t<Route\n\t\t{...rest}\n\t\t//   findWriterExam\n\t\trender={(props) => (\n\t\t\t<Layout>\n\t\t\t\t<Component {...props} />\n\t\t\t</Layout>\n\t\t)}\n\t/>\n\t) \n\tconst showRoutes5 = (!state && path != '/wquestion/:id?' ) ?? <Redirect to={{ pathname: \"/wquestion/:id?\"  }} /> \n\n\tconst showRoutes3 = (!state && path != '/wexam' ) ?? <Redirect to={{ pathname: \"/wexam\"  }} /> \n\n\t\n\tconst showRoutes2 = state && (\n\t\t<Route\n\t\t{...rest}\n\t\t//   findWriterExam\n\t\trender={(props) => (\n\t\t\t<Layout>\n\t\t\t\t<Component {...props} />\n\t\t\t</Layout>\n\t\t)}\n\t/>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes3 }\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes2 }\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes5 }\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes }\n\t\t\t{ grantPermission([ROLES.WRITER]) && showRoutes4 }\n\t\t\t{/* { grantPermission([ROLES.WRITER]) && showRoutes3 } */}\n\t\t\t{\n\t\t\t\t!grantPermission([ROLES.WRITER]) && (\n\t\t\t\t\t<Route\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\trender={(props) => (\n\t\t\t\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: props.location } }} />\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t/>\n\n\t\t\t\t)\n\t\t\t}\n\t\t</>\n\t);\n}\n\nexport default withRouter(stateWrapper(HookWrapper));\n\n"]},"metadata":{},"sourceType":"module"}