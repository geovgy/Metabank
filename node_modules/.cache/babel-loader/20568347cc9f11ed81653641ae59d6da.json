{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/helpers/Flutterwave.js\";\nimport React, { useEffect } from 'react';\nimport { useFlutterwave, closePaymentModal } from 'flutterwave-react-v3';\nimport * as _ from 'lodash';\nimport { v4 as uuidv4 } from 'uuid';\nimport { paymentTitle } from '../App.constants';\nimport stateWrapper from \"../containers/provider\";\nimport { config } from '../appConfig';\n\nconst Flutterwave = props => {\n  var _props$data2;\n\n  // const logo = config?.agnesLogo;\n  const title = paymentTitle; // const description = paymentDescription;\n\n  const value = props === null || props === void 0 ? void 0 : props.data; // const isRecurring = (_.isUndefined(value?.paymentPlanFlutterwave) || _.isNull(value?.paymentPlanFlutterwave)) ? false : true\n\n  const configx = {\n    public_key: config === null || config === void 0 ? void 0 : config.flutterwavePublicKey,\n    tx_ref: `${uuidv4()}`,\n    amount: value === null || value === void 0 ? void 0 : value.amount,\n    currency: 'NGN',\n    payment_options: 'card,mobilemoney,ussd,banktransfer,paga,credit,mpesa,barter',\n    payment_plan: value === null || value === void 0 ? void 0 : value.paymentPlanFlutterwave,\n    customer: {\n      email: value === null || value === void 0 ? void 0 : value.email,\n      phone_number: value === null || value === void 0 ? void 0 : value.phone,\n      name: value === null || value === void 0 ? void 0 : value.name\n    },\n    meta: {\n      numberOfMonths: value === null || value === void 0 ? void 0 : value.numberOfMonths,\n      numberOfWomen: value === null || value === void 0 ? void 0 : value.numberOfWomen,\n      isRecurring\n    },\n    customizations: {\n      title,\n      description,\n      logo\n    }\n  };\n  const handleFlutterPayment = useFlutterwave(configx);\n  useEffect(() => {\n    var _props$data;\n\n    if ((_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.setToPayWithFlutterwave) {\n      handleFlutterPayment({\n        callback: response => {\n          console.log(response); //    props.handleSubmit()\n\n          closePaymentModal(); // this will close the modal programmatically\n\n          props === null || props === void 0 ? void 0 : props.setPayToFalse();\n        },\n        onClose: () => {\n          props === null || props === void 0 ? void 0 : props.setPayToFalse();\n        }\n      });\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props === null || props === void 0 ? void 0 : (_props$data2 = props.data) === null || _props$data2 === void 0 ? void 0 : _props$data2.setToPayWithFlutterwave]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }\n  });\n};\n\nexport default stateWrapper(Flutterwave); // <Flutterwave handleSubmit={handleSubmit} data={state} setPayToFalse={setPayToFalse}/>\n//","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/helpers/Flutterwave.js"],"names":["React","useEffect","useFlutterwave","closePaymentModal","_","v4","uuidv4","paymentTitle","stateWrapper","config","Flutterwave","props","title","value","data","configx","public_key","flutterwavePublicKey","tx_ref","amount","currency","payment_options","payment_plan","paymentPlanFlutterwave","customer","email","phone_number","phone","name","meta","numberOfMonths","numberOfWomen","isRecurring","customizations","description","logo","handleFlutterPayment","setToPayWithFlutterwave","callback","response","console","log","setPayToFalse","onClose"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,cAAT,EAAyBC,iBAAzB,QAAkD,sBAAlD;AACA,OAAO,KAAKC,CAAZ,MAAmB,QAAnB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,SAASC,MAAT,QAAuB,cAAvB;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAAA;;AACzB;AACA,QAAMC,KAAK,GAAGL,YAAd,CAFyB,CAGzB;;AACA,QAAMM,KAAK,GAAGF,KAAH,aAAGA,KAAH,uBAAGA,KAAK,CAAEG,IAArB,CAJyB,CAKzB;;AAEA,QAAMC,OAAO,GAAG;AACZC,IAAAA,UAAU,EAAEP,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEQ,oBADR;AAEZC,IAAAA,MAAM,EAAG,GAAEZ,MAAM,EAAG,EAFR;AAGZa,IAAAA,MAAM,EAAEN,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEM,MAHH;AAIZC,IAAAA,QAAQ,EAAE,KAJE;AAKZC,IAAAA,eAAe,EAAE,6DALL;AAMZC,IAAAA,YAAY,EAAET,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEU,sBANT;AAOZC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,KAAK,EAAEZ,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEY,KADN;AAERC,MAAAA,YAAY,EAAEb,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEc,KAFb;AAGRC,MAAAA,IAAI,EAAEf,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEe;AAHL,KAPE;AAYZC,IAAAA,IAAI,EAAE;AACFC,MAAAA,cAAc,EAAEjB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEiB,cADrB;AAEFC,MAAAA,aAAa,EAAElB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEkB,aAFpB;AAGFC,MAAAA;AAHE,KAZM;AAiBZC,IAAAA,cAAc,EAAE;AACdrB,MAAAA,KADc;AAEdsB,MAAAA,WAFc;AAGdC,MAAAA;AAHc;AAjBJ,GAAhB;AAwBA,QAAMC,oBAAoB,GAAGlC,cAAc,CAACa,OAAD,CAA3C;AAEAd,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACZ,uBAAGU,KAAK,CAACG,IAAT,gDAAG,YAAYuB,uBAAf,EAAwC;AACpCD,MAAAA,oBAAoB,CAAC;AACjBE,QAAAA,QAAQ,EAAGC,QAAD,IAAc;AACrBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EADqB,CAExB;;AACIpC,UAAAA,iBAAiB,GAHG,CAGA;;AACpBQ,UAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE+B,aAAP;AACH,SANgB;AAOjBC,QAAAA,OAAO,EAAE,MAAM;AACXhC,UAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE+B,aAAP;AACH;AATgB,OAAD,CAApB;AAWH,KAbW,CAchB;;AACC,GAfQ,EAeP,CAAC/B,KAAD,aAACA,KAAD,uCAACA,KAAK,CAAEG,IAAR,iDAAC,aAAauB,uBAAd,CAfO,CAAT;AAiBA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACH,CAnDD;;AAqDA,eAAe7B,YAAY,CAACE,WAAD,CAA3B,C,CAGA;AACA","sourcesContent":["import React, {useEffect} from 'react';\nimport { useFlutterwave, closePaymentModal } from 'flutterwave-react-v3';\nimport * as _ from 'lodash';\nimport { v4 as uuidv4 } from 'uuid';\nimport { paymentTitle } from '../App.constants';\nimport stateWrapper from \"../containers/provider\";\nimport { config } from '../appConfig';\n\nconst Flutterwave = props => {\n    // const logo = config?.agnesLogo;\n    const title = paymentTitle;\n    // const description = paymentDescription;\n    const value = props?.data;\n    // const isRecurring = (_.isUndefined(value?.paymentPlanFlutterwave) || _.isNull(value?.paymentPlanFlutterwave)) ? false : true\n    \n    const configx = {\n        public_key: config?.flutterwavePublicKey,\n        tx_ref: `${uuidv4()}`,\n        amount: value?.amount,\n        currency: 'NGN',\n        payment_options: 'card,mobilemoney,ussd,banktransfer,paga,credit,mpesa,barter',\n        payment_plan: value?.paymentPlanFlutterwave,\n        customer: {\n          email: value?.email,\n          phone_number: value?.phone,\n          name: value?.name\n        },\n        meta: {\n            numberOfMonths: value?.numberOfMonths,\n            numberOfWomen: value?.numberOfWomen,\n            isRecurring\n        },\n        customizations: {\n          title,\n          description,\n          logo\n        }\n    };\n    \n    const handleFlutterPayment = useFlutterwave(configx);\n    \n    useEffect(() => {\n        if(props.data?.setToPayWithFlutterwave) {\n            handleFlutterPayment({\n                callback: (response) => {\n                   console.log(response);\n                //    props.handleSubmit()\n                    closePaymentModal() // this will close the modal programmatically\n                    props?.setPayToFalse();\n                },\n                onClose: () => {\n                    props?.setPayToFalse();\n                },\n            });\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[props?.data?.setToPayWithFlutterwave])\n\n    return <div/>\n}\n\nexport default stateWrapper(Flutterwave);\n\n\n// <Flutterwave handleSubmit={handleSubmit} data={state} setPayToFalse={setPayToFalse}/>\n// "]},"metadata":{},"sourceType":"module"}