{"ast":null,"code":"import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../App.constants'; // Get token from local storage\n\nconst token = localStorage.getItem(\"token\");\n\nclass WritersContainer extends Container {\n  constructor() {\n    super();\n\n    this.getLibraryContent = (bearertoken, amount) => {\n      return new Promise((resolve, reject) => {\n        console.log(bearertoken);\n\n        try {\n          instance.get(`${process.env.REACT_APP_DATABASEURL}library`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          }).then(res => {\n            var _res$data, _res$data$data;\n\n            console.log(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$data = _res$data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.rows); // this.setState({\n            //   ...state,\n            //   library: res.data.data.rows,\n            // //   loading: false\n            // });\n          }).catch(e => {\n            console.log(e);\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      });\n    };\n\n    this.getWritersListOfProjects = bearertoken => {\n      console.log(bearertoken);\n      return new Promise((resolve, reject) => {\n        try {\n          instance.get(`${process.env.REACT_APP_DATABASEURL}project`, {\n            headers: {\n              Authorization: `Bearer ${bearertoken}`\n            }\n          }).then(res => {\n            var _res$data2, _res$data2$data;\n\n            resolve(res);\n            console.log(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$data = _res$data2.data) === null || _res$data2$data === void 0 ? void 0 : _res$data2$data.rows);\n          }).catch(e => {\n            console.log(e);\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      });\n    };\n\n    this.getProjectNotifications = (bearertoken, id) => {\n      console.log(id);\n      return new Promise((resolve, reject) => {\n        try {\n          instance.get(`${process.env.REACT_APP_DATABASEURL}/user/${id}/notifications`, {\n            headers: {\n              Authorization: `Bearer ${bearertoken}`\n            }\n          }).then(res => {\n            var _res$data3, _res$data3$data;\n\n            resolve(res);\n            console.log(res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$data = _res$data3.data) === null || _res$data3$data === void 0 ? void 0 : _res$data3$data.rows);\n          }).catch(e => {\n            console.log(e);\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      });\n    };\n\n    this.rejectProject = (bearertoken, id) => {\n      console.log(id);\n      return new Promise((resolve, reject) => {\n        try {\n          instance.get(`${process.env.REACT_APP_DATABASEURL}/user/${id}/notifications`, {\n            headers: {\n              Authorization: `Bearer ${bearertoken}`\n            }\n          }).then(res => {\n            var _res$data4, _res$data4$data;\n\n            resolve(res);\n            console.log(res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : (_res$data4$data = _res$data4.data) === null || _res$data4$data === void 0 ? void 0 : _res$data4$data.rows);\n          }).catch(e => {\n            console.log(e);\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      });\n    };\n\n    this.getWritersAccountBalance = id => {\n      return new Promise((resolve, reject) => {\n        console.log(id);\n        console.log(token);\n\n        try {\n          instance.get(`${process.env.REACT_APP_DATABASEURL}user/${id}/balance`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          }).then(res => {\n            console.log(res);\n            this.setState({\n              accountDetails: res === null || res === void 0 ? void 0 : res.data //   loading: false\n\n            }); // return res\n          }).catch(e => {\n            console.log(e);\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      });\n    };\n\n    this.state = {\n      sessionData: {\n        library: '',\n        accountDetails: null\n      }\n    };\n  } //Function to request withdrawal by the writer\n\n\n}\n\nexport { WritersContainer };","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/containers/WritersContainer.js"],"names":["Container","instance","LOCAL_STORAGE_SIGNIN_KEY","token","localStorage","getItem","WritersContainer","constructor","getLibraryContent","bearertoken","amount","Promise","resolve","reject","console","log","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","then","res","data","rows","catch","e","getWritersListOfProjects","getProjectNotifications","id","rejectProject","getWritersAccountBalance","setState","accountDetails","state","sessionData","library"],"mappings":"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","sourcesContent":["import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../App.constants'\n\n// Get token from local storage\nconst token = localStorage.getItem(\"token\");\n\nclass WritersContainer extends Container {\n  constructor() {\n    super();\n    this.state = {\n      sessionData: {\n        library: '',\n        accountDetails: null\n      },\n    };\n  }\n\n  //Function to request withdrawal by the writer\n  getLibraryContent = (bearertoken, amount) => {\n    return new Promise((resolve, reject) => {\n      console.log(bearertoken)\n      try {\n        instance\n          .get(`${process.env.REACT_APP_DATABASEURL}library`, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          })\n          .then((res) => {\n            console.log(res?.data?.data?.rows)\n            // this.setState({\n            //   ...state,\n            //   library: res.data.data.rows,\n            // //   loading: false\n            // });\n          })\n          .catch((e) => {\n            console.log(e)\n          })\n\n      } catch (e) {\n        console.log(e);\n      }\n\n\n    })\n  }\n\n  // Function to fetch project Assigned to writers\n  getWritersListOfProjects = (bearertoken) => {\n    console.log(bearertoken)\n    return new Promise((resolve, reject) => {\n      try {\n        instance\n          .get(`${process.env.REACT_APP_DATABASEURL}project`, {\n            headers: {\n              Authorization: `Bearer ${bearertoken}`,\n            },\n          })\n          .then((res) => {\n            resolve(res)\n            console.log(res?.data?.data?.rows)\n          })\n          .catch((e) => {\n            console.log(e)\n          })\n      }\n      catch (e){\n        console.log(e)\n      }\n  })\n  }\n\n  // Function to fetch project Notifications\n  getProjectNotifications = (bearertoken,id) => {\n    console.log(id)\n    return new Promise((resolve, reject) => {\n      try {\n        instance\n          .get(`${process.env.REACT_APP_DATABASEURL}/user/${id}/notifications`, {\n            headers: {\n              Authorization: `Bearer ${bearertoken}`,\n            },\n          })\n          .then((res) => {\n            resolve(res)\n            console.log(res?.data?.data?.rows)\n          })\n          .catch((e) => {\n            console.log(e)\n          })\n      }\n      catch (e){\n        console.log(e)\n      }\n  })\n  }\n\n  // Function to reject project\n  rejectProject = (bearertoken,id) => {\n    console.log(id)\n    return new Promise((resolve, reject) => {\n      try {\n        instance\n          .get(`${process.env.REACT_APP_DATABASEURL}/user/${id}/notifications`, {\n            headers: {\n              Authorization: `Bearer ${bearertoken}`,\n            },\n          })\n          .then((res) => {\n            resolve(res)\n            console.log(res?.data?.data?.rows)\n          })\n          .catch((e) => {\n            console.log(e)\n          })\n      }\n      catch (e){\n        console.log(e)\n      }\n  })\n  }\n\n\n  //Function to fetch writers wallet details\n  getWritersAccountBalance = (id) => {\n    return new Promise((resolve, reject) => {\n      console.log(id)\n      console.log(token)\n\n      try {\n        instance\n          .get(`${process.env.REACT_APP_DATABASEURL}user/${id}/balance`, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          })\n          .then((res) => {\n            console.log(res)\n            this.setState({\n              accountDetails: res?.data,\n              //   loading: false\n            });\n            // return res\n          })\n          .catch((e) => {\n            console.log(e)\n          })\n\n      } catch (e) {\n        console.log(e);\n      }\n\n\n    })\n  }\n\n}\nexport { WritersContainer };\n\n\n\n"]},"metadata":{},"sourceType":"module"}