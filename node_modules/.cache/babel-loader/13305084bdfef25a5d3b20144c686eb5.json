{"ast":null,"code":"import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../App.constants';\n\nclass SubjectContainer extends Container {\n  constructor() {\n    super();\n\n    this.fetchSubject = () => {\n      const token = localStorage.getItem(\"token\");\n      instance.get(`${process.env.REACT_APP_DATABASEURL}subject-area`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => {\n        const data = response.data.data.rows;\n        console.log(response.data.data.rows);\n        this.setState({\n          sessionData: {\n            subject: data\n          }\n        });\n        console.log(this.state.sessionData.subject);\n        return {};\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    this.deleteSubject = id => {\n      const token = localStorage.getItem(\"token\");\n      console.log(id);\n      instance.delete(`${process.env.REACT_APP_DATABASEURL}subject-area/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    this.state = {\n      sessionData: {\n        subject: []\n      }\n    };\n  }\n\n}\n\nexport { SubjectContainer };","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/containers/SubjectContainer.js"],"names":["Container","instance","LOCAL_STORAGE_SIGNIN_KEY","SubjectContainer","constructor","fetchSubject","token","localStorage","getItem","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","then","response","data","rows","console","log","setState","sessionData","subject","state","catch","e","deleteSubject","id","delete"],"mappings":"AAAA,SAASA,SAAT,QAA0B,UAA1B;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAAQC,wBAAR,QAAuC,kBAAvC;;AAGA,MAAMC,gBAAN,SAA+BH,SAA/B,CAAyC;AACvCI,EAAAA,WAAW,GAAG;AACZ;;AADY,SAUdC,YAVc,GAUC,MAAM;AACnB,YAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEKP,MAAAA,QAAQ,CACNQ,GADF,CACO,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,cAD3C,EAC0D;AACvDC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASR,KAAM;AADxB;AAD8C,OAD1D,EAKIS,IALJ,CAKUC,QAAD,IAAc;AAClB,cAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,IAAhC;AACFC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,IAA/B;AACA,aAAKG,QAAL,CAAc;AACVC,UAAAA,WAAW,EAAE;AACTC,YAAAA,OAAO,EAAEN;AADA;AADH,SAAd;AAMEE,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKI,KAAL,CAAWF,WAAX,CAAuBC,OAAnC;AACA,eAAO,EAAP;AACL,OAhBA,EAgBEE,KAhBF,CAgBSC,CAAD,IAAO;AACZP,QAAAA,OAAO,CAACC,GAAR,CAAYM,CAAZ;AACD,OAlBF;AAoBN,KAjCa;;AAAA,SAmCdC,aAnCc,GAmCGC,EAAD,IAAQ;AACtB,YAAMtB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAW,MAAAA,OAAO,CAACC,GAAR,CAAYQ,EAAZ;AACG3B,MAAAA,QAAQ,CACN4B,MADF,CACU,GAAEnB,OAAO,CAACC,GAAR,CAAYC,qBAAsB,gBAAegB,EAAG,EADhE,EACmE;AAChEf,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASR,KAAM;AADxB;AADuD,OADnE,EAKImB,KALJ,CAKWC,CAAD,IAAO;AACZP,QAAAA,OAAO,CAACC,GAAR,CAAYM,CAAZ;AACD,OAPJ;AASJ,KAhDa;;AAEZ,SAAKF,KAAL,GAAa;AACXF,MAAAA,WAAW,EAAE;AACXC,QAAAA,OAAO,EAAE;AADE;AADF,KAAb;AAKD;;AARsC;;AAuDzC,SAASpB,gBAAT","sourcesContent":["import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport {LOCAL_STORAGE_SIGNIN_KEY} from '../App.constants'\n\n\nclass SubjectContainer extends Container {\n  constructor() {\n    super();\n    this.state = {\n      sessionData: {\n        subject: []\n      },\n    };\n  }\n  \n\n  fetchSubject = () => {\n    const token = localStorage.getItem(\"token\")\n    \n         instance\n          .get(`${process.env.REACT_APP_DATABASEURL}subject-area`, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }).then((response) => {\n              const data = response.data.data.rows\n            console.log(response.data.data.rows)\n            this.setState({\n                sessionData: {\n                    subject: data\n                },\n                 \n              }); \n              console.log(this.state.sessionData.subject)\n              return {};\n        }).catch((e) => {\n            console.log(e);\n          }); \n       \n  };\n\n  deleteSubject = (id) => {\n    const token = localStorage.getItem(\"token\")\n   \n    console.log(id)\n       instance\n        .delete(`${process.env.REACT_APP_DATABASEURL}subject-area/${id}`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }).catch((e) => {\n            console.log(e);\n          });\n     \n  }\n\n \n  \n}\n\nexport { SubjectContainer };\n\n\n\n   "]},"metadata":{},"sourceType":"module"}