{"ast":null,"code":"var _jsxFileName = \"/Users/mac/writingPlatform/src/pages/Writer/Wallet/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Button, Card, CardBody, CardTitle, Modal, ModalHeader, ModalBody, ModalFooter, Media, Table } from \"reactstrap\";\nimport { Link } from \"react-router-dom\"; //Import Breadcrumb\n\nimport Breadcrumbs from \"../../components/Common/Breadcrumb\"; //i18n\n\nimport { withNamespaces } from \"react-i18next\";\nimport instance from \"../../helpers/axiosly\";\nimport stateWrapper from \"../../containers/provider\";\n\nconst Wallet = props => {\n  var _projectArr, _projectArr2, _projectArr3;\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await instance.get(`${process.env.REACT_APP_DATABASEURL}/order`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setProjecArray(res.data.data.rows); // get the total balance for all projects\n\n        let projectTotalBalance = res.data.data.rows.reduce(function (previousValue, currentValue) {\n          return {\n            balance: parseInt(previousValue.balance) + parseInt(currentValue.balance)\n          };\n        });\n        setState({\n          total_balance: projectTotalBalance.balance\n        });\n        console.log(\"projects for this user :\".res.data.data.rows);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    fetchData(); //eslint-disable-line\n  }, []); // const singleProjectPayment = async (id, user_id, amount, balance, redirect_url) => {\n  //   const res = await props.masterStore.deleteSpacing(id);\n  //   if(res.data.status == 'Success'){\n  //    setState({...state, alert: 'deleted'})\n  //    setTimeout(function(){\n  //     setState({...state, alert: ''})\n  //   }, 2000)\n  //   }\n  //   window.location.reload()\n  // }\n\n  const projectArr = () => {\n    return projectArray.find(i => {\n      return i.id == state.project;\n    });\n  };\n\n  const onChange = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    setState({ ...state,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumbs, {\n    title: props.t(\"Wallet\"),\n    breadcrumbItem: props.t(\"Wallet\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, \"Wallet\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }, \"Separate Existence is a myth\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-radio-custom \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"mdi mdi-bitcoin font-size-24 text-warning align-middle mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, \"Total Balance : \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 43\n    }\n  }, `$${state.total_balance}`, \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 23\n    }\n  }, \"Flutterwave is an online payment gateway that allows merchants and banks to accept, manage and process digital Wallet.\", \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"custom-select\",\n    value: state.project,\n    name: \"project\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, \"Select \"), projectArray.map((item, id) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.id,\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 29\n      }\n    }, item.topic);\n  }))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn btn-warning waves-effect waves-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 23\n    }\n  }, \" \", \"Pay All\")))))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, state.project === '' ? '' : /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, \"Project Topic :\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, (_projectArr = projectArr()) === null || _projectArr === void 0 ? void 0 : _projectArr.topic), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, \"Project Balance :\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  }, \"$\", (_projectArr2 = projectArr()) === null || _projectArr2 === void 0 ? void 0 : _projectArr2.balance), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn btn-warning waves-effect waves-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, \" \", \"Pay $\", (_projectArr3 = projectArr()) === null || _projectArr3 === void 0 ? void 0 : _projectArr3.balance))))))));\n};\n\nexport default withNamespaces()(stateWrapper(Wallet));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Writer/Wallet/index.js"],"names":["React","useState","useEffect","Container","Row","Col","Button","Card","CardBody","CardTitle","Modal","ModalHeader","ModalBody","ModalFooter","Media","Table","Link","Breadcrumbs","withNamespaces","instance","stateWrapper","Wallet","props","fetchData","token","localStorage","getItem","res","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","setProjecArray","data","rows","projectTotalBalance","reduce","previousValue","currentValue","balance","parseInt","setState","total_balance","console","log","e","projectArr","projectArray","find","i","id","state","project","onChange","name","value","target","t","map","item","topic"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Card,\n  CardBody,\n  CardTitle,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Media,\n  Table,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\nimport instance from \"../../helpers/axiosly\";\nimport stateWrapper from \"../../containers/provider\";\n\n\nconst Wallet = (props) => {\n\n  \n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const token = localStorage.getItem(\"token\")\n        const res = await instance\n          .get(`${process.env.REACT_APP_DATABASEURL}/order`, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          })\n\n        setProjecArray(res.data.data.rows)\n\n        // get the total balance for all projects\n        let projectTotalBalance = res.data.data.rows.reduce(function (previousValue, currentValue) {\n          return {\n            balance: parseInt(previousValue.balance) + parseInt(currentValue.balance)\n          }\n        });\n        setState({ total_balance: projectTotalBalance.balance })\n\n        console.log(\"projects for this user :\".res.data.data.rows)\n\n\n      } catch (e) {\n        console.log(e);\n      }\n    }\n    fetchData();\n\n\n    //eslint-disable-line\n  }, [])\n\n  // const singleProjectPayment = async (id, user_id, amount, balance, redirect_url) => {\n\n  //   const res = await props.masterStore.deleteSpacing(id);\n\n  //   if(res.data.status == 'Success'){\n  //    setState({...state, alert: 'deleted'})\n  //    setTimeout(function(){\n  //     setState({...state, alert: ''})\n  //   }, 2000)\n  //   }\n  //   window.location.reload()\n  // }\n\n  const projectArr = () => {\n    return projectArray.find(i => {\n      return i.id == state.project\n    })\n  }\n\n  const onChange = (e) => {\n    let { name, value } = e.target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  }\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Wallet\")}\n            breadcrumbItem={props.t(\"Wallet\")}\n          />\n\n          <Row>\n            <Col lg=\"8\">\n              <Card>\n                <CardBody>\n                  <h5>Wallet</h5>\n                  <p>Separate Existence is a myth</p>\n                  <div className=\"hr\"></div>\n\n                  <div className=\"mb-4\"></div>\n                  <Row>\n                    <Col lg=\"5\">\n                      <div class=\"card-radio-custom \">\n                        <i class=\"mdi mdi-bitcoin font-size-24 text-warning align-middle mr-2\"></i>\n                        <span>\n                          {/* Total Balance : <b>{`$${props.orderStore.state.sessionData.totalBalance}`} </b> */}\n                          Total Balance : <b>{`$${state.total_balance}`} </b>\n\n                        </span>\n                      </div>\n                      <div className=\"mb-4\"></div>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col lg=\"6\">\n                      <p>\n                        Flutterwave is an online payment gateway that allows\n                        merchants and banks to accept, manage and process\n                        digital Wallet.{\" \"}\n                      </p>\n                    </Col>\n                  </Row>\n\n                  <div className=\"mb-4\"></div>\n                  <Row>\n                    <Col lg=\"4\">\n                      <select\n                        className=\"custom-select\"\n                        value={state.project}\n                        name=\"project\"\n                        onChange={onChange}\n                      >\n                        <option defaultValue>Select </option>\n                        {projectArray.map((item, id) => {\n                          return (\n                            <option value={item.id} key={id}>\n                              {item.topic}\n                            </option>\n                          );\n                        })}\n                      </select>\n                    </Col>\n                    <Col lg=\"4\">\n                      <Button\n                        color=\"primary\"\n                        className=\"btn btn-warning waves-effect waves-light\"\n                      >\n                        {\" \"}\n                    Pay All\n                  </Button>\n                    </Col>\n                  </Row>\n\n                </CardBody>\n              </Card>\n            </Col>\n            <Col lg=\"4\">\n              {state.project === '' ? '' :\n                <Card>\n                  <CardBody>\n                    <p>\n                      Project Topic :</p>\n                    <p>\n                      {projectArr()?.topic}\n                    </p>\n                    <p>\n                      Project Balance :</p>\n                    <p>\n                      ${projectArr()?.balance}\n                    </p>\n\n                    <div className=\"mb-4\"></div>\n\n                    <Button\n                      color=\"primary\"\n                      className=\"btn btn-warning waves-effect waves-light\"\n                    >\n                      {\" \"}\n                    Pay ${projectArr()?.balance}\n                  </Button>\n                  </CardBody>\n                </Card>\n              }\n\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Wallet));\n"]},"metadata":{},"sourceType":"module"}