{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Button,Card,CardBody,CardTitle,Modal,ModalHeader,ModalBody,ModalFooter,Media,Table}from\"reactstrap\";import{Link}from\"react-router-dom\";//Import Breadcrumb\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";//i18n\nimport{withNamespaces}from\"react-i18next\";import instance from\"../../../helpers/axiosly\";import stateWrapper from\"../../../containers/provider\";var Wallet=function Wallet(props){var _useState=useState({requestStatus:\"\",showAlert:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){var _props$withdrawalStor,_props$withdrawalStor2,_props$withdrawalStor3;// fetch user data\nvar status=(_props$withdrawalStor=props.withdrawalStore)===null||_props$withdrawalStor===void 0?void 0:(_props$withdrawalStor2=_props$withdrawalStor.state)===null||_props$withdrawalStor2===void 0?void 0:(_props$withdrawalStor3=_props$withdrawalStor2.sessionData)===null||_props$withdrawalStor3===void 0?void 0:_props$withdrawalStor3.errorMessage;console.log(status);setState({requestStatus:status// showAlert: true\n});},[]);// function to send withdrawal request\nvar sendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _props$userStore,_props$userStore$stat,_props$userStore$stat2,_props$withdrawalStor4;var userData,amount,bearertoken,send;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setState({showAlert:true});_context.next=3;return props===null||props===void 0?void 0:(_props$userStore=props.userStore)===null||_props$userStore===void 0?void 0:(_props$userStore$stat=_props$userStore.state)===null||_props$userStore$stat===void 0?void 0:(_props$userStore$stat2=_props$userStore$stat.sessionData)===null||_props$userStore$stat2===void 0?void 0:_props$userStore$stat2.user;case 3:userData=_context.sent;console.log(userData);amount=\"20\";bearertoken=userData===null||userData===void 0?void 0:userData.access_token;console.log(bearertoken);_context.next=10;return props===null||props===void 0?void 0:(_props$withdrawalStor4=props.withdrawalStore)===null||_props$withdrawalStor4===void 0?void 0:_props$withdrawalStor4.requestWithdrawal(bearertoken,amount);case 10:send=_context.sent;console.log(send);// accessToken: \"\",\n//     userId: -1,\ncase 12:case\"end\":return _context.stop();}}},_callee);}));return function sendRequest(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-content\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Breadcrumbs,{title:props.t(\"Wallet\"),breadcrumbItem:props.t(\"Wallet\")}),state.showAlert?/*#__PURE__*/React.createElement(\"div\",null,state.requestStatus===\"success\"?/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info alert-dismissible fade show\",role:\"alert\"},/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-alert-circle-outline mr-2\"}),\" Withdrawal Request has been submitted successfully!\",/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-warning alert-dismissible fade show\",role:\"alert\"},/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-alert-circle-outline mr-2\"}),\" You don't have sufficient funds in your wallet !\",/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"})):'',/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h5\",null,\"Wallet\"),/*#__PURE__*/React.createElement(\"p\",null,\"Separate Existence is a myth\"),/*#__PURE__*/React.createElement(\"div\",{className:\"hr\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"5\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card-radio-custom \"},/*#__PURE__*/React.createElement(\"i\",{class:\"mdi mdi-bitcoin font-size-24 text-warning align-middle mr-2\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Balance : \",/*#__PURE__*/React.createElement(\"b\",null,\"$0 \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(\"p\",null,\"Flutterwave is an online payment gateway that allows merchants and banks to accept, manage and process digital Wallet.\",\" \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"4\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"btn btn-warning waves-effect waves-light\",onClick:sendRequest},\" \",\"Request Withdrawal\"))))))))));};export default withNamespaces()(stateWrapper(Wallet));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Writer/Wallet/index.js"],"names":["React","useState","useEffect","Container","Row","Col","Button","Card","CardBody","CardTitle","Modal","ModalHeader","ModalBody","ModalFooter","Media","Table","Link","Breadcrumbs","withNamespaces","instance","stateWrapper","Wallet","props","requestStatus","showAlert","state","setState","status","withdrawalStore","sessionData","errorMessage","console","log","sendRequest","userStore","user","userData","amount","bearertoken","access_token","requestWithdrawal","send","t"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Card,\n  CardBody,\n  CardTitle,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Media,\n  Table,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\n\n\nconst Wallet = (props) => {\n\n  const [state, setState] = useState({\n    requestStatus: \"\",\n    showAlert: false\n  })\n  useEffect(() => {\n    // fetch user data\n\n      let status = props.withdrawalStore?.state?.sessionData?.errorMessage;\n      console.log(status)\n  \n      setState({\n        requestStatus:status,\n        // showAlert: true\n      })\n  }, [])\n\n  // function to send withdrawal request\n\n  const sendRequest = async () => {\n    setState({\n      showAlert: true\n    })\n    let userData = await props?.userStore?.state?.sessionData?.user\n    console.log(userData)\n    let amount = \"20\";\n    let bearertoken = userData?.access_token;\n    console.log(bearertoken)\n    let send = await props?.withdrawalStore?.requestWithdrawal(bearertoken, amount);\n    console.log(send)\n\n    \n\n    // accessToken: \"\",\n    //     userId: -1,\n  }\n\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Wallet\")}\n            breadcrumbItem={props.t(\"Wallet\")}\n          />\n\n          {state.showAlert ? (\n\n            <div>\n              { state.requestStatus === \"success\" ? (\n              <div\n              className=\"alert alert-info alert-dismissible fade show\"\n              role=\"alert\"\n            >\n              <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> Withdrawal Request has been submitted successfully!\n            <button\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"alert\"\n                aria-label=\"Close\"\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n              ) : (\n                <div\n                className=\"alert alert-warning alert-dismissible fade show\"\n                role=\"alert\"\n              >\n                <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> You don't have sufficient funds in your wallet !\n              <button\n                  type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"alert\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              ) }\n              \n              <div className=\"mb-4\"></div>\n            </div>\n\n          ) :( '')}\n\n\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                  <h5>Wallet</h5>\n                  <p>Separate Existence is a myth</p>\n                  <div className=\"hr\"></div>\n\n                  <div className=\"mb-4\"></div>\n                  <Row>\n                    <Col lg=\"5\">\n                      <div class=\"card-radio-custom \">\n                        <i class=\"mdi mdi-bitcoin font-size-24 text-warning align-middle mr-2\"></i>\n                        <span>\n                          {/* Total Balance : <b>{`$${props.orderStore.state.sessionData.totalBalance}`} </b> */}\n                           Balance : <b>$0 </b>\n\n                        </span>\n                      </div>\n                      <div className=\"mb-4\"></div>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col lg=\"6\">\n                      <p>\n                        Flutterwave is an online payment gateway that allows\n                        merchants and banks to accept, manage and process\n                        digital Wallet.{\" \"}\n                      </p>\n                    </Col>\n                  </Row>\n\n                  <div className=\"mb-4\"></div>\n                  <Row>\n                    <Col lg=\"4\">\n                      <Button\n                        color=\"primary\"\n                        className=\"btn btn-warning waves-effect waves-light\"\n                        onClick={sendRequest}\n                      >\n                        {\" \"}\n                    Request Withdrawal\n                  </Button>\n                    </Col>\n                  </Row>\n\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Wallet));\n"]},"metadata":{},"sourceType":"module"}