{"ast":null,"code":"import _classCallCheck from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _inherits from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Container}from\"unstated\";import instance from\"../helpers/axiosly\";import CONSTANTS from\"../helpers/App.constant\";import{LOCAL_STORAGE_SIGNIN_KEY}from'../App.constants';var SupportContainer=/*#__PURE__*/function(_Container){_inherits(SupportContainer,_Container);var _super=_createSuper(SupportContainer);function SupportContainer(){var _this;_classCallCheck(this,SupportContainer);_this=_super.call(this);_this.goBack=function(props){props.history.goBack();};_this.createSupportTicket=function(_ref,bearertoken){var fullname=_ref.fullname,title=_ref.title,body=_ref.body,userId=_ref.userId;var token=localStorage.getItem(\"token\");instance.post(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/support\"),{title:title,body:body,userId:userId},{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(response){// console.log(\"status here \" , response.status);\nvar status=response.status==200?'passed':'failed';console.log(response.status);_this.setState({sessionData:{supportStatus:status}});var copySessionData;copySessionData=({},_this.state.sessionData);copySessionData.supportStatus=status;console.log(\"api res\",_this.state.sessionData.supportStatus);}).catch(function(e){return console.log(e);});};_this.state={sessionData:{user:null,accessToken:\"\",userId:-1,supportStatus:'default'}};return _this;}// signIn = ({ email, password }, props) => {\n//   instance\n//     .post(`${process.env.REACT_APP_DATABASEURL}/auth/login`, { email, password })\n//     .then((response) => {\n//       console.log(response.data.data);\n//       localStorage.setItem(LOCAL_STORAGE_SIGNIN_KEY, JSON.stringify(response.data.data));\n//       console.log(\"local storage data\", localStorage.getItem(LOCAL_STORAGE_SIGNIN_KEY));\n//       props.history.push(\"/dashboard\");\n//     })\n//     .catch((e) => {\n//       console.log(e);\n//     });\n// };\nreturn SupportContainer;}(Container);export{SupportContainer};","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/containers/SupportContainer.js"],"names":["Container","instance","CONSTANTS","LOCAL_STORAGE_SIGNIN_KEY","SupportContainer","goBack","props","history","createSupportTicket","bearertoken","fullname","title","body","userId","token","localStorage","getItem","post","process","env","REACT_APP_DATABASEURL","headers","then","response","status","console","log","setState","sessionData","supportStatus","copySessionData","state","catch","e","user","accessToken"],"mappings":"uaAAA,OAASA,SAAT,KAA0B,UAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,OAAQC,wBAAR,KAAuC,kBAAvC,C,GAEMC,CAAAA,gB,oHACJ,2BAAc,kDACZ,wBADY,MAWdC,MAXc,CAWL,SAACC,KAAD,CAAW,CAClBA,KAAK,CAACC,OAAN,CAAcF,MAAd,GACD,CAba,OAiBdG,mBAjBc,CAiBQ,cAAoCC,WAApC,CAAoD,IAAjDC,CAAAA,QAAiD,MAAjDA,QAAiD,CAAvCC,KAAuC,MAAvCA,KAAuC,CAAhCC,IAAgC,MAAhCA,IAAgC,CAA1BC,MAA0B,MAA1BA,MAA0B,CAExE,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACAf,QAAQ,CAACgB,IAAT,WAAiBC,OAAO,CAACC,GAAR,CAAYC,qBAA7B,aAA8D,CAAET,KAAK,CAALA,KAAF,CAASC,IAAI,CAAJA,IAAT,CAAeC,MAAM,CAANA,MAAf,CAA9D,CAAuF,CACrFQ,OAAO,CAAE,CACP,iCAA2BP,KAA3B,CADO,CAD4E,CAAvF,EAIGQ,IAJH,CAIQ,SAACC,QAAD,CAAc,CACpB;AACA,GAAMC,CAAAA,MAAM,CAAID,QAAQ,CAACC,MAAT,EAAmB,GAApB,CAA2B,QAA3B,CAAsC,QAArD,CACAC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,MAArB,EACE,MAAKG,QAAL,CAAc,CACZC,WAAW,CAAE,CACXC,aAAa,CAACL,MADH,CADD,CAAd,EAMA,GAAIM,CAAAA,eAAJ,CACAA,eAAe,EAAI,GAAI,MAAKC,KAAL,CAAWH,WAAnB,CAAf,CACAE,eAAe,CAACD,aAAhB,CAAgCL,MAAhC,CAEAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsB,MAAKK,KAAL,CAAWH,WAAX,CAAuBC,aAA7C,EACH,CAnBD,EAmBGG,KAnBH,CAmBS,SAAAC,CAAC,QAAIR,CAAAA,OAAO,CAACC,GAAR,CAAYO,CAAZ,CAAJ,EAnBV,EAoBD,CAxCa,CAEZ,MAAKF,KAAL,CAAa,CACXH,WAAW,CAAE,CACXM,IAAI,CAAE,IADK,CAEXC,WAAW,CAAE,EAFF,CAGXtB,MAAM,CAAE,CAAC,CAHE,CAIXgB,aAAa,CAAC,SAJH,CADF,CAAb,CAFY,aAUb,CAgCD;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;0BAxD6B7B,S,EA2D/B,OAASI,gBAAT","sourcesContent":["import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport CONSTANTS from \"../helpers/App.constant\";\nimport {LOCAL_STORAGE_SIGNIN_KEY} from '../App.constants'\n\nclass SupportContainer extends Container {\n  constructor() {\n    super();\n    this.state = {\n      sessionData: {\n        user: null,\n        accessToken: \"\",\n        userId: -1,\n        supportStatus:'default',\n      },\n    };\n  }\n  goBack = (props) => {\n    props.history.goBack();\n  };\n\n\n\n  createSupportTicket = ({ fullname, title, body, userId }, bearertoken) => {\n\n    const token = localStorage.getItem(\"token\")\n    instance.post(`${process.env.REACT_APP_DATABASEURL}/support`, { title, body, userId }, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then((response) => {\n      // console.log(\"status here \" , response.status);\n      const status = (response.status == 200) ? 'passed' : 'failed'\n      console.log(response.status)\n        this.setState({\n          sessionData: {\n            supportStatus:status,\n          },\n        })\n        \n        let copySessionData;\n        copySessionData = ({}, this.state.sessionData);\n        copySessionData.supportStatus = status;\n\n        console.log(\"api res\",this.state.sessionData.supportStatus)\n    }).catch(e => console.log(e))\n  };\n\n  // signIn = ({ email, password }, props) => {\n  //   instance\n  //     .post(`${process.env.REACT_APP_DATABASEURL}/auth/login`, { email, password })\n  //     .then((response) => {\n  //       console.log(response.data.data);\n  //       localStorage.setItem(LOCAL_STORAGE_SIGNIN_KEY, JSON.stringify(response.data.data));\n\n  //       console.log(\"local storage data\", localStorage.getItem(LOCAL_STORAGE_SIGNIN_KEY));\n  //       props.history.push(\"/dashboard\");\n  //     })\n  //     .catch((e) => {\n  //       console.log(e);\n  //     });\n  // };\n}\n\nexport { SupportContainer };\n"]},"metadata":{},"sourceType":"module"}