{"ast":null,"code":"import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../App.constants'; // Get token from local storage\n\nconst token = localStorage.getItem(\"token\");\n\nclass WritersContainer extends Container {\n  constructor() {\n    super();\n\n    this.getLibraryContent = (bearertoken, amount) => {\n      return new Promise((resolve, reject) => {\n        console.log(bearertoken);\n\n        try {\n          res = instance.get(`${process.env.REACT_APP_DATABASEURL}/library`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          }).then(() => {\n            console.log(res.data.data.rows);\n            setState({ ...state,\n              library: res.data.data.rows,\n              loading: false\n            });\n          }).catch(e);\n        } catch (e) {\n          console.log(e);\n        }\n      });\n    };\n\n    this.state = {\n      sessionData: {\n        serviceList: [],\n        errorMessage: ''\n      }\n    };\n  } //Function to request withdrawal by the writer\n\n\n}\n\nexport { WritersContainer };","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/containers/WritersContainer.js"],"names":["Container","instance","LOCAL_STORAGE_SIGNIN_KEY","token","localStorage","getItem","WritersContainer","constructor","getLibraryContent","bearertoken","amount","Promise","resolve","reject","console","log","res","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","then","data","rows","setState","state","library","loading","catch","e","sessionData","serviceList","errorMessage"],"mappings":"AAAA,SAASA,SAAT,QAA0B,UAA1B;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,wBAAT,QAAyC,kBAAzC,C,CAEA;;AACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AAEA,MAAMC,gBAAN,SAA+BN,SAA/B,CAAyC;AACvCO,EAAAA,WAAW,GAAG;AACZ;;AADY,SAYhBC,iBAZgB,GAYI,CAACC,WAAD,EAAcC,MAAd,KAAyB;AAC7C,aAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,QAAAA,OAAO,CAACC,GAAR,CAAYN,WAAZ;;AACA,YAAI;AACHO,UAAAA,GAAG,GAAGf,QAAQ,CACVgB,GADE,CACG,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,UADvC,EACkD;AACnDC,YAAAA,OAAO,EAAE;AACPC,cAAAA,aAAa,EAAG,UAASnB,KAAM;AADxB;AAD0C,WADlD,EAMFoB,IANE,CAMG,MAAK;AACTT,YAAAA,OAAO,CAACC,GAAR,CAAYC,GAAG,CAACQ,IAAJ,CAASA,IAAT,CAAcC,IAA1B;AACAC,YAAAA,QAAQ,CAAC,EACP,GAAGC,KADI;AAEPC,cAAAA,OAAO,EAAEZ,GAAG,CAACQ,IAAJ,CAASA,IAAT,CAAcC,IAFhB;AAGPI,cAAAA,OAAO,EAAE;AAHF,aAAD,CAAR;AAKD,WAbE,EAcFC,KAdE,CAcKC,CAdL,CAAN;AAgBA,SAjBD,CAiBE,OAAOA,CAAP,EAAU;AACVjB,UAAAA,OAAO,CAACC,GAAR,CAAYgB,CAAZ;AACD;AAGF,OAxBM,CAAP;AAyBC,KAtCe;;AAEZ,SAAKJ,KAAL,GAAa;AACXK,MAAAA,WAAW,EAAE;AACXC,QAAAA,WAAW,EAAE,EADF;AAEXC,QAAAA,YAAY,EAAE;AAFH;AADF,KAAb;AAMD,GATsC,CAWzC;;;AAXyC;;AA0CzC,SAAS5B,gBAAT","sourcesContent":["import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport { LOCAL_STORAGE_SIGNIN_KEY } from '../App.constants'\n\n// Get token from local storage\nconst token = localStorage.getItem(\"token\");\n\nclass WritersContainer extends Container {\n  constructor() {\n    super();\n    this.state = {\n      sessionData: {\n        serviceList: [],\n        errorMessage: ''\n      },\n    };\n  }\n\n//Function to request withdrawal by the writer\n\ngetLibraryContent = (bearertoken, amount) => {\nreturn new Promise((resolve, reject) => {\n  console.log(bearertoken)\n  try {\n   res = instance\n      .get(`${process.env.REACT_APP_DATABASEURL}/library`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(() =>{\n        console.log(res.data.data.rows)\n        setState({\n          ...state,\n          library: res.data.data.rows,\n          loading: false\n        });\n      })\n      .catch((e))\n      \n  } catch (e) {\n    console.log(e);\n  }\n  \n\n})\n}\n\n}\nexport { WritersContainer };\n\n\n\n"]},"metadata":{},"sourceType":"module"}