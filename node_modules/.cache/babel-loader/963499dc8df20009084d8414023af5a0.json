{"ast":null,"code":"import _classCallCheck from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _inherits from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Container}from\"unstated\";import instance from\"../helpers/axiosly\";import{LOCAL_STORAGE_SIGNIN_KEY}from'../App.constants';var SubjectContainer=/*#__PURE__*/function(_Container){_inherits(SubjectContainer,_Container);var _super=_createSuper(SubjectContainer);function SubjectContainer(){var _this;_classCallCheck(this,SubjectContainer);_this=_super.call(this);_this.fetchSubject=function(){var token=localStorage.getItem(\"token\");instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/subject-area\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){var data=response.data.data.rows;console.log(response.data.data.rows);_this.setState({sessionData:{subject:data}});console.log(_this.state.sessionData.subject);return{};}).catch(function(e){console.log(e);});};_this.deleteSubject=function(id){var token=localStorage.getItem(\"token\");console.log(id);instance.delete(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/subject-area/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).catch(function(e){console.log(e);});};_this.state={sessionData:{subject:[]}};return _this;}return SubjectContainer;}(Container);export{SubjectContainer};","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/containers/SubjectContainer.js"],"names":["Container","instance","LOCAL_STORAGE_SIGNIN_KEY","SubjectContainer","fetchSubject","token","localStorage","getItem","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","then","response","data","rows","console","log","setState","sessionData","subject","state","catch","e","deleteSubject","id","delete"],"mappings":"uaAAA,OAASA,SAAT,KAA0B,UAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,OAAQC,wBAAR,KAAuC,kBAAvC,C,GAGMC,CAAAA,gB,oHACJ,2BAAc,kDACZ,wBADY,MAUdC,YAVc,CAUC,UAAM,CACnB,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAEKN,QAAQ,CACNO,GADF,WACSC,OAAO,CAACC,GAAR,CAAYC,qBADrB,kBAC2D,CACxDC,OAAO,CAAE,CACPC,aAAa,kBAAYR,KAAZ,CADN,CAD+C,CAD3D,EAKIS,IALJ,CAKS,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,IAAhC,CACFC,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,IAA/B,EACA,MAAKG,QAAL,CAAc,CACVC,WAAW,CAAE,CACTC,OAAO,CAAEN,IADA,CADH,CAAd,EAMEE,OAAO,CAACC,GAAR,CAAY,MAAKI,KAAL,CAAWF,WAAX,CAAuBC,OAAnC,EACA,MAAO,EAAP,CACL,CAhBA,EAgBEE,KAhBF,CAgBQ,SAACC,CAAD,CAAO,CACZP,OAAO,CAACC,GAAR,CAAYM,CAAZ,EACD,CAlBF,EAoBN,CAjCa,OAmCdC,aAnCc,CAmCE,SAACC,EAAD,CAAQ,CACtB,GAAMtB,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAEAW,OAAO,CAACC,GAAR,CAAYQ,EAAZ,EACG1B,QAAQ,CACN2B,MADF,WACYnB,OAAO,CAACC,GAAR,CAAYC,qBADxB,0BAC8DgB,EAD9D,EACoE,CACjEf,OAAO,CAAE,CACPC,aAAa,kBAAYR,KAAZ,CADN,CADwD,CADpE,EAKImB,KALJ,CAKU,SAACC,CAAD,CAAO,CACZP,OAAO,CAACC,GAAR,CAAYM,CAAZ,EACD,CAPJ,EASJ,CAhDa,CAEZ,MAAKF,KAAL,CAAa,CACXF,WAAW,CAAE,CACXC,OAAO,CAAE,EADE,CADF,CAAb,CAFY,aAOb,C,0BAR4BtB,S,EAuD/B,OAASG,gBAAT","sourcesContent":["import { Container } from \"unstated\";\nimport instance from \"../helpers/axiosly\";\nimport {LOCAL_STORAGE_SIGNIN_KEY} from '../App.constants'\n\n\nclass SubjectContainer extends Container {\n  constructor() {\n    super();\n    this.state = {\n      sessionData: {\n        subject: []\n      },\n    };\n  }\n  \n\n  fetchSubject = () => {\n    const token = localStorage.getItem(\"token\")\n    \n         instance\n          .get(`${process.env.REACT_APP_DATABASEURL}/subject-area`, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }).then((response) => {\n              const data = response.data.data.rows\n            console.log(response.data.data.rows)\n            this.setState({\n                sessionData: {\n                    subject: data\n                },\n                 \n              }); \n              console.log(this.state.sessionData.subject)\n              return {};\n        }).catch((e) => {\n            console.log(e);\n          }); \n       \n  };\n\n  deleteSubject = (id) => {\n    const token = localStorage.getItem(\"token\")\n   \n    console.log(id)\n       instance\n        .delete(`${process.env.REACT_APP_DATABASEURL}/subject-area/${id}`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }).catch((e) => {\n            console.log(e);\n          });\n     \n  }\n\n \n  \n}\n\nexport { SubjectContainer };\n\n\n\n   "]},"metadata":{},"sourceType":"module"}