{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container,Row,Col,Card,CardBody,CardTitle}from\"reactstrap\";import{Link}from\"react-router-dom\";import instance from\"../../../helpers/axiosly\";import stateWrapper from\"../../../containers/provider\";import{withNamespaces}from\"react-i18next\";import Moment from'react-moment';var Orderpage=function Orderpage(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState({loading:false}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];useEffect(function(){setState(_objectSpread(_objectSpread({},state),{},{loading:true}));function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=localStorage.getItem(\"token\");_context.next=4;return instance.get(\"\".concat(process.env.REACT_APP_DATABASEURL,\"/order\"),{headers:{Authorization:\"Bearer \".concat(token)}});case 4:res=_context.sent;setState(_objectSpread(_objectSpread({},state),{},{loading:false}));setOrders(res.data.data.rows);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return _fetchData.apply(this,arguments);}fetchData();//eslint-disable-line\n},[]);var order=orders.filter(function(e){return e.id===Number(props.match.params.id);});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-content\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,{className:\"mb-4\"},\"ORDER\"),state.loading?/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")):/*#__PURE__*/React.createElement(\"div\",null,order.map(function(x,key){return/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-centered table-nowrap mb-0\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-light\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Project Topic\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"text-body font-weight-bold\"},\" \",x.topic,\" \"),\" \")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Status\"),/*#__PURE__*/React.createElement(\"td\",null,x.status)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total Amount\"),/*#__PURE__*/React.createElement(\"td\",null,x.amount)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Academic Level\"),/*#__PURE__*/React.createElement(\"td\",null,x.academic_level)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Urgency\"),/*#__PURE__*/React.createElement(\"td\",null,x.urgency)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Created At\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Moment,{format:\"YYYY/MM/DD\"},x.createdAt),\" \"))),/*#__PURE__*/React.createElement(\"tbody\",null)));})))))))));};export default withNamespaces()(stateWrapper(Orderpage));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/SuperAdmin/Order/Orderpage.js"],"names":["React","useEffect","useState","Container","Row","Col","Card","CardBody","CardTitle","Link","instance","stateWrapper","withNamespaces","Moment","Orderpage","props","orders","setOrders","loading","state","setState","fetchData","token","localStorage","getItem","get","process","env","REACT_APP_DATABASEURL","headers","Authorization","res","data","rows","console","log","order","filter","e","id","Number","match","params","map","x","key","topic","status","amount","academic_level","urgency","createdAt"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {  Container, Row, Col, Card, CardBody, CardTitle } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport instance from \"../../../helpers/axiosly\";\nimport stateWrapper from \"../../../containers/provider\";\nimport { withNamespaces } from \"react-i18next\";\nimport Moment from 'react-moment'\n\n\nconst Orderpage = (props) => {\n  \n   \n  const[orders, setOrders] = useState([]);\n  const[state, setState] = useState({\n    loading: false\n  })\n\n  useEffect(() => {\n    setState({...state, loading: true})\n    async function fetchData(){ \n    try {\n      const token = localStorage.getItem(\"token\")\n      const res = await instance\n        .get(`${process.env.REACT_APP_DATABASEURL}/order`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        setState({...state, loading: false})\n        setOrders(res.data.data.rows)\n      \n\n \n\n    } catch (e) {\n      console.log(e);\n    }\n    }\n    fetchData();\n    //eslint-disable-line\n  }, [])\n  \n  \n  const order = orders.filter((e) => e.id === Number(props.match.params.id))\n\n\n  return (\n    <React.Fragment>    \n        <div className=\"page-content\">\n        <Container fluid>\n        <Row>\n        <Col lg=\"12\">\n        <Card>\n         <CardBody>\n           <CardTitle className=\"mb-4\">ORDER</CardTitle> \n           {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                  </div>):\n                  (\n                    <div>\n                         {order.map((x, key) => ( \n           <div className=\"table-responsive\">\n            <table className=\"table table-centered table-nowrap mb-0\">\n              <thead className=\"thead-light\">\n                <tr>\n                  <th>Project Topic</th>\n                  <td>\n                      <Link to=\"#\" className=\"text-body font-weight-bold\">\n                        {\" \"}\n                        {x.topic}{\" \"}\n                      </Link>{\" \"}\n                    </td>\n                 \n                </tr>\n                <tr>\n                    <th>Status</th>\n                    <td>{x.status}</td>\n                </tr>\n                <tr>\n                    <th>Total Amount</th>\n                    <td>{x.amount}</td>\n                </tr>\n                <tr>\n                    <th>Academic Level</th>\n                    <td>{x.academic_level}</td>\n                </tr>\n                <tr>\n                    <th>Urgency</th>\n                    <td>{x.urgency}</td>\n                </tr>\n                <tr>\n                    <th>Created At</th>\n                    <td><Moment format=\"YYYY/MM/DD\">{x.createdAt}</Moment> </td>\n                </tr>\n                               \n              </thead>\n              <tbody>            \n              </tbody>\n            </table>\n          </div>\n          ))}\n                    </div>\n                  )}\n          \n         </CardBody>\n       </Card>   \n        </Col>\n        </Row>\n        </Container>\n    </div>\n         \n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Orderpage));"]},"metadata":{},"sourceType":"module"}