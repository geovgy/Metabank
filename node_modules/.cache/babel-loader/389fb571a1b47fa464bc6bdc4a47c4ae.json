{"ast":null,"code":"import _objectSpread from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/writingPlatform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Card,CardBody,CardTitle,NavItem,NavLink,Label,Input,Form,FormGroup}from\"reactstrap\";import{Link}from\"react-router-dom\";import modalimage1 from\"../../assets/images/product/img-7.png\";import modalimage2 from\"../../assets/images/product/img-4.png\";import*as _ from\"lodash\";// availity-reactstrap-validation\nimport{AvForm,AvField,Button}from\"availity-reactstrap-validation\";//Import Breadcrumb\nimport Breadcrumbs from\"../../components/Common/Breadcrumb\";import stateWrapper from\"../../containers/provider\";//i18n\nimport{withNamespaces}from\"react-i18next\";import AvInput from\"availity-reactstrap-validation/lib/AvInput\";var Support=function Support(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setmodal=_useState2[1];var _useState3=useState({title:\"\",body:\"\",userId:\"\",fullname:\"\",success:\"\",loading:false}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];// handleValidSubmit\nfunction handleValidSubmit(event,values){setState(_objectSpread(_objectSpread({},state),{},{loading:true}));//   event.preventDefault();\nconsole.log(\"check support values : \",values);props.supportStore.createSupportTicket(values);setState(_objectSpread(_objectSpread({},state),{},{success:\"passed\",loading:false}));}useEffect(function(){// => console.log(state.success),[state.success])\nvar userData,supportData;userData=props.userStore.fetchUser(props);// supportData = props.supportStore.state;\nsupportData=props.supportStore.createSupportTicket(props);console.log(supportData);console.log(\"user id in profile\",userData.id);// console.log(\"support state\", supportData.sessionData.supportStatus);\nif(!_.isEmpty(userData)){setState(_objectSpread(_objectSpread({},state),{},{userId:userData.id// success : supportData.sessionData.supportStatus\n}));}else if(supportData==\"passed\"){setState(_objectSpread(_objectSpread({},state),{},{success:\"passed\"}));}else{alert(\"not available\");}},[state.success]);console.log(\"suppor props\",state.success);console.log(\"suppor props new\",state.success,[state.success]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-content\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Breadcrumbs,{title:props.t(\"Support\"),breadcrumbItem:props.t(\"Support\")}),state.success==\"passed\"?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info alert-dismissible fade show\",role:\"alert\"},/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-alert-circle-outline mr-2\"}),\" Your support ticket have been submitted successfully !\",/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"})):\"\",/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,null,\"SUPPORT \"),state.loading?/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")):/*#__PURE__*/React.createElement(AvForm,{className:\"form-horizontal\",onValidSubmit:function onValidSubmit(e,v){handleValidSubmit(e,v);}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,{style:{display:\"none\"}},/*#__PURE__*/React.createElement(AvField,{name:\"userId\",value:state.userId,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{userId:e.target.value}));},className:\"form-control\",type:\"text\"})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input14\"},\"Full Name\"),/*#__PURE__*/React.createElement(AvField,{name:\"fullname\",value:state.fullname,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{fullname:e.target.value}));},className:\"form-control\",placeholder:\"Enter Full Name\",type:\"text\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input14\"},\"Subject\"),/*#__PURE__*/React.createElement(AvField,{name:\"title\",value:state.title,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{title:e.target.value}));},className:\"form-control\",placeholder:\"Enter Subject\",type:\"text\",required:true})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"basicpill-firstname-input14\"},\"Support Description\"),/*#__PURE__*/React.createElement(AvInput,{name:\"body\",value:state.body,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{body:e.target.value}));},className:\"form-control\",placeholder:\"Enter Description\",type:\"textarea\",rows:\"11\",required:true})))),/*#__PURE__*/React.createElement(\"div\",{className:\" \"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary waves-effect waves-light\",type:\"submit\"},\"Submit\"))))))))));};export default withNamespaces()(stateWrapper(Support));","map":{"version":3,"sources":["/Users/mac/writingPlatform/src/pages/Support/Support.js"],"names":["React","useState","useEffect","Container","Row","Col","Card","CardBody","CardTitle","NavItem","NavLink","Label","Input","Form","FormGroup","Link","modalimage1","modalimage2","_","AvForm","AvField","Button","Breadcrumbs","stateWrapper","withNamespaces","AvInput","Support","props","modal","setmodal","title","body","userId","fullname","success","loading","state","setState","handleValidSubmit","event","values","console","log","supportStore","createSupportTicket","userData","supportData","userStore","fetchUser","id","isEmpty","alert","t","e","v","display","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardTitle,\n  NavItem,\n  NavLink,\n  Label,\n  Input,\n  Form,\n  FormGroup,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\n\nimport modalimage1 from \"../../assets/images/product/img-7.png\";\nimport modalimage2 from \"../../assets/images/product/img-4.png\";\n\nimport * as _ from \"lodash\";\n\n// availity-reactstrap-validation\nimport { AvForm, AvField, Button } from \"availity-reactstrap-validation\";\n\n//Import Breadcrumb\nimport Breadcrumbs from \"../../components/Common/Breadcrumb\";\n\nimport stateWrapper from \"../../containers/provider\";\n\n//i18n\nimport { withNamespaces } from \"react-i18next\";\nimport AvInput from \"availity-reactstrap-validation/lib/AvInput\";\n\nconst Support = (props) => {\n  const [modal, setmodal] = useState(false);\n  const [state, setState] = useState({\n    title: \"\",\n    body: \"\",\n    userId: \"\",\n    fullname: \"\",\n    success: \"\",\n    loading: false\n  });\n\n\n  // handleValidSubmit\n  function handleValidSubmit(event, values) {\n    setState({...state, loading: true})\n    //   event.preventDefault();\n    console.log(\"check support values : \", values);\n    props.supportStore.createSupportTicket(values)\n    setState({\n      ...state,\n      success: \"passed\",\n      loading: false\n    });\n  }\n\n  useEffect(() => {\n\n    // => console.log(state.success),[state.success])\n    let userData, supportData;\n    userData = props.userStore.fetchUser(props);\n    // supportData = props.supportStore.state;\n    supportData = props.supportStore.createSupportTicket(props);\n    console.log(supportData);\n    console.log(\"user id in profile\", userData.id);\n    // console.log(\"support state\", supportData.sessionData.supportStatus);\n\n    if (!_.isEmpty(userData)) {\n      setState({\n        ...state,\n        userId: userData.id,\n        // success : supportData.sessionData.supportStatus\n      });\n    } else if (supportData == \"passed\") {\n      setState({\n        ...state,\n        success: \"passed\",\n      });\n    } else {\n      alert(\"not available\");\n    }\n  }, [state.success]);\n  console.log(\"suppor props\", state.success);\n  console.log(\"suppor props new\", state.success, [state.success]);\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        <Container fluid>\n          {/* Render Breadcrumb */}\n          <Breadcrumbs\n            title={props.t(\"Support\")}\n            breadcrumbItem={props.t(\"Support\")}\n          />\n          {state.success == \"passed\" ? (\n            <div>\n              <div\n                className=\"alert alert-info alert-dismissible fade show\"\n                role=\"alert\"\n              >\n                <i className=\"mdi mdi-alert-circle-outline mr-2\"></i> Your support\n                ticket have been submitted successfully !\n\n                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div className=\"mb-4\"></div>\n            </div>\n          ) : (\n            \"\"\n          )}\n\n          <Row>\n            <Col lg=\"12\">\n              <Card>\n                <CardBody>\n                  <CardTitle>SUPPORT </CardTitle>\n                  {state.loading ? (<div class=\"spinner-border\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                  </div>): (\n                    <AvForm\n                    className=\"form-horizontal\"\n                    onValidSubmit={(e, v) => {\n                      handleValidSubmit(e, v);\n                    }}\n                  >\n                    <Row>\n                      <Col lg=\"6\">\n                        <FormGroup style={{ display: \"none\" }}>\n                          <AvField\n                            name=\"userId\"\n                            value={state.userId}\n                            onChange={(e) =>\n                              setState({ ...state, userId: e.target.value })\n                            }\n                            className=\"form-control\"\n                            type=\"text\"\n                          />\n                        </FormGroup>\n                        <FormGroup>\n                          <Label for=\"basicpill-firstname-input14\">\n                            Full Name\n                          </Label>\n                          <AvField\n                            name=\"fullname\"\n                            value={state.fullname}\n                            onChange={(e) =>\n                              setState({ ...state, fullname: e.target.value })\n                            }\n                            className=\"form-control\"\n                            placeholder=\"Enter Full Name\"\n                            type=\"text\"\n                          />\n                        </FormGroup>\n                      </Col>\n\n                      <Col lg=\"6\">\n                        <FormGroup>\n                          <Label for=\"basicpill-firstname-input14\">\n                            Subject\n                          </Label>\n\n                          <AvField\n                            name=\"title\"\n                            value={state.title}\n                            onChange={(e) =>\n                              setState({ ...state, title: e.target.value })\n                            }\n                            className=\"form-control\"\n                            placeholder=\"Enter Subject\"\n                            type=\"text\"\n                            required\n                          />\n                        </FormGroup>\n                      </Col>\n                    </Row>\n\n                    <Row>\n                      <Col lg=\"12\">\n                        <FormGroup>\n                          <Label for=\"basicpill-firstname-input14\">\n                            Support Description\n                          </Label>\n                          {/* <textarea\n                            placeholder=\"Enter description\"\n                            id=\"basicpill-address-input2\"\n                            className=\"form-control\"\n                            rows=\"11\"\n                          ></textarea> */}\n\n                          <AvInput\n                            name=\"body\"\n                            value={state.body}\n                            onChange={(e) =>\n                              setState({ ...state, body: e.target.value })\n                            }\n                            className=\"form-control\"\n                            placeholder=\"Enter Description\"\n                            type=\"textarea\"\n                            rows=\"11\"\n                            required\n                          />\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                    {/* <Link\n                      className=\"btn btn-primary waves-effect waves-light\"\n                      to=\"#\"\n                    >\n                      Submit\n                    </Link> */}\n                    <div className=\" \">\n                      <button\n                        className=\"btn btn-primary waves-effect waves-light\"\n                        type=\"submit\"\n                      >\n                        Submit\n                      </button>\n                    </div>\n                  </AvForm>\n                  )}\n\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withNamespaces()(stateWrapper(Support));\n"]},"metadata":{},"sourceType":"module"}